<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>2025å¹´4æœˆ15æ—¥Acwingæé«˜è¯¾</title>
    <link href="/2025/04/15/20250415-Acwing/"/>
    <url>/2025/04/15/20250415-Acwing/</url>
    
    <content type="html"><![CDATA[<h1 id="1015-æ‘˜èŠ±ç”Ÿ"><a href="#1015-æ‘˜èŠ±ç”Ÿ" class="headerlink" title="1015. æ‘˜èŠ±ç”Ÿ"></a>1015. æ‘˜èŠ±ç”Ÿ</h1><h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>| <a href="https://www.acwing.com/problem/content/description/1017/">https://www.acwing.com/problem/content/description/1017/</a></p><p>Hello Kittyæƒ³æ‘˜ç‚¹èŠ±ç”Ÿé€ç»™å¥¹å–œæ¬¢çš„ç±³è€é¼ ã€‚å¥¹æ¥åˆ°ä¸€ç‰‡æœ‰ç½‘æ ¼çŠ¶é“è·¯çš„çŸ©å½¢èŠ±ç”Ÿåœ°(å¦‚ä¸‹å›¾)ï¼Œä»è¥¿åŒ—è§’è¿›å»ï¼Œä¸œå—è§’å‡ºæ¥ã€‚åœ°é‡Œæ¯ä¸ªé“è·¯çš„äº¤å‰ç‚¹ä¸Šéƒ½æœ‰ç§ç€ä¸€æ ªèŠ±ç”Ÿè‹—ï¼Œä¸Šé¢æœ‰è‹¥å¹²é¢—èŠ±ç”Ÿï¼Œç»è¿‡ä¸€æ ªèŠ±ç”Ÿè‹—å°±èƒ½æ‘˜èµ°è¯¥å®ƒä¸Šé¢æ‰€æœ‰çš„èŠ±ç”Ÿã€‚Hello Kittyåªèƒ½<code>å‘ä¸œ</code>æˆ–<code>å‘å—</code>èµ°ï¼Œä¸èƒ½å‘è¥¿æˆ–å‘åŒ—èµ°ã€‚é—®Hello Kitty<code>æœ€å¤šèƒ½å¤Ÿæ‘˜åˆ°å¤šå°‘é¢—èŠ±ç”Ÿ</code>ã€‚</p><p><img src="/2025/04/15/20250415-Acwing/image.png" alt="alt text"></p><h2 id="ä»£ç ç¼–å†™"><a href="#ä»£ç ç¼–å†™" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h2><p>æ€è·¯åˆ†æï¼š$f[i][j]$è¡¨ç¤ºä»$[1,1]$ç‚¹åˆ°$[i,j]$ç‚¹ï¼ˆåŒ…æ‹¬$[i,j]$ï¼‰æ‰€æ‘˜å–èŠ±ç”Ÿçš„æœ€å¤§è·¯å¾„å’Œï¼Œå…¶å¯¹åº”çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<br>    $$<br>    f[i][j] &#x3D; \max(f[i-1][j], f[i][j-1]) + a[i][j]<br>    $$<br>è½¬ç§»é¡ºåºï¼šä»ä¸Šåˆ°ä¸‹ä»å·¦åˆ°å³ï¼›</p><p>åˆå§‹å€¼ï¼š$f[1][1] &#x3D; a[1][1]$,å¹¶ä¸”$f[0][j]$ä¸$f[i][0]$ä¸º0</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">110</span>;<br><span class="hljs-type">int</span> R,C;<br><span class="hljs-type">int</span> a[N][N];<br><span class="hljs-type">int</span> f[N][N];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//ç¬¬ä¸€è¡Œæ•´æ•°Tï¼Œä»£è¡¨æœ‰å¤šå°‘ç»„æ•°æ®</span><br>    <span class="hljs-type">int</span> T =<span class="hljs-number">0</span>;<br>    cin&gt;&gt;T;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> t =<span class="hljs-number">0</span>;t&lt;T;t++)<br>    &#123;<br>        <span class="hljs-comment">//ä»£è¡¨èŠ±ç”Ÿè‹—çš„è¡Œæ•°Rå’Œåˆ—æ•°C</span><br>        cin&gt;&gt;R&gt;&gt;C;<br>        <span class="hljs-built_in">memset</span>(f, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(f));<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i&lt;=R;i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j&lt;=C;j++)<br>            &#123;<br>                cin&gt;&gt;a[i][j];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i&lt;=R;i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j&lt;=C;j++)<br>            &#123;<br>                f[i][j] = <span class="hljs-built_in">max</span>(f[i<span class="hljs-number">-1</span>][j],f[i][j<span class="hljs-number">-1</span>])+a[i][j];<br>            &#125;<br>        &#125;<br>        cout&lt;&lt;f[R][C]&lt;&lt;endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="1018-æœ€ä½é€šè¡Œè´¹"><a href="#1018-æœ€ä½é€šè¡Œè´¹" class="headerlink" title="1018.æœ€ä½é€šè¡Œè´¹"></a>1018.æœ€ä½é€šè¡Œè´¹</h1><h2 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ä¸€ä¸ªå•†äººè¦ç©¿è¶Šä¸€ä¸ªğ‘Ã—ğ‘çš„æ­£æ–¹å½¢ç½‘æ ¼ï¼Œå‰å¾€å‚åŠ ä¸€åœºéå¸¸é‡è¦çš„å•†åŠ¡æ´»åŠ¨ã€‚ä»–ä»ç½‘æ ¼çš„å·¦ä¸Šè§’è¿›å…¥ï¼Œå³ä¸‹è§’ç¦»å¼€ã€‚åœ¨ç©¿è¶Šè¿‡ç¨‹ä¸­ï¼Œæ¯ç»è¿‡ä¸€ä¸ªå°æ–¹æ ¼éœ€è¦èŠ±è´¹ 1 ä¸ªå•ä½æ—¶é—´ï¼ŒåŒæ—¶è¿˜éœ€ç¼´çº³ä¸€å®šçš„è´¹ç”¨ã€‚å•†äººå¿…é¡»æ°å¥½åœ¨<code>2N-1</code>ä¸ªå•ä½æ—¶é—´å†…å®Œæˆç©¿è¶Šï¼Œå¹¶å¸Œæœ›åœ¨æ»¡è¶³æ—¶é—´è¦æ±‚çš„å‰æä¸‹ï¼Œä½¿æ‰€ç¼´çº³çš„æ€»è´¹ç”¨æœ€å°‘ã€‚è¯·é—®ä»–è‡³å°‘éœ€è¦ç¼´çº³å¤šå°‘è´¹ç”¨ï¼Ÿæ³¨æ„ï¼šå•†äººæ¯æ¬¡åªèƒ½å‘ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ç§»åŠ¨ï¼Œä¸èƒ½å¯¹è§’ç©¿è¶Šæˆ–èµ°å‡ºç½‘æ ¼ã€‚</p><h2 id="ä»£ç ç¼–å†™ï¼š"><a href="#ä»£ç ç¼–å†™ï¼š" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><p>è‹¥è¦ç©¿è¶Šå‡ºç½‘æ ¼ï¼Œ<code>åˆ™å¿…é¡»ä¸èƒ½èµ°å›å¤´è·¯</code>ï¼Œ<code>åªèƒ½å‘å³å‘å·¦è¿›è¡Œç§»åŠ¨</code>ã€‚<br>æ€è·¯åˆ†æï¼š$f[i][j]$è¡¨ç¤ºä»$[1,1]$ç‚¹åˆ°$[i,j]$ç‚¹ï¼ˆåŒ…æ‹¬$[i,j]$ï¼‰æ‰€æ‘˜å–èŠ±ç”Ÿçš„æœ€å¤§è·¯å¾„å’Œï¼Œå…¶å¯¹åº”çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<br>    $$<br>    f[i][j] &#x3D; \min(f[i-1][j], f[i][j-1]) + a[i][j]<br>    $$<br>è½¬ç§»é¡ºåºï¼šä»ä¸Šåˆ°ä¸‹ä»å·¦åˆ°å³ï¼›</p><p>åˆå§‹å€¼ï¼š$f[1][1] &#x3D; a[1][1]$,å¹¶ä¸”$f[0][j]$ä¸$f[i][0]$ä¸º0</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">110</span>;<br><span class="hljs-type">int</span> R,C;<br><span class="hljs-type">int</span> a[N][N];<br><span class="hljs-type">int</span> f[N][N];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//ç¬¬ä¸€è¡Œæ•´æ•°Tï¼Œä»£è¡¨æœ‰å¤šå°‘ç»„æ•°æ®</span><br>    <span class="hljs-type">int</span> T =<span class="hljs-number">0</span>;<br>    cin&gt;&gt;T;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> t =<span class="hljs-number">0</span>;t&lt;T;t++)<br>    &#123;<br>        <span class="hljs-comment">//ä»£è¡¨èŠ±ç”Ÿè‹—çš„è¡Œæ•°Rå’Œåˆ—æ•°C</span><br>        cin&gt;&gt;R&gt;&gt;C;<br>        <span class="hljs-built_in">memset</span>(f, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(f));<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i&lt;=R;i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j&lt;=C;j++)<br>            &#123;<br>                cin&gt;&gt;a[i][j];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i&lt;=R;i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j&lt;=C;j++)<br>            &#123;<br>                f[i][j] = <span class="hljs-built_in">min</span>(f[i<span class="hljs-number">-1</span>][j],f[i][j<span class="hljs-number">-1</span>])+a[i][j];<br>            &#125;<br>        &#125;<br>        cout&lt;&lt;f[R][C]&lt;&lt;endl;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="Acwing-1027-æ–¹æ ¼å–æ•°"><a href="#Acwing-1027-æ–¹æ ¼å–æ•°" class="headerlink" title="Acwing 1027 æ–¹æ ¼å–æ•°"></a>Acwing 1027 æ–¹æ ¼å–æ•°</h1><h2 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>è®¾æœ‰ NÃ—Nçš„æ–¹æ ¼å›¾ï¼Œæˆ‘ä»¬åœ¨å…¶ä¸­çš„æŸäº›æ–¹æ ¼ä¸­å¡«å…¥æ­£æ•´æ•°ï¼Œè€Œå…¶å®ƒçš„æ–¹æ ¼ä¸­åˆ™æ”¾å…¥æ•°å­—0ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="/2025/04/15/20250415-Acwing/acwing1027.png" alt="alt text"></p>]]></content>
    
    
    <categories>
      
      <category>Acwing-improve</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Acwing</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025å¹´4æœˆ07æ—¥å­¦ä¹ æ¦‚è¿°</title>
    <link href="/2025/04/07/20250407-CMake/"/>
    <url>/2025/04/07/20250407-CMake/</url>
    
    <content type="html"><![CDATA[<h1 id="CMake-CUDA-Qt-é¡¹ç›®å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆæ±‡æ€»"><a href="#CMake-CUDA-Qt-é¡¹ç›®å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆæ±‡æ€»" class="headerlink" title="CMake + CUDA + Qt é¡¹ç›®å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆæ±‡æ€»"></a>CMake + CUDA + Qt é¡¹ç›®å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆæ±‡æ€»</h1><p>æœ¬æ–‡ä»¶æ€»ç»“äº†é¡¹ç›®æ„å»ºè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜åŠå¯¹åº”è§£å†³æ–¹æ³•ï¼Œé€‚ç”¨äºä½¿ç”¨ CMake æ„å»ºåŒ…å« CUDAã€Qtã€å¤šç¬¬ä¸‰æ–¹åº“çš„å¤§å‹é¡¹ç›®çš„åœºæ™¯ã€‚</p><hr><h2 id="1-CMake-æŠ¥é”™"><a href="#1-CMake-æŠ¥é”™" class="headerlink" title="1. CMake æŠ¥é”™"></a>1. CMake æŠ¥é”™</h2><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">PS E:\MFPP\1.Code\MyQtProject&gt; cmake --version<br>cmake : æ— æ³•å°†â€œcmakeâ€é¡¹è¯†åˆ«ä¸º cmdletã€å‡½æ•°ã€è„šæœ¬æ–‡ä»¶æˆ–å¯è¿è¡Œç¨‹åºçš„åç§°ã€‚è¯·æ£€æŸ¥åç§°çš„æ‹¼å†™ï¼Œå¦‚æœåŒ…æ‹¬è·¯å¾„ï¼Œè¯·ç¡®ä¿è·¯å¾„æ­£ç¡®ï¼Œç„¶åå†è¯•ä¸€æ¬¡ã€‚<br>æ‰€åœ¨ä½ç½® è¡Œ:1 å­—ç¬¦: 1<br> cmake --version<br> ~~~~~<br>     CategoryInfo          : ObjectNotFound: (cmake:String) [], CommandNotFoundException<br></code></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ul><li><strong>é‡æ–°è£…äº†ä¸€ä¸ªä¸­é—´ç‰ˆæœ¬ï¼ˆ3.14ï¼‰çš„cmake</strong></li></ul><h2 id="2-CMake-æŠ¥é”™-æ— æ³•æ‰¾åˆ°æ‰€æä¾›çš„qt-cmakeè·¯å¾„"><a href="#2-CMake-æŠ¥é”™-æ— æ³•æ‰¾åˆ°æ‰€æä¾›çš„qt-cmakeè·¯å¾„" class="headerlink" title="2. CMake æŠ¥é”™ æ— æ³•æ‰¾åˆ°æ‰€æä¾›çš„qt.cmakeè·¯å¾„"></a>2. CMake æŠ¥é”™ æ— æ³•æ‰¾åˆ°æ‰€æä¾›çš„qt.cmakeè·¯å¾„</h2><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>CMake Error at CMakeLists.txt:19 (find_package):<br>    By not providing â€œFindQt5.cmakeâ€ in CMAKE_MODULE_PATH this project has<br>    asked CMake to find a package configuration file provided by â€œQt5â€, but<br>    CMake did not find one.</p><pre><code class="hljs">Could not find a package configuration file provided by &quot;Qt5&quot; with any ofthe following names:    Qt5Config.cmake    qt5-config.cmakeAdd the installation prefix of &quot;Qt5&quot; to CMAKE_PREFIX_PATH or set &quot;Qt5_DIR&quot;to a directory containing one of the above files.  If &quot;Qt5&quot; provides aseparate development package or SDK, be sure it has been installed.</code></pre><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong><br><code>set(CMAKE_PREFIX_PATH &quot;D:/Qt/5.14.2/msvc2017_64/lib/cmake&quot;)</code><br>è¯·ç¡®ä¿ï¼šç”¨ æ­£æ–œæ  &#x2F; æ›¿ä»£åæ–œæ  \ï¼›ä½¿ç”¨çš„æ˜¯ ä½ çš„ Qt å®‰è£…è·¯å¾„ï¼›è®¾ç½®è¿™è¡Œè¦åœ¨ find_package(Qt5 COMPONENTS â€¦) ä¹‹å‰</p><h2 id="3-CMake-æŠ¥é”™-PCLæ‰¾ä¸åˆ°booståº“"><a href="#3-CMake-æŠ¥é”™-PCLæ‰¾ä¸åˆ°booståº“" class="headerlink" title="3. CMake æŠ¥é”™ PCLæ‰¾ä¸åˆ°booståº“"></a>3. CMake æŠ¥é”™ PCLæ‰¾ä¸åˆ°booståº“</h2><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>å‘ç”Ÿå¼‚å¸¸: FATAL_ERROR<br>CMake Error at D:&#x2F;Environment&#x2F;PCL 1.11.1&#x2F;cmake&#x2F;PCLConfig.cmake:59 (message):<br>  common is required but boost was not found<br>Call Stack (most recent call first):<br>  D:&#x2F;Environment&#x2F;PCL 1.11.1&#x2F;cmake&#x2F;PCLConfig.cmake:364 (pcl_report_not_found)<br>  D:&#x2F;Environment&#x2F;PCL 1.11.1&#x2F;cmake&#x2F;PCLConfig.cmake:546 (find_external_library)<br>  CMakeLists.txt:24 (find_package)<br><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">Boost <span class="hljs-keyword">for</span> PCL</span><br>set(Boost_INCLUDE_DIR &quot;D:/Environment/PCL 1.11.1/3rdParty/Boost/include/boost-1_74&quot;)<br>set(Boost_LIBRARY_DIR &quot;D:/Environment/PCL 1.11.1/3rdParty/Boost/lib&quot;)<br>set(BOOST_ROOT &quot;D:/Environment/PCL 1.11.1/3rdParty/Boost&quot;)<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">Then PCL</span><br>set(PCL_DIR &quot;D:/Environment/PCL 1.11.1/cmake&quot;)<br>find_package(PCL REQUIRED)<br></code></pre></td></tr></table></figure><h2 id="4-CMake-æŠ¥é”™-MSVC-ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸åŒ¹é…çš„é—®é¢˜"><a href="#4-CMake-æŠ¥é”™-MSVC-ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸åŒ¹é…çš„é—®é¢˜" class="headerlink" title="4. CMake æŠ¥é”™ MSVC ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸åŒ¹é…çš„é—®é¢˜"></a>4. CMake æŠ¥é”™ MSVC ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸åŒ¹é…çš„é—®é¢˜</h2><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs shell">å‘ç”Ÿå¼‚å¸¸: FATAL_ERROR<br>CMake Error at D:/Environment/PCL 1.11.1/3rdParty/Boost/lib/cmake/Boost-1.74.0/BoostConfig.cmake:141 (find_package):<br>  Found package configuration file:<br><br>    D:/Environment/PCL 1.11.1/3rdParty/Boost/lib/cmake/boost_filesystem-1.74.0/boost_filesystem-config.cmake<br><br>  but it set boost_filesystem_FOUND to FALSE so package &quot;boost_filesystem&quot; is<br>  considered to be NOT FOUND.  Reason given by package:<br><br>  No suitable build variant has been found.<br><br>  The following variants have been tried and rejected:<br><br>  * libboost_filesystem-vc142-mt-gd-x64-1_74.lib (vc142, detected vc141, set<br>  Boost_COMPILER to override)<br><br>  * libboost_filesystem-vc142-mt-x64-1_74.lib (vc142, detected vc141, set<br>  Boost_COMPILER to override)<br><br>Call Stack (most recent call first):<br>  D:/Environment/PCL 1.11.1/3rdParty/Boost/lib/cmake/Boost-1.74.0/BoostConfig.cmake:258 (boost_find_component)<br>  E:/Program Files/CMake/share/cmake-4.0/Modules/FindBoost.cmake:609 (find_package)<br>  CMakeLists.txt:27 (find_package)<br></code></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong><br>ä½¿ç”¨ä½ç‰ˆæœ¬çš„booståº“å³å¯è§£å†³è¯¥é—®é¢˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">ä½ å½“å‰çš„ç¼–è¯‘å™¨æ˜¯ï¼š<br>MSVC v141ï¼ˆæ¥è‡ª VS2017ï¼‰<br>è€Œ CMake åœ¨ Boost çš„ .lib ä¸­æ‰¾åˆ°äº†ï¼š<br><br>libboost_filesystem-vc142-xxx.libï¼ˆæ˜¯ VS2019 ç¼–è¯‘å‡ºæ¥çš„ï¼‰<br>æ‰€ä»¥ CMake æŠ¥é”™è¯´ï¼š<br><br>âŒ æ‰¾åˆ° Boost çš„ cmake åŒ…ï¼Œä½† .lib æ˜¯ç”¨ vc142 ç¼–è¯‘çš„ï¼Œè€Œä½ ç°åœ¨ç”¨çš„æ˜¯ vc141ï¼Œä¸åŒ¹é…ï¼<br><br></code></pre></td></tr></table></figure><h2 id="5-CMake-æŠ¥é”™-â€œNo-CUDA-toolset-foundâ€"><a href="#5-CMake-æŠ¥é”™-â€œNo-CUDA-toolset-foundâ€" class="headerlink" title="5. CMake æŠ¥é”™ â€œNo CUDA toolset foundâ€**"></a>5. CMake æŠ¥é”™ â€œNo CUDA toolset foundâ€**</h2><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">No</span> CUDA toolset <span class="hljs-built_in">found</span>.<br></code></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ul><li>æ£€æŸ¥ <strong>ç¯å¢ƒå˜é‡æ˜¯å¦è®¾ç½®æ­£ç¡®ï¼Œå¹¶ç¡®ä¿å…¶ä¸­åŒ…å«</strong>ã€‚</li><li><strong>é‡æ–°å®‰è£… CUDA å·¥å…·åŒ…ï¼Œç¡®ä¿ç‰ˆæœ¬å’Œ Visual Studio å…¼å®¹ï¼ˆå¦‚ VS2017 ä¸æ”¯æŒæ­é… CUDA 11.7ï¼‰ã€‚</strong></li><li><strong>CUDAé‡æ–°å®‰è£…æ—¶éœ€è¦é…ç½®Visual Studioç¼–è¯‘å™¨</strong></li></ul><hr><h2 id="6-ç¼–è¯‘æ—¶æŠ¥é”™-â€œ-error-No-Target-Architectureâ€"><a href="#6-ç¼–è¯‘æ—¶æŠ¥é”™-â€œ-error-No-Target-Architectureâ€" class="headerlink" title="6. ç¼–è¯‘æ—¶æŠ¥é”™ â€œ#error: No Target Architectureâ€"></a>6. ç¼–è¯‘æ—¶æŠ¥é”™ â€œ#error: No Target Architectureâ€</h2><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">error</span>:  <span class="hljs-string">&quot;No Target Architecture&quot;</span></span><br></code></pre></td></tr></table></figure><p><strong>åŸå› åˆ†æï¼š</strong></p><ul><li>MSVC ç¼–è¯‘å™¨æœªè®¾ç½® <code>_M_X64</code> æˆ–å…¶ä»– CPU æ¶æ„å®ã€‚</li></ul><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ul><li>åœ¨ CMakeLists.txt ä¸­æ·»åŠ ï¼š</li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">add_definitions</span>(-D_M_X64 -DWIN32 -D_WINDOWS)<br></code></pre></td></tr></table></figure><ul><li>æˆ–æ‰‹åŠ¨åœ¨é¡¹ç›®å±æ€§ &gt; C&#x2F;C++ &gt; é¢„å¤„ç†å™¨ ä¸­æ·»åŠ  <code>_M_X64</code>ã€‚</li></ul><hr><h2 id="7-é‡æ–°é…ç½®-CMake-æç¤º-â€œgenerator-platform-does-not-matchâ€"><a href="#7-é‡æ–°é…ç½®-CMake-æç¤º-â€œgenerator-platform-does-not-matchâ€" class="headerlink" title="7. é‡æ–°é…ç½® CMake æç¤º â€œgenerator platform does not matchâ€"></a>7. é‡æ–°é…ç½® CMake æç¤º â€œgenerator platform does not matchâ€</h2><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs subunit"><span class="hljs-keyword">Error: </span>generator platform: x64 does not match the platform used previously<br></code></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ul><li>åˆ é™¤ <code>build/</code> ç›®å½•ä¸‹çš„ <code>CMakeCache.txt</code> å’Œ <code>CMakeFiles/</code>ï¼Œç„¶åé‡æ–°é…ç½®ã€‚</li></ul><hr><h2 id="8-Qt-ç±»ä½¿ç”¨-Q-OBJECT-å¯¼è‡´-LNK2001-ç­‰é“¾æ¥é”™è¯¯"><a href="#8-Qt-ç±»ä½¿ç”¨-Q-OBJECT-å¯¼è‡´-LNK2001-ç­‰é“¾æ¥é”™è¯¯" class="headerlink" title="8. Qt ç±»ä½¿ç”¨ Q_OBJECT å¯¼è‡´ LNK2001 ç­‰é“¾æ¥é”™è¯¯"></a>8. Qt ç±»ä½¿ç”¨ Q_OBJECT å¯¼è‡´ LNK2001 ç­‰é“¾æ¥é”™è¯¯</h2><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">LNK2001:</span> æ— æ³•è§£æçš„å¤–éƒ¨ç¬¦å· <span class="hljs-string">&quot;QMetaObject...&quot;</span><br></code></pre></td></tr></table></figure><p><strong>åŸå› åˆ†æï¼š</strong></p><ul><li>ä½¿ç”¨ Q_OBJECT çš„ç±»æœªè‡ªåŠ¨ç”Ÿæˆ <code>moc_xxx.cpp</code> æ–‡ä»¶ã€‚</li></ul><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ul><li>ç¡®ä¿ <code>.cpp</code> æ–‡ä»¶ä¸­åŒ…å« <code>Q_OBJECT</code> çš„ç±»å·²åŠ å…¥ <code>CMakeLists.txt</code> æºæ–‡ä»¶åˆ—è¡¨ä¸­ã€‚(æˆ–è€…æ‰‹åŠ¨ç¼–è¯‘ç”Ÿæˆmocæ–‡ä»¶)</li><li>æ·»åŠ ä»¥ä¸‹è®¾ç½®ï¼š</li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">set</span>(CMAKE_AUTOMOC <span class="hljs-keyword">ON</span>)<br><span class="hljs-keyword">file</span>(GLOB QT_OBJECT_CLASSES src/*.cpp)<br></code></pre></td></tr></table></figure><hr><h2 id="9-Qt-å›¾æ ‡èµ„æºæ— æ³•æ˜¾ç¤º"><a href="#9-Qt-å›¾æ ‡èµ„æºæ— æ³•æ˜¾ç¤º" class="headerlink" title="9. Qt å›¾æ ‡èµ„æºæ— æ³•æ˜¾ç¤º"></a>9. Qt å›¾æ ‡èµ„æºæ— æ³•æ˜¾ç¤º</h2><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">QIcon</span>(<span class="hljs-string">&quot;:/icons/switch.png&quot;</span>) æ— æ³•æ˜¾ç¤ºå›¾æ ‡<br></code></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ul><li>ç¡®ä¿ <code>.qrc</code> æ–‡ä»¶å·²æ­£ç¡®åŠ è½½åˆ° CMake ä¸­ï¼Œå¦‚ï¼š</li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">file</span>(GLOB QRC_FILES style/Mulit_view.qrc)<br>qt5_add_resources(RESOURCE_SRC <span class="hljs-variable">$&#123;QRC_FILES&#125;</span>)<br></code></pre></td></tr></table></figure><ul><li>ç¡®ä¿èµ„æºè·¯å¾„æ­£ç¡®ï¼ŒQt æ”¯æŒå­è·¯å¾„å¼•ç”¨ï¼Œå¦‚ <code>:/icons/switch.png</code>ã€‚</li><li>è‹¥èµ„æºç›®å½•ä¸º <code>style/icons/</code>ï¼Œåˆ™ <code>.qrc</code> ä¸­è·¯å¾„åº”ä¸ºï¼š</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>icons/switch.png<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span><br></code></pre></td></tr></table></figure><hr><h2 id="10-è¿è¡Œç¼ºå°‘-DLL-æ–‡ä»¶"><a href="#10-è¿è¡Œç¼ºå°‘-DLL-æ–‡ä»¶" class="headerlink" title="10. è¿è¡Œç¼ºå°‘ DLL æ–‡ä»¶"></a>10. è¿è¡Œç¼ºå°‘ DLL æ–‡ä»¶</h2><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ul><li>å°† Qt æ‰€éœ€è¿è¡Œåº“å¤åˆ¶è‡³å¯æ‰§è¡Œæ–‡ä»¶ç›®å½•ä¸‹ï¼ˆå»ºè®®ä½¿ç”¨ windeployqt å·¥å…·ï¼‰ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">windeployqt.exe MyQtProject.exe<br></code></pre></td></tr></table></figure><ul><li>ä¹Ÿå¯æ‰‹åŠ¨å°† Qt å’Œå…¶ä»–ç¬¬ä¸‰æ–¹åº“çš„ <code>dll</code> æ–‡ä»¶å¤åˆ¶è‡³ <code>build/bin/Debug</code> ç›®å½•ã€‚</li></ul><hr><h2 id="11-VS-CUDA-æŠ¥-nvcc-ç¼–è¯‘å¤±è´¥ï¼Œè¿”å›ä»£ç -2"><a href="#11-VS-CUDA-æŠ¥-nvcc-ç¼–è¯‘å¤±è´¥ï¼Œè¿”å›ä»£ç -2" class="headerlink" title="11. VS + CUDA æŠ¥ nvcc ç¼–è¯‘å¤±è´¥ï¼Œè¿”å›ä»£ç  2"></a>11. VS + CUDA æŠ¥ nvcc ç¼–è¯‘å¤±è´¥ï¼Œè¿”å›ä»£ç  2</h2><p><strong>å¯èƒ½åŸå› ï¼š</strong></p><ul><li>æ¶æ„æœªè®¾ç½®</li><li>å®æœªå®šä¹‰</li><li>Visual Studio å·¥å…·é›†ä¸ä¸€è‡´</li></ul><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ul><li>æ·»åŠ  <code>set(CMAKE_CUDA_ARCHITECTURES 75 86)</code> åˆ° CMakeLists.txtã€‚</li><li>æ˜¾å¼æ·»åŠ  nvcc ç¼–è¯‘å®ï¼š</li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">foreach</span>(cuda_source_file <span class="hljs-variable">$&#123;CUDA_SOURCES&#125;</span>)<br>    <span class="hljs-keyword">set_source_files_properties</span>(<span class="hljs-variable">$&#123;cuda_source_file&#125;</span> PROPERTIES<br>        COMPILE_FLAGS <span class="hljs-string">&quot;-D_M_X64 -DWIN32 -D_WINDOWS&quot;</span>)<br><span class="hljs-keyword">endforeach</span>()<br></code></pre></td></tr></table></figure><hr><h2 id="12-æ·»åŠ -Qt-æ”¯æŒçš„å»ºè®®ç»“æ„"><a href="#12-æ·»åŠ -Qt-æ”¯æŒçš„å»ºè®®ç»“æ„" class="headerlink" title="12. æ·»åŠ  Qt æ”¯æŒçš„å»ºè®®ç»“æ„"></a>12. æ·»åŠ  Qt æ”¯æŒçš„å»ºè®®ç»“æ„</h2><p><strong>æ¨èé…ç½®ï¼š</strong></p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">set</span>(CMAKE_AUTOMOC <span class="hljs-keyword">ON</span>)<br><span class="hljs-keyword">set</span>(CMAKE_AUTOUIC <span class="hljs-keyword">ON</span>)<br><span class="hljs-keyword">set</span>(CMAKE_AUTORCC <span class="hljs-keyword">ON</span>)<br><span class="hljs-keyword">file</span>(GLOB UI_FILES ui/*.ui)<br><span class="hljs-keyword">file</span>(GLOB QRC_FILES style/*.qrc)<br>qt5_add_resources(RESOURCE_SRC <span class="hljs-variable">$&#123;QRC_FILES&#125;</span>)<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p><ul><li>UI æ–‡ä»¶å’Œèµ„æºæ–‡ä»¶éœ€åŠ å…¥ç¼–è¯‘ä¾èµ–</li><li><code>Q_OBJECT</code> ç±»å¯¹åº”çš„ <code>.cpp</code> éœ€æ˜¾å¼åˆ—å‡ºï¼Œä¸èƒ½åªç”¨ <code>GLOB</code> æ‹¿ <code>.h</code></li></ul><hr><h2 id="13-æ‰‹åŠ¨ç”Ÿæˆ-MOC-æ–‡ä»¶"><a href="#13-æ‰‹åŠ¨ç”Ÿæˆ-MOC-æ–‡ä»¶" class="headerlink" title="13. æ‰‹åŠ¨ç”Ÿæˆ MOC æ–‡ä»¶"></a>13. æ‰‹åŠ¨ç”Ÿæˆ MOC æ–‡ä»¶</h2><p><strong>å‘½ä»¤è¡Œä½¿ç”¨æ–¹æ³•ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">moc -o moc_MyClass.cpp MyClass.h<br></code></pre></td></tr></table></figure><p>ç„¶åå°†ç”Ÿæˆçš„ <code>moc_*.cpp</code> æ–‡ä»¶åŠ å…¥ CMakeï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">set</span>(MOC_SRCS src/moc_DarkStyle.cpp ...)<br><span class="hljs-keyword">add_executable</span>(<span class="hljs-variable">$&#123;PROJECT_NAME&#125;</span> <span class="hljs-variable">$&#123;ALL_CPP_FILES&#125;</span> <span class="hljs-variable">$&#123;MOC_SRCS&#125;</span>)<br></code></pre></td></tr></table></figure><hr><h2 id="14-ç¼“å­˜æŠ¥é”™-Error-could-not-load-cache"><a href="#14-ç¼“å­˜æŠ¥é”™-Error-could-not-load-cache" class="headerlink" title="14. ç¼“å­˜æŠ¥é”™ Error: could not load cache"></a>14. ç¼“å­˜æŠ¥é”™ Error: could not load cache</h2><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ul><li>åˆ é™¤æ„å»ºç›®å½•é‡æ–°ç”Ÿæˆï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">rd /s /q build<br><span class="hljs-built_in">mkdir</span> build<br><span class="hljs-built_in">cd</span> build<br>cmake .. -G <span class="hljs-string">&quot;Visual Studio 16 2019&quot;</span> -A x64<br></code></pre></td></tr></table></figure><hr><h2 id="15-jsonç¼–è¯‘æ–‡ä»¶"><a href="#15-jsonç¼–è¯‘æ–‡ä»¶" class="headerlink" title="15. jsonç¼–è¯‘æ–‡ä»¶"></a>15. jsonç¼–è¯‘æ–‡ä»¶</h2><p>âœ… ä½¿ç”¨æ–¹å¼ï¼ˆVS Code + CMake Toolsï¼‰<br>æŒ‰ä¸‹ Ctrl+Shift+Pï¼Œè¾“å…¥å¹¶é€‰æ‹©ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">CMake: Select Configure Preset<br></code></pre></td></tr></table></figure><p>é€‰æ‹© default<br>ç„¶åæ‰§è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">CMake: Build with Preset<br></code></pre></td></tr></table></figure><p>é€‰æ‹© default-build</p>]]></content>
    
    
    <categories>
      
      <category>C++ Toolchain</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025å¹´3æœˆ25æ—¥hot100ç»ƒä¹ </title>
    <link href="/2025/03/25/20250325-hot100/"/>
    <url>/2025/03/25/20250325-hot100/</url>
    
    <content type="html"><![CDATA[<h1 id="86-åˆ†éš”é“¾è¡¨"><a href="#86-åˆ†éš”é“¾è¡¨" class="headerlink" title="86.åˆ†éš”é“¾è¡¨"></a>86.åˆ†éš”é“¾è¡¨</h1><h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head å’Œä¸€ä¸ªç‰¹å®šå€¼ x ï¼Œè¯·ä½ å¯¹é“¾è¡¨è¿›è¡Œåˆ†éš”ï¼Œä½¿å¾—æ‰€æœ‰ å°äº x çš„èŠ‚ç‚¹éƒ½å‡ºç°åœ¨ å¤§äºæˆ–ç­‰äº x çš„èŠ‚ç‚¹ä¹‹å‰ã€‚ä½ åº”å½“ ä¿ç•™ ä¸¤ä¸ªåˆ†åŒºä¸­æ¯ä¸ªèŠ‚ç‚¹çš„åˆå§‹ç›¸å¯¹ä½ç½®ã€‚</p><h2 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h2><p>æœ€ç®€å•çš„æ€è·¯æ˜¯æ„é€ ä¸¤æ¡æ–°é“¾è¡¨ï¼Œç„¶åéå†åŸé“¾è¡¨ï¼Œå°†å°äºxçš„æ”¾åœ¨é“¾è¡¨aä¸­ï¼Œå¤§äºxçš„æ”¾åœ¨é“¾è¡¨bä¸­</p><h2 id="ä»£ç ç¼–å†™ï¼š"><a href="#ä»£ç ç¼–å†™ï¼š" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2>]]></content>
    
    
    <categories>
      
      <category>leetcode-hot100</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025å¹´3æœˆ23æ—¥hot100ç»ƒä¹ </title>
    <link href="/2025/03/23/20250323-hot100/"/>
    <url>/2025/03/23/20250323-hot100/</url>
    
    <content type="html"><![CDATA[<h1 id="4-å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°"><a href="#4-å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°" class="headerlink" title="4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°"></a>4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°</h1><h2 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º m å’Œ n çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ nums1 å’Œ nums2ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ ä¸­ä½æ•° ã€‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º O(log (m+n)) ã€‚</p><h2 id="æ€è·¯åˆ†æï¼š"><a href="#æ€è·¯åˆ†æï¼š" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><h3 id="ç¬¬ä¸€ç§æš´åŠ›æ€è·¯ï¼š"><a href="#ç¬¬ä¸€ç§æš´åŠ›æ€è·¯ï¼š" class="headerlink" title="ç¬¬ä¸€ç§æš´åŠ›æ€è·¯ï¼š"></a>ç¬¬ä¸€ç§æš´åŠ›æ€è·¯ï¼š</h3><p>ç”±äºä¸¤ä¸ªåºåˆ—æ˜¯æœ‰åºæ•°ç»„ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆæ‰¾åˆ°ç¬¬kå¤§çš„æ•°ï¼Œå…¶ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š<br>(a)ï¼šä¸¤ä¸ªæ•°ç»„çš„sizeå’Œæ˜¯å¶æ•°çš„è¯ï¼Œéœ€è¦æ‰¾åˆ°ç¬¬kå’Œç¬¬k+1çš„ä½ç½®ï¼Œç„¶åç›¸åŠ é™¤ä»¥2<br>(b): ä¸¤ä¸ªæ•°ç»„çš„sizeå’Œæ˜¯å¥‡æ•°çš„è¯ï¼Œéœ€è¦æ‰¾åˆ°ç¬¬kå¤§çš„ä½ç½®ï¼Œç„¶åç›´æ¥è¿”å›å³å¯</p><h3 id="ç¬¬äºŒç§äºŒåˆ†æ€è·¯ï¼š"><a href="#ç¬¬äºŒç§äºŒåˆ†æ€è·¯ï¼š" class="headerlink" title="ç¬¬äºŒç§äºŒåˆ†æ€è·¯ï¼š"></a>ç¬¬äºŒç§äºŒåˆ†æ€è·¯ï¼š</h3><blockquote><p><a href="https://blog.csdn.net/maizousidemao/article/details/134278229">https://blog.csdn.net/maizousidemao/article/details/134278229</a></p></blockquote><h2 id="ä»£ç ç¼–å†™ï¼š"><a href="#ä»£ç ç¼–å†™ï¼š" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><p>ç¬¬ä¸€ç§æ€è·¯ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">findMedianSortedArrays</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums1, vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums2)</span> </span>&#123;<br>        <span class="hljs-type">int</span> sz1 = nums<span class="hljs-number">1.</span><span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> sz2 = nums<span class="hljs-number">2.</span><span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> total = sz1 + sz2;<br><br>        <span class="hljs-keyword">if</span> (total % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-comment">// å¥‡æ•°ï¼Œç›´æ¥å–ä¸­é—´</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">findKth</span>(nums1, nums2, total / <span class="hljs-number">2</span>);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// å¶æ•°ï¼Œå–ä¸­é—´ä¸¤ä¸ªå¹³å‡</span><br>            <span class="hljs-type">double</span> a = <span class="hljs-built_in">findKth</span>(nums1, nums2, total / <span class="hljs-number">2</span> - <span class="hljs-number">1</span>);<br>            <span class="hljs-type">double</span> b = <span class="hljs-built_in">findKth</span>(nums1, nums2, total / <span class="hljs-number">2</span>);<br>            <span class="hljs-keyword">return</span> (a + b) / <span class="hljs-number">2.0</span>;<br>        &#125;<br>    &#125;<br><br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-comment">// åœ¨ä¸¤ä¸ªæœ‰åºæ•°ç»„ä¸­ï¼Œæ‰¾åˆå¹¶åç¬¬ k ä¸ªå…ƒç´ ï¼ˆ0-basedï¼‰</span><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">findKth</span><span class="hljs-params">(<span class="hljs-type">const</span> vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums1, <span class="hljs-type">const</span> vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums2, <span class="hljs-type">int</span> k)</span> </span>&#123;<br>        <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">while</span> (i &lt; nums<span class="hljs-number">1.</span><span class="hljs-built_in">size</span>() &amp;&amp; j &lt; nums<span class="hljs-number">2.</span><span class="hljs-built_in">size</span>()) &#123;<br>            <span class="hljs-type">int</span> val;<br>            <span class="hljs-keyword">if</span> (nums1[i] &lt; nums2[j]) &#123;<br>                val = nums1[i++];<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                val = nums2[j++];<br>            &#125;<br><br>            <span class="hljs-keyword">if</span> (count == k) <span class="hljs-keyword">return</span> val;<br>            count++;<br>        &#125;<br><br>        <span class="hljs-comment">// å¦‚æœ nums1 è¿˜æœ‰å‰©ä½™</span><br>        <span class="hljs-keyword">while</span> (i &lt; nums<span class="hljs-number">1.</span><span class="hljs-built_in">size</span>()) &#123;<br>            <span class="hljs-keyword">if</span> (count == k) <span class="hljs-keyword">return</span> nums1[i];<br>            i++;<br>            count++;<br>        &#125;<br><br>        <span class="hljs-comment">// å¦‚æœ nums2 è¿˜æœ‰å‰©ä½™</span><br>        <span class="hljs-keyword">while</span> (j &lt; nums<span class="hljs-number">2.</span><span class="hljs-built_in">size</span>()) &#123;<br>            <span class="hljs-keyword">if</span> (count == k) <span class="hljs-keyword">return</span> nums2[j];<br>            j++;<br>            count++;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>; <span class="hljs-comment">// ä¸ä¼šåˆ°è¾¾è¿™é‡Œ</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒç§æ€è·¯ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">findMedianSortedArrays</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums1, vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums2)</span> </span>&#123;<br>        <span class="hljs-type">int</span> total = nums<span class="hljs-number">1.</span><span class="hljs-built_in">size</span>() + nums<span class="hljs-number">2.</span><span class="hljs-built_in">size</span>();<br><br>        <span class="hljs-keyword">if</span> (total % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">findKthNum</span>(nums1, nums2, total / <span class="hljs-number">2</span> + <span class="hljs-number">1</span>); <span class="hljs-comment">// æ³¨æ„kæ˜¯ä»1å¼€å§‹</span><br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-type">double</span> left = <span class="hljs-built_in">findKthNum</span>(nums1, nums2, total / <span class="hljs-number">2</span>);<br>            <span class="hljs-type">double</span> right = <span class="hljs-built_in">findKthNum</span>(nums1, nums2, total / <span class="hljs-number">2</span> + <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">return</span> (left + right) / <span class="hljs-number">2.0</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">findKthNum</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums1,vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums2,<span class="hljs-type">int</span> k)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-type">int</span> sz1 = nums<span class="hljs-number">1.</span><span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> sz2 = nums<span class="hljs-number">2.</span><span class="hljs-built_in">size</span>();<br>        <span class="hljs-comment">//int newIndex1 = 0;//æ–°æ•°ç»„çš„å·¦è¾¹ç•Œ</span><br>        <span class="hljs-comment">//int newIndex2 = 0;//æ–°æ•°ç»„çš„å³è¾¹ç•Œ</span><br>        <span class="hljs-type">int</span> index1 = <span class="hljs-number">0</span>;<span class="hljs-comment">//index1ï¼šå½“å‰è¿˜æ²¡ç”¨çš„ nums1 åŒºåŸŸèµ·ç‚¹ï¼›</span><br>        <span class="hljs-type">int</span> index2 = <span class="hljs-number">0</span>;<span class="hljs-comment">//index2:å½“å‰è¿˜æ²¡ç”¨çš„nums2åŒºåŸŸèµ·ç‚¹ï¼›</span><br>        <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(index1 == sz1) <span class="hljs-keyword">return</span> nums2[index2 + k <span class="hljs-number">-1</span>];<br>            <span class="hljs-keyword">if</span>(index2 == sz2) <span class="hljs-keyword">return</span> nums1[index1 + k <span class="hljs-number">-1</span>];<br>            <span class="hljs-keyword">if</span> (k == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-built_in">min</span>(nums1[index1], nums2[index2]);<br><br>            <span class="hljs-type">int</span> newIndex1 = <span class="hljs-built_in">min</span>(index1 + k/<span class="hljs-number">2</span><span class="hljs-number">-1</span>,sz1<span class="hljs-number">-1</span>);<br>            <span class="hljs-type">int</span> newIndex2 = <span class="hljs-built_in">min</span>(index2 + k/<span class="hljs-number">2</span><span class="hljs-number">-1</span>,sz2<span class="hljs-number">-1</span>);<br>            <br>            <span class="hljs-keyword">if</span>(nums1[newIndex1]&lt;=nums2[newIndex2])<br>            &#123;<br>                <span class="hljs-comment">//ä¸¢å¼ƒå·¦è¾¹çš„åŒºåŸŸ</span><br>                k -= (newIndex1 - index1 <span class="hljs-number">+1</span>);<br>                <span class="hljs-comment">//æ›´æ–°æ–°åŒºåŸŸè¾¹ç•Œ</span><br>                index1 = newIndex1 + <span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-comment">//ä¸¢å¼ƒå³è¾¹çš„åŒºåŸŸ</span><br>                k -= (newIndex2 - index2 <span class="hljs-number">+1</span>);<br>                <span class="hljs-comment">//æ›´æ–°æ–°åŒºåŸŸè¾¹ç•Œ</span><br>                index2 = newIndex2 + <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="1-ä¸¤æ•°ä¹‹å’Œ"><a href="#1-ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="1.ä¸¤æ•°ä¹‹å’Œ"></a>1.ä¸¤æ•°ä¹‹å’Œ</h1><h2 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ target  çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆï¼Œå¹¶ä¸”ä½ ä¸èƒ½ä½¿ç”¨ä¸¤æ¬¡ç›¸åŒçš„å…ƒç´ ã€‚ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚</p><h2 id="æ€è·¯åˆ†æï¼š-1"><a href="#æ€è·¯åˆ†æï¼š-1" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><p>å°†æ•°ç»„å…ƒç´ æ¨å…¥å“ˆå¸Œè¡¨ä¸­ï¼Œç„¶åæŸ¥çœ‹å“ˆå¸Œè¡¨ä¸­æ˜¯å¦æœ‰sum-targetçš„å€¼ï¼Œå¦‚æœæœ‰åˆ™è¿”å›</p><h2 id="ä»£ç ç¼–å†™ï¼š-1"><a href="#ä»£ç ç¼–å†™ï¼š-1" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">twoSum</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>         unordered_map&lt;<span class="hljs-type">int</span>,<span class="hljs-type">int</span>&gt; uset;<br>         vector&lt;<span class="hljs-type">int</span>&gt; res;<br>         <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i&lt;nums.<span class="hljs-built_in">size</span>();i++)<br>         &#123;<br>            <span class="hljs-type">int</span> num = nums[i];<br>            <span class="hljs-keyword">if</span>(uset.<span class="hljs-built_in">find</span>(target-num)!=uset.<span class="hljs-built_in">end</span>())<br>            &#123;<br>                res.<span class="hljs-built_in">push_back</span>(uset[target-num]);<br>                res.<span class="hljs-built_in">push_back</span>(i);<br>                <span class="hljs-keyword">return</span> res;<br>            &#125;<br>            uset[num] = i;<br>         &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode-hot100</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025å¹´3æœˆ20æ—¥hot100ç»ƒä¹ </title>
    <link href="/2025/03/20/20250320-hot100/"/>
    <url>/2025/03/20/20250320-hot100/</url>
    
    <content type="html"><![CDATA[<h1 id="25-Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨"><a href="#25-Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨" class="headerlink" title="25.Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨"></a>25.Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨</h1><h2 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œæ¯ k ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ä¿®æ”¹åçš„é“¾è¡¨ã€‚k æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯ k çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚</p><h2 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h2><p>1.åˆ¤æ–­å‰©ä¸‹çš„èŠ‚ç‚¹æ˜¯å¦å¤Ÿkä¸ª<br>2.å°†kä¸ªé“¾ç‚¹é€†åº<br>3.ç¿»è½¬ä¸‹ä¸€ç»„é“¾è¡¨èŠ‚ç‚¹</p><h2 id="ä»£ç ç¼–å†™ï¼š"><a href="#ä»£ç ç¼–å†™ï¼š" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">reverseKGroup</span><span class="hljs-params">(ListNode* head, <span class="hljs-type">int</span> k)</span> </span>&#123;<br>        <span class="hljs-comment">//åˆ¤æ–­å‰©ä¸‹çš„èŠ‚ç‚¹æ˜¯å¦å¤Ÿkä¸ª</span><br>        <span class="hljs-keyword">if</span>(!head) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>        ListNode* temp = head;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i&lt;k;i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(!temp) <span class="hljs-keyword">return</span> head;<br>            temp = temp-&gt;next;<br>        &#125;<br>        <span class="hljs-comment">//å†å°†kä¸ªé“¾ç‚¹é€†åº</span><br>        ListNode* pre = <span class="hljs-literal">nullptr</span>;<br>        ListNode* cur = head;<br>        ListNode* nex = <span class="hljs-literal">nullptr</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i&lt;k;i++)<br>        &#123;<br>            nex = cur-&gt;next;<br><br>            cur-&gt;next = pre;<br>            pre = cur;<br>            cur = nex;<br>        &#125;<br>        <span class="hljs-comment">//ç¿»è½¬ä¸‹ä¸€ç»„é“¾è¡¨èŠ‚ç‚¹</span><br>        head-&gt;next = <span class="hljs-built_in">reverseKGroup</span>(cur,k);<br>        <span class="hljs-keyword">return</span> pre;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="148-æ’åºé“¾è¡¨"><a href="#148-æ’åºé“¾è¡¨" class="headerlink" title="148.æ’åºé“¾è¡¨"></a>148.æ’åºé“¾è¡¨</h1><h2 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ é“¾è¡¨çš„å¤´ç»“ç‚¹ head ï¼Œè¯·å°†å…¶æŒ‰ å‡åº æ’åˆ—å¹¶è¿”å› æ’åºåçš„é“¾è¡¨ ã€‚</p><h2 id="æ€è·¯åˆ†æï¼š"><a href="#æ€è·¯åˆ†æï¼š" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><p>a.é¦–å…ˆä»ä¸­ç‚¹åˆ†å†¶é€’å½’åˆ°èŠ‚ç‚¹æœ«å°¾<br>b.å¯¹åˆ†å†¶åçš„é“¾è¡¨è¿›è¡Œæœ‰åºåˆå¹¶</p><h2 id="ä»£ç ç¼–å†™ï¼š-1"><a href="#ä»£ç ç¼–å†™ï¼š-1" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">sortList</span><span class="hljs-params">(ListNode* head)</span> </span>&#123;<br>        <span class="hljs-comment">//å¦‚æœé“¾è¡¨ä¸ºç©ºæˆ–è€…åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ— éœ€æ’åº</span><br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">nullptr</span> || head-&gt;next == <span class="hljs-literal">nullptr</span>)<br>        &#123;<br>            <span class="hljs-keyword">return</span> head;<br>        &#125;<br>        ListNode* head2 = <span class="hljs-built_in">middleNode</span>(head);<br>        head = <span class="hljs-built_in">sortList</span>(head);<br>        head2 = <span class="hljs-built_in">sortList</span>(head2);<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">mergeTwoList</span>(head,head2);<br>    &#125;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">middleNode</span><span class="hljs-params">(ListNode* head)</span></span><br><span class="hljs-function">    </span>&#123;<br>        ListNode* pre = head;<br>        ListNode* fast = head;<br>        ListNode* slow = head;<br>        <span class="hljs-keyword">while</span>(fast &amp;&amp; fast-&gt;next)<br>        &#123;<br>            pre = slow;<br>            fast = fast-&gt;next-&gt;next;<br>            slow = slow-&gt;next;<br>        &#125;<br>        pre-&gt;next = <span class="hljs-literal">nullptr</span>;<span class="hljs-comment">//æ–­å¼€slowçš„å‰ä¸€ä¸ªç»“ç‚¹å’Œslowçš„è¿æ¥</span><br>        <span class="hljs-keyword">return</span> slow;<br>    &#125;<br>    <span class="hljs-function">ListNode* <span class="hljs-title">mergeTwoList</span><span class="hljs-params">(ListNode* l1,ListNode* l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(!l1) <span class="hljs-keyword">return</span> l2;<br>        <span class="hljs-keyword">if</span>(!l2) <span class="hljs-keyword">return</span> l1;<br>        <span class="hljs-keyword">if</span>(l1-&gt;val&lt;l2-&gt;val) <br>        &#123;<br>            l1-&gt;next = <span class="hljs-built_in">mergeTwoList</span>(l1-&gt;next,l2);<br>            <span class="hljs-keyword">return</span> l1;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            l2-&gt;next = <span class="hljs-built_in">mergeTwoList</span>(l1,l2-&gt;next);<br>            <span class="hljs-keyword">return</span> l2;<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode-hot100</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025å¹´3æœˆ19æ—¥hot100ç»ƒä¹ </title>
    <link href="/2025/03/19/20250318-hot100/"/>
    <url>/2025/03/19/20250318-hot100/</url>
    
    <content type="html"><![CDATA[<h1 id="234-å›æ–‡é“¾è¡¨"><a href="#234-å›æ–‡é“¾è¡¨" class="headerlink" title="234.å›æ–‡é“¾è¡¨"></a>234.å›æ–‡é“¾è¡¨</h1><h2 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ ä¸€ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œè¯·ä½ åˆ¤æ–­è¯¥é“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</p><h2 id="æ€è·¯åˆ†æï¼š"><a href="#æ€è·¯åˆ†æï¼š" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><p>å¯¹äºå›æ–‡ä¸²æ¥è¯´å…¶ä¸»è¦åšæ³•æ˜¯é€†è½¬ä¸­ç‚¹ä¹‹åçš„å­ä¸²ï¼Œç„¶åè¿›è¡Œåˆ†éš”ï¼Œå†é€ä¸€æ¯”å¯¹æ˜¯å¦æœ‰ä¸ç›¸åŒçš„å­—ç¬¦ï¼Œå› æ­¤æ•´ä¸ªè¿‡ç¨‹åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š<br>a.é€šè¿‡slowä¸fastæŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨çš„ä¸­ç‚¹ä½ç½®midï¼›<br>b.ç„¶åå°†åŒºé—´[mid,end]ä¹‹é—´çš„å­é“¾è¡¨è¿›è¡Œåè½¬<br>c.å°†[start,mid)é—´çš„é“¾è¡¨ä¸å†é€ä¸€å¯¹æ¯”</p><h2 id="ä»£ç ç¼–å†™ï¼š"><a href="#ä»£ç ç¼–å†™ï¼š" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">reverse</span><span class="hljs-params">(ListNode* head)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(!head) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>        ListNode* pre = <span class="hljs-literal">nullptr</span>;<br>        ListNode* cur = head;<br>        ListNode* nex = <span class="hljs-literal">nullptr</span>;<br>        <span class="hljs-keyword">while</span>(cur)<br>        &#123;<br>            nex = cur-&gt;next;<br>            <br>            cur-&gt;next = pre;<br>            pre = cur;<br>            cur = nex;<br>        &#125;<br>        <span class="hljs-keyword">return</span> pre;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isPalindrome</span><span class="hljs-params">(ListNode* head)</span> </span>&#123;<br>        ListNode* fast = head;<br>        ListNode* slow  = head;<br>        <span class="hljs-comment">//è¿™é‡Œéœ€è¦æ³¨æ„è¾¹ç•Œé—®é¢˜</span><br>        <span class="hljs-keyword">while</span>(fast &amp;&amp; fast-&gt;next)<br>        &#123;<br>            fast = fast-&gt;next-&gt;next;<br>            slow = slow-&gt;next;<br>        &#125;<br>        ListNode* nodeR = <span class="hljs-built_in">reverse</span>(slow);<br>        ListNode* nodeL = head;<br> <br>        <span class="hljs-keyword">while</span>(nodeR)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(nodeR-&gt;val!=nodeL-&gt;val) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            nodeL = nodeL-&gt;next;<br>            nodeR = nodeR-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="ç¯å½¢é“¾è¡¨"><a href="#ç¯å½¢é“¾è¡¨" class="headerlink" title="ç¯å½¢é“¾è¡¨"></a>ç¯å½¢é“¾è¡¨</h1><h2 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª next æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚æ³¨æ„ï¼špos ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ ã€‚ä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯ ï¼Œåˆ™è¿”å› true ã€‚ å¦åˆ™ï¼Œè¿”å› false ã€‚</p><h2 id="è§£é¢˜æ€è·¯ï¼š"><a href="#è§£é¢˜æ€è·¯ï¼š" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>é€šè¿‡è®¾ç½®ä¸€ä¸ªslowæŒ‡é’ˆä¸ä¸€ä¸ªfastæŒ‡é’ˆï¼Œå½“slowä¸fastç›¸é‡æ—¶ï¼Œä»£è¡¨é“¾è¡¨æœ‰ç¯ï¼Œå¦‚æœfaståœ¨è¿‡ç¨‹ä¸­ç­‰äºnullptrçš„è¯ï¼Œä»£è¡¨å…¶é“¾è¡¨æ— ç¯ã€‚</p><h2 id="ä»£ç ç¼–å†™ï¼š-1"><a href="#ä»£ç ç¼–å†™ï¼š-1" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><ul><li>è¿™æ˜¯æˆ‘ä¸€å¼€å§‹å†™çš„ç‰ˆæœ¬ï¼š<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hasCycle</span><span class="hljs-params">(ListNode *head)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(!head || !head-&gt;next) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        ListNode* slow = head;<br>        ListNode* fast = head-&gt;next;<br>        <span class="hljs-keyword">while</span>(slow!=fast)&#123;<br>            <span class="hljs-keyword">if</span>(!slow-&gt;next || !fast-&gt;next || !fast-&gt;next-&gt;next) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            slow = slow-&gt;next;<br>            fast = fast-&gt;next-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>ç„¶åå°†è¿™æ®µä»£ç ç»™gptæ¶¦è‰²ï¼Œå¥¹ç»™æˆ‘æäº†å¦‚ä¸‹å»ºè®®ï¼š</li></ul><ol><li>fast æŒ‡é’ˆåˆå§‹åŒ–æ—¶ä¸éœ€è¦ç›´æ¥æŒ‡å‘ head-&gt;next<br>ä»£ç ä¸­å°† fast åˆå§‹åŒ–ä¸º head-&gt;nextï¼Œä½†æ²¡æœ‰å¿…è¦è¿™ä¹ˆåšã€‚æ ¹æ®å¿«æ…¢æŒ‡é’ˆçš„å¸¸è§å®ç°ï¼Œfast å’Œ slow éƒ½åº”è¯¥ä» head å¼€å§‹ã€‚fast æŒ‡é’ˆåœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¼šæ¯æ¬¡èµ°ä¸¤æ­¥ï¼Œslow æŒ‡é’ˆèµ°ä¸€æ­¥ã€‚å°† fast å’Œ slow éƒ½åˆå§‹åŒ–ä¸º head æ˜¯æ›´ç›´è§‚ä¸”ä¸€è‡´çš„åšæ³•ã€‚</li><li>å‡å°‘ä¸å¿…è¦çš„ç©ºæŒ‡é’ˆæ£€æŸ¥<br>åœ¨ while å¾ªç¯ä¸­ï¼Œè¿›è¡Œäº†å¤šæ¬¡çš„ç©ºæŒ‡é’ˆæ£€æŸ¥ï¼Œç‰¹åˆ«æ˜¯ï¼š<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">if</span>(!slow-&gt;next || !fast-&gt;next || !fast-&gt;next-&gt;next) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br></code></pre></td></tr></table></figure>å› ä¸ºå¦‚æœ fast æˆ– fast-&gt;next ä¸º nullptrï¼Œè¯´æ˜é“¾è¡¨å·²ç»åˆ°è¾¾æœ«å°¾ï¼Œæ²¡æœ‰ç¯ã€‚slow-&gt;next çš„æ£€æŸ¥æ˜¯å¤šä½™çš„ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æ¯æ¬¡å¾ªç¯ä¹‹å‰å·²ç»é€šè¿‡ fast çš„æ£€æŸ¥æ¥ç¡®ä¿ fast å’Œ fast-&gt;next ä¸ä¸ºç©ºã€‚è¿™äº›æ£€æŸ¥å®é™…ä¸Šå¯ä»¥æ›´ç®€æ´åœ°å†™æˆï¼š<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">if</span> (!fast || !fast-&gt;next) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br></code></pre></td></tr></table></figure></li><li>é¿å…é‡å¤çš„ slow å’Œ fast çš„è®¿é—®<br>ä»£ç æ¯æ¬¡éƒ½è®¿é—®äº† slow-&gt;next å’Œ fast-&gt;next-&gt;nextã€‚è¿™æ˜¯ä¸å¿…è¦çš„ï¼Œå› ä¸ºåªéœ€è¦åœ¨å¾ªç¯çš„å¼€å¤´å°±æ£€æŸ¥ä¸€æ¬¡ fast å’Œ fast-&gt;next æ˜¯å¦ä¸ºç©ºï¼Œç„¶åæ‰ç§»åŠ¨æŒ‡é’ˆã€‚</li><li>å¯¹å¤´èŠ‚ç‚¹çš„ç©ºæŒ‡é’ˆæ£€æŸ¥æ”¾åœ¨æœ€å‰é¢<br>å¤´èŠ‚ç‚¹ä¸ºç©ºæˆ–è€…åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œç›´æ¥è¿”å› falseï¼Œæ— éœ€ç»§ç»­æ‰§è¡Œå…¶ä»–é€»è¾‘ï¼Œå·²ç»å¾ˆé«˜æ•ˆã€‚<br>ä¼˜åŒ–åçš„ä»£ç ï¼š<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hasCycle</span><span class="hljs-params">(ListNode *head)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (!head || !head-&gt;next) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// ç©ºé“¾è¡¨æˆ–å•èŠ‚ç‚¹é“¾è¡¨æ²¡æœ‰ç¯</span><br>        ListNode* slow = head;<br>        ListNode* fast = head;<br>        <span class="hljs-keyword">while</span> (fast &amp;&amp; fast-&gt;next) &#123;  <span class="hljs-comment">// åªæ£€æŸ¥ fast å’Œ fast-&gt;next æ˜¯å¦ä¸ºç©º</span><br>            slow = slow-&gt;next;  <span class="hljs-comment">// æ…¢æŒ‡é’ˆæ¯æ¬¡èµ°ä¸€æ­¥</span><br>            fast = fast-&gt;next-&gt;next;  <span class="hljs-comment">// å¿«æŒ‡é’ˆæ¯æ¬¡èµ°ä¸¤æ­¥</span><br>            <span class="hljs-keyword">if</span> (slow == fast) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// å¿«æ…¢æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜æœ‰ç¯</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// å¿«æŒ‡é’ˆèµ°åˆ°é“¾è¡¨æœ«å°¾ï¼Œæ— ç¯</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure></li></ol><h1 id="ç¯å½¢é“¾è¡¨II"><a href="#ç¯å½¢é“¾è¡¨II" class="headerlink" title="ç¯å½¢é“¾è¡¨II"></a>ç¯å½¢é“¾è¡¨II</h1><h2 id="é¢˜ç›®æè¿°ï¼š-2"><a href="#é¢˜ç›®æè¿°ï¼š-2" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™å®šä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹  head ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª next æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚æ³¨æ„ï¼špos ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚ä¸å…è®¸<code>ä¿®æ”¹é“¾è¡¨</code>ã€‚</p><h2 id="è§£é¢˜æ€è·¯ï¼š-1"><a href="#è§£é¢˜æ€è·¯ï¼š-1" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>å‡è®¾ï¼šfastæ¯æ¬¡èµ°ä¸¤æ­¥ï¼Œslowæ¯æ¬¡èµ°ä¸€æ­¥,aä¸ºèµ·ç‚¹åˆ°ç¯å£çš„è·ç¦»ï¼Œbä¸ºç¯å£åˆ°ç›¸é‡ç‚¹çš„è·ç¦»ï¼Œcä¸ºç›¸é‡ç‚¹é¡ºæ—¶é’ˆåˆ°ç¯å£çš„è·ç¦»<br>(1) fastStep &#x3D; 2<em>slowStep &#x3D; a+n</em>(b+c)<br>(2) slowStep &#x3D; a+b<br>ç”±(1)ã€(2)å¯å¾—a &#x3D; (n-1)(b+c) + c<br>å› æ­¤æˆ‘ä»¬å¯ä»¥ä»ç›¸é‡ç‚¹å’Œèµ·ç‚¹å¼€å§‹é‡æ–°èµ°ï¼Œç›´åˆ°fastå’ŒslowæŒ‡é’ˆå†æ¬¡ç›¸é‡</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode *<span class="hljs-title">detectCycle</span><span class="hljs-params">(ListNode *head)</span> </span>&#123;<br>        ListNode* slow = head;<br>        ListNode* fast = head;<br>        <span class="hljs-keyword">while</span>(fast &amp;&amp; fast-&gt;next)<br>        &#123;<br>            slow = slow-&gt;next;<br>            fast = fast-&gt;next-&gt;next;<br>            <span class="hljs-keyword">if</span>(slow == fast)<br>            &#123;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(!fast || !fast-&gt;next) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>        fast = head;<br>        <span class="hljs-keyword">while</span>(fast!=slow)<br>        &#123;<br>            fast = fast-&gt;next;<br>            slow = slow-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> slow;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"><a href="#21-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨" class="headerlink" title="21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨"></a>21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</h1><h2 id="é¢˜ç›®æè¿°ï¼š-3"><a href="#é¢˜ç›®æè¿°ï¼š-3" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>å°†ä¸¤ä¸ª<code>å‡åº</code>é“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„<code>å‡åº</code>é“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚ </p><h2 id="è§£é¢˜æ€è·¯ï¼š-2"><a href="#è§£é¢˜æ€è·¯ï¼š-2" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>å¦‚æœ l1 æˆ–è€… l2 ä¸€å¼€å§‹å°±æ˜¯ç©ºé“¾è¡¨ ï¼Œé‚£ä¹ˆæ²¡æœ‰ä»»ä½•æ“ä½œéœ€è¦åˆå¹¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è¿”å›éç©ºé“¾è¡¨ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬è¦åˆ¤æ–­ l1 å’Œ l2 å“ªä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹çš„å€¼æ›´å°ï¼Œç„¶åé€’å½’åœ°å†³å®šä¸‹ä¸€ä¸ªæ·»åŠ åˆ°ç»“æœé‡Œçš„èŠ‚ç‚¹ã€‚å¦‚æœä¸¤ä¸ªé“¾è¡¨æœ‰ä¸€ä¸ªä¸ºç©ºï¼Œé€’å½’ç»“æŸã€‚</p><h2 id="ä»£ç ç¼–å†™ï¼š-2"><a href="#ä»£ç ç¼–å†™ï¼š-2" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">mergeTwoLists</span><span class="hljs-params">(ListNode* list1, ListNode* list2)</span> </span>&#123;<br>        <span class="hljs-comment">// å¦‚æœå…¶ä¸­ä¸€ä¸ªé“¾è¡¨ä¸ºç©ºï¼Œç›´æ¥è¿”å›å¦ä¸€ä¸ªé“¾è¡¨</span><br>        <span class="hljs-keyword">if</span> (!list1) <span class="hljs-keyword">return</span> list2;<br>        <span class="hljs-keyword">if</span> (!list2) <span class="hljs-keyword">return</span> list1;<br>        <span class="hljs-keyword">if</span>(list1-&gt;val &lt; list2-&gt;val)<br>        &#123;<br>            list1-&gt;next = <span class="hljs-built_in">mergeTwoLists</span>(list1-&gt;next,list2); <br>            <span class="hljs-keyword">return</span> list1;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            list2-&gt;next = <span class="hljs-built_in">mergeTwoLists</span>(list1,list2-&gt;next); <br>            <span class="hljs-keyword">return</span> list2;<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªç»“ç‚¹"><a href="#åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªç»“ç‚¹" class="headerlink" title="åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªç»“ç‚¹"></a>åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªç»“ç‚¹</h1><h2 id="é¢˜ç›®æè¿°ï¼š-4"><a href="#é¢˜ç›®æè¿°ï¼š-4" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚</p><h2 id="æ€è·¯åˆ†æï¼š-1"><a href="#æ€è·¯åˆ†æï¼š-1" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><p>è®¾å®šå¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆå…ˆèµ°næ­¥ï¼Œç„¶åæ…¢æŒ‡é’ˆä»å¤´å¼€å§‹èµ°ï¼Œç›´åˆ°å¿«æŒ‡é’ˆæ¢æµ‹åˆ°nullptr</p><h2 id="ä»£ç ç¼–å†™ï¼š-3"><a href="#ä»£ç ç¼–å†™ï¼š-3" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">removeNthFromEnd</span><span class="hljs-params">(ListNode* head, <span class="hljs-type">int</span> n)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (!head) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>        <br>        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œæ–¹ä¾¿å¤„ç†åˆ é™¤å¤´èŠ‚ç‚¹çš„æƒ…å†µ</span><br>        ListNode* dummy = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">0</span>);<br>        dummy-&gt;next = head;<br>        ListNode* slow = dummy;<br>        ListNode* fast = dummy;<br>        <br>        <span class="hljs-comment">// å¿«æŒ‡é’ˆå…ˆèµ° n+1 æ­¥</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i) &#123;<br>            fast = fast-&gt;next;<br>        &#125;<br><br>        <span class="hljs-comment">// å¿«æ…¢æŒ‡é’ˆä¸€èµ·ç§»åŠ¨ï¼Œç›´åˆ°å¿«æŒ‡é’ˆåˆ°è¾¾æœ«å°¾</span><br>        <span class="hljs-keyword">while</span> (fast) &#123;<br>            fast = fast-&gt;next;<br>            slow = slow-&gt;next;<br>        &#125;<br>        <br>        <span class="hljs-comment">// åˆ é™¤æ…¢æŒ‡é’ˆåé¢çš„èŠ‚ç‚¹</span><br>        slow-&gt;next = slow-&gt;next-&gt;next;<br>        <br>        <span class="hljs-comment">// è¿”å›æ–°çš„å¤´èŠ‚ç‚¹</span><br>        <span class="hljs-keyword">return</span> dummy-&gt;next;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="24-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"><a href="#24-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹" class="headerlink" title="24.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"></a>24.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</h1><h2 id="é¢˜ç›®æè¿°ï¼š-5"><a href="#é¢˜ç›®æè¿°ï¼š-5" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚ä½ å¿…é¡»åœ¨ä¸ä¿®æ”¹èŠ‚ç‚¹å†…éƒ¨çš„å€¼çš„æƒ…å†µä¸‹å®Œæˆæœ¬é¢˜ï¼ˆå³ï¼Œåªèƒ½è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ï¼‰ã€‚</p><h2 id="æ€è·¯åˆ†æï¼š-2"><a href="#æ€è·¯åˆ†æï¼š-2" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><blockquote><p> ListNode* l1 &#x3D; head;<br> ListNode* l2 &#x3D; head-&gt;next;<br> ListNode* l3 &#x3D; l2-&gt;next;<br>ç„¶åå°†l3ä½œä¸ºåˆ†æ”¯çš„å¤´æŒ‰ç›¸åŒçš„é€»è¾‘è¿›è¡ŒèŠ‚ç‚¹çš„é‡æ–°å…³è”</p></blockquote><h2 id="ä»£ç ç¼–å†™ï¼š-4"><a href="#ä»£ç ç¼–å†™ï¼š-4" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">swapPairs</span><span class="hljs-params">(ListNode* head)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(!head || !head-&gt;next) <span class="hljs-keyword">return</span> head;<br>        ListNode* l1 = head;<br>        ListNode* l2 = head-&gt;next;<br>        ListNode* l3 = l2-&gt;next;<br>        l1-&gt;next = <span class="hljs-built_in">swapPairs</span>(l3);<br>        l2-&gt;next = l1;<br>        <span class="hljs-keyword">return</span>  l2;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode-hot100</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025å¹´3æœˆ17æ—¥hot100ç»ƒä¹ </title>
    <link href="/2025/03/17/20250317-hot100/"/>
    <url>/2025/03/17/20250317-hot100/</url>
    
    <content type="html"><![CDATA[<h1 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h1><h2 id="æ€è·¯åˆ†æï¼š"><a href="#æ€è·¯åˆ†æï¼š" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><p>a.ç¬¬ä¸€è½®ä»èµ·å§‹ä½ç½®å¼€å§‹éå†æ•°ç»„ï¼Œæ¯”è¾ƒç›¸é‚»ä¸¤ä¸ªå€¼çš„å¤§å°ï¼Œå¦‚æœa&gt;bï¼Œåˆ™äº¤æ¢ä»–ä»¬ä¸¤ä¸ªçš„ä½ç½®<br>b.æ”¾ç½®å¥½ç¬¬ä¸€ä¸ªæœ€å¤§çš„ä½ç½®åï¼Œç„¶åå¾ªç¯aæ­¥éª¤ï¼Œç›´è‡³æ’åºå®Œæ¯•</p><h2 id="ä»£ç ç¼–å†™"><a href="#ä»£ç ç¼–å†™" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">bubbleSort</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n<span class="hljs-number">-1</span>; i++) &#123;<br>        <span class="hljs-comment">// æ ‡å¿—ä½ï¼Œç”¨äºæ£€æµ‹æ˜¯å¦å‘ç”Ÿäº†äº¤æ¢</span><br>        <span class="hljs-type">bool</span> swapped = <span class="hljs-literal">false</span>;<br>        <br>        <span class="hljs-comment">// å†…å±‚å¾ªç¯ï¼Œæ¯æ¬¡éå†å°†æœ€å¤§çš„å…ƒç´ â€œå†’æ³¡â€åˆ°æœ«å°¾</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n-i<span class="hljs-number">-1</span>; j++) &#123;<br>            <span class="hljs-keyword">if</span> (arr[j] &gt; arr[j<span class="hljs-number">+1</span>]) &#123;<br>                <span class="hljs-comment">// äº¤æ¢ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ </span><br>                <span class="hljs-built_in">swap</span>(arr[j], arr[j<span class="hljs-number">+1</span>]);<br>                swapped = <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>        <br>        <span class="hljs-comment">// å¦‚æœæ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œè¯´æ˜æ•°ç»„å·²ç»æœ‰åºï¼Œæå‰é€€å‡º</span><br>        <span class="hljs-keyword">if</span> (!swapped) &#123;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å¿«é€Ÿæ’åºï¼š"><a href="#å¿«é€Ÿæ’åºï¼š" class="headerlink" title="å¿«é€Ÿæ’åºï¼š"></a>å¿«é€Ÿæ’åºï¼š</h1><h2 id="æ€è·¯åˆ†æï¼š-1"><a href="#æ€è·¯åˆ†æï¼š-1" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><p>a.é€‰å–å½“å‰æ•°ç»„ä¸­ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†å€¼base<br>b.å°†æ•°ç»„ä¸­çš„å…ƒç´ ä¸baseè¿›è¡Œæ¯”è¾ƒï¼Œå°†å°äºbaseçš„æ”¾ç½®åœ¨å·¦è¾¹ï¼Œå¤§äºbaseçš„æ”¾ç½®åœ¨å³è¾¹<br>c.æ­¤æ—¶æ•°ç»„è¢«åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†part1å’Œpart2ï¼Œç„¶åæ¯ä¸ªå­éƒ¨åˆ†å•ç‹¬è¿›è¡Œé€’å½’ï¼Œé‡å¤1-3æ­¥éª¤</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// å¿«é€Ÿæ’åºçš„åˆ†åŒºå‡½æ•°</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">partition</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> low, <span class="hljs-type">int</span> high)</span> </span>&#123;<br>    <span class="hljs-type">int</span> pivot = arr[high];  <span class="hljs-comment">// é€‰å®šæœ€åä¸€ä¸ªå…ƒç´ ä¸ºåŸºå‡†</span><br>    <span class="hljs-type">int</span> i = low - <span class="hljs-number">1</span>;  <span class="hljs-comment">// i ç”¨æ¥è¿½è¸ªå°äºåŸºå‡†çš„å…ƒç´ ä½ç½®</span><br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = low; j &lt; high; j++) &#123;<br>        <span class="hljs-comment">// å¦‚æœå½“å‰å…ƒç´ å°äºæˆ–ç­‰äºåŸºå‡†ï¼Œåˆ™äº¤æ¢</span><br>        <span class="hljs-keyword">if</span> (arr[j] &lt;= pivot) &#123;<br>            i++;<br>            <span class="hljs-built_in">swap</span>(arr[i], arr[j]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// å°†åŸºå‡†æ”¾åˆ°æ­£ç¡®çš„ä½ç½®</span><br>    <span class="hljs-built_in">swap</span>(arr[i + <span class="hljs-number">1</span>], arr[high]);<br>    <span class="hljs-keyword">return</span> i + <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-comment">// å¿«é€Ÿæ’åºå‡½æ•°</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">quickSort</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> low, <span class="hljs-type">int</span> high)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (low &lt; high) &#123;<br>        <span class="hljs-comment">// è·å–åˆ†åŒºä½ç½®</span><br>        <span class="hljs-type">int</span> pi = <span class="hljs-built_in">partition</span>(arr, low, high);<br><br>        <span class="hljs-comment">// é€’å½’æ’åºåˆ†åŒºçš„ä¸¤éƒ¨åˆ†</span><br>        <span class="hljs-built_in">quickSort</span>(arr, low, pi - <span class="hljs-number">1</span>);<br>        <span class="hljs-built_in">quickSort</span>(arr, pi + <span class="hljs-number">1</span>, high);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ç›¸äº¤é“¾è¡¨"><a href="#ç›¸äº¤é“¾è¡¨" class="headerlink" title="ç›¸äº¤é“¾è¡¨"></a>ç›¸äº¤é“¾è¡¨</h1><h2 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><blockquote><p>ç»™ä½ ä¸¤ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ headA å’Œ headB ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚å¦‚æœä¸¤ä¸ªé“¾è¡¨ä¸å­˜åœ¨ç›¸äº¤èŠ‚ç‚¹ï¼Œè¿”å› null ã€‚å›¾ç¤ºä¸¤ä¸ªé“¾è¡¨åœ¨èŠ‚ç‚¹ c1 å¼€å§‹ç›¸äº¤ï¼š<br>é¢˜ç›®æ•°æ® ä¿è¯æ•´ä¸ªé“¾å¼ç»“æ„ä¸­ä¸å­˜åœ¨ç¯ã€‚æ³¨æ„ï¼Œå‡½æ•°è¿”å›ç»“æœåï¼Œé“¾è¡¨å¿…é¡»ä¿æŒå…¶åŸå§‹ç»“æ„ ã€‚</p></blockquote><h2 id="æ€è·¯åˆ†æï¼š-2"><a href="#æ€è·¯åˆ†æï¼š-2" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><p>ç”±äºé“¾è¡¨aå’Œbå…¶å¯¹åº”çš„é•¿åº¦ä¸ä¸€å®šç­‰é•¿ï¼Œå› æ­¤éœ€è¦å…³æ³¨<code>ç­‰é•¿</code>è¿™ä¸ªå…³é”®è¯ï¼Œå¯ä»¥è”æƒ³åˆ°a+b&#x3D;b+açš„é•¿åº¦ï¼Œé‚£ä¹ˆå°±å­˜åœ¨ä¸€ä¸ªä½ç½®<code>c</code>ï¼Œä»æ­¤åˆ»å¼€å§‹èµ°çš„é“¾è¡¨å…¶ä¼šåŒæ—¶åˆ°è¾¾ç›¸äº¤ç‚¹ï¼›<br>a.å¯¹äºé“¾è¡¨aæ¥è¯´ï¼Œé¦–å…ˆä»å¤´èŠ‚ç‚¹å‡ºå‘ï¼Œå¦‚æœé‡åˆ°nullptrèŠ‚ç‚¹æ—¶ï¼Œåˆ™è½¬ç§»åˆ°bèŠ‚ç‚¹çš„å¤´ä½ç½®<br>b.å¯¹äºé“¾è¡¨bæ¥è¯´ï¼Œé¦–å…ˆä»å¤´èŠ‚ç‚¹å‡ºå‘ï¼Œå¦‚æœé‡åˆ°nullptrèŠ‚ç‚¹æ—¶ï¼Œåˆ™è½¬ç§»åˆ°aèŠ‚ç‚¹çš„å¤´ä½ç½®</p><h2 id="ä»£ç ç¼–å†™ï¼š"><a href="#ä»£ç ç¼–å†™ï¼š" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode *<span class="hljs-title">getIntersectionNode</span><span class="hljs-params">(ListNode *headA, ListNode *headB)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(headA == <span class="hljs-literal">nullptr</span> || headB == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>        ListNode* curA = headA;<br>        ListNode* curB = headB;<br>        <span class="hljs-keyword">while</span>(curA!=curB )<br>        &#123;<br>            curA = curA?curA-&gt;next:headB;<br>            curB = curB?curB-&gt;next:headA;<br>        &#125;<br>        <span class="hljs-keyword">return</span> curA;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode-hot100</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>20250315å¥½æœªæ¥ç¬”è¯•</title>
    <link href="/2025/03/15/20250315%E5%A5%BD%E6%9C%AA%E6%9D%A5%E7%AC%94%E8%AF%95/"/>
    <url>/2025/03/15/20250315%E5%A5%BD%E6%9C%AA%E6%9D%A5%E7%AC%94%E8%AF%95/</url>
    
    <content type="html"><![CDATA[<h1 id="134-åŠ æ²¹ç«™"><a href="#134-åŠ æ²¹ç«™" class="headerlink" title="134.åŠ æ²¹ç«™"></a>134.åŠ æ²¹ç«™</h1><h2 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>åœ¨ä¸€æ¡ç¯è·¯ä¸Šæœ‰ n ä¸ªåŠ æ²¹ç«™ï¼Œå…¶ä¸­ç¬¬ i ä¸ªåŠ æ²¹ç«™æœ‰æ±½æ²¹ gas[i] å‡ã€‚ä½ æœ‰ä¸€è¾†æ²¹ç®±å®¹é‡æ— é™çš„çš„æ±½è½¦ï¼Œä»ç¬¬ i ä¸ªåŠ æ²¹ç«™å¼€å¾€ç¬¬ i+1 ä¸ªåŠ æ²¹ç«™éœ€è¦æ¶ˆè€—æ±½æ²¹ cost[i] å‡ã€‚ä½ ä»å…¶ä¸­çš„ä¸€ä¸ªåŠ æ²¹ç«™å‡ºå‘ï¼Œå¼€å§‹æ—¶æ²¹ç®±ä¸ºç©ºã€‚ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„ gas å’Œ cost ï¼Œå¦‚æœä½ å¯ä»¥æŒ‰é¡ºåºç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ï¼Œåˆ™è¿”å›å‡ºå‘æ—¶åŠ æ²¹ç«™çš„ç¼–å·ï¼Œå¦åˆ™è¿”å› -1 ã€‚å¦‚æœå­˜åœ¨è§£ï¼Œåˆ™ ä¿è¯ å®ƒæ˜¯ å”¯ä¸€ çš„ã€‚<br>ç¤ºä¾‹ 1:</p><blockquote><p>è¾“å…¥: gas &#x3D; [1,2,3,4,5], cost &#x3D; [3,4,5,1,2]<br>è¾“å‡º: 3<br>è§£é‡Š:<br>ä» 3 å·åŠ æ²¹ç«™(ç´¢å¼•ä¸º 3 å¤„)å‡ºå‘ï¼Œå¯è·å¾— 4 å‡æ±½æ²¹ã€‚æ­¤æ—¶æ²¹ç®±æœ‰ &#x3D; 0 + 4 &#x3D; 4 å‡æ±½æ²¹<br>å¼€å¾€ 4 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 4 - 1 + 5 &#x3D; 8 å‡æ±½æ²¹<br>å¼€å¾€ 0 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 8 - 2 + 1 &#x3D; 7 å‡æ±½æ²¹<br>å¼€å¾€ 1 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 7 - 3 + 2 &#x3D; 6 å‡æ±½æ²¹<br>å¼€å¾€ 2 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 6 - 4 + 3 &#x3D; 5 å‡æ±½æ²¹<br>å¼€å¾€ 3 å·åŠ æ²¹ç«™ï¼Œä½ éœ€è¦æ¶ˆè€— 5 å‡æ±½æ²¹ï¼Œæ­£å¥½è¶³å¤Ÿä½ è¿”å›åˆ° 3 å·åŠ æ²¹ç«™ã€‚<br>å› æ­¤ï¼Œ3 å¯ä¸ºèµ·å§‹ç´¢å¼•ã€‚<br>ç¤ºä¾‹ 2:<br>è¾“å…¥: gas &#x3D; [2,3,4], cost &#x3D; [3,4,3]<br>è¾“å‡º: -1<br>è§£é‡Š:<br>ä½ ä¸èƒ½ä» 0 å·æˆ– 1 å·åŠ æ²¹ç«™å‡ºå‘ï¼Œå› ä¸ºæ²¡æœ‰è¶³å¤Ÿçš„æ±½æ²¹å¯ä»¥è®©ä½ è¡Œé©¶åˆ°ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™ã€‚<br>æˆ‘ä»¬ä» 2 å·åŠ æ²¹ç«™å‡ºå‘ï¼Œå¯ä»¥è·å¾— 4 å‡æ±½æ²¹ã€‚ æ­¤æ—¶æ²¹ç®±æœ‰ &#x3D; 0 + 4 &#x3D; 4 å‡æ±½æ²¹<br>å¼€å¾€ 0 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 4 - 3 + 2 &#x3D; 3 å‡æ±½æ²¹<br>å¼€å¾€ 1 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 3 - 3 + 3 &#x3D; 3 å‡æ±½æ²¹<br>ä½ æ— æ³•è¿”å› 2 å·åŠ æ²¹ç«™ï¼Œå› ä¸ºè¿”ç¨‹éœ€è¦æ¶ˆè€— 4 å‡æ±½æ²¹ï¼Œä½†æ˜¯ä½ çš„æ²¹ç®±åªæœ‰ 3 å‡æ±½æ²¹ã€‚<br>å› æ­¤ï¼Œæ— è®ºæ€æ ·ï¼Œä½ éƒ½ä¸å¯èƒ½ç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ã€‚</p></blockquote><h2 id="æ€è·¯è§£æï¼š"><a href="#æ€è·¯è§£æï¼š" class="headerlink" title="æ€è·¯è§£æï¼š"></a>æ€è·¯è§£æï¼š</h2><p>å‡è®¾æˆ‘ä»¬æ­¤å‰å‘ç°ï¼Œä»åŠ æ²¹ç«™ x å‡ºå‘ï¼Œæ¯ç»è¿‡ä¸€ä¸ªåŠ æ²¹ç«™å°±åŠ ä¸€æ¬¡æ²¹ï¼ˆåŒ…æ‹¬èµ·å§‹åŠ æ²¹ç«™ï¼‰ï¼Œæœ€åä¸€ä¸ªå¯ä»¥åˆ°è¾¾çš„åŠ æ²¹ç«™æ˜¯ yï¼ˆä¸å¦¨è®¾ x&lt;yï¼‰ã€‚è¿™å°±è¯´æ˜ï¼š<br>ç¬¬ä¸€ä¸ªå¼å­è¡¨æ˜æ— æ³•åˆ°è¾¾åŠ æ²¹ç«™ y çš„ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™ï¼Œç¬¬äºŒä¸ªå¼å­è¡¨æ˜å¯ä»¥åˆ°è¾¾ y ä»¥åŠ y ä¹‹å‰çš„æ‰€æœ‰åŠ æ²¹ç«™ã€‚<br>ç°åœ¨ï¼Œè€ƒè™‘ä»»æ„ä¸€ä¸ªä½äº x,y ä¹‹é—´çš„åŠ æ²¹ç«™ zï¼ˆåŒ…æ‹¬ x å’Œ yï¼‰ï¼Œæˆ‘ä»¬ç°åœ¨è€ƒå¯Ÿä»è¯¥åŠ æ²¹ç«™å‡ºå‘ï¼Œèƒ½å¦åˆ°è¾¾åŠ æ²¹ç«™ y çš„ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™ï¼Œä¹Ÿå°±æ˜¯è¦åˆ¤æ–­åŒºé—´[z,y]å†…çš„åŠ æ²¹æ€»å’Œä¸[z,y]å†…çš„<br>æ”¯å‡ºæ€»å’Œçš„å…³ç³»ã€‚æ ¹æ®ä»¥ä¸Šå¼å­å¯å¾—ï¼š<br>ä»ä¸Šé¢çš„æ¨å¯¼ä¸­ï¼Œèƒ½å¤Ÿå¾—å‡ºç»“è®ºï¼šä» x,y ä¹‹é—´çš„ä»»ä½•ä¸€ä¸ªåŠ æ²¹ç«™å‡ºå‘ï¼Œéƒ½æ— æ³•åˆ°è¾¾åŠ æ²¹ç«™ y çš„ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™ã€‚æˆ‘ä»¬é¦–å…ˆæ£€æŸ¥ç¬¬ 0 ä¸ªåŠ æ²¹ç«™ï¼Œå¹¶è¯•å›¾åˆ¤æ–­èƒ½å¦ç¯ç»•ä¸€å‘¨ï¼›å¦‚æœä¸èƒ½ï¼Œå°±ä»ç¬¬ä¸€ä¸ªæ— æ³•åˆ°è¾¾çš„åŠ æ²¹ç«™å¼€å§‹ç»§ç»­æ£€æŸ¥ã€‚</p><h2 id="ä»£ç ç¼–å†™ï¼š"><a href="#ä»£ç ç¼–å†™ï¼š" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">canCompleteCircuit</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; gas, vector&lt;<span class="hljs-type">int</span>&gt;&amp; cost)</span> </span>&#123;<br>        <span class="hljs-type">int</span> cursum = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> sum = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> start = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; gas.<span class="hljs-built_in">size</span>(); i++) &#123;<br>            cursum += gas[i] - cost[i];<br>            sum += gas[i] - cost[i];<br>            <span class="hljs-keyword">if</span>(cursum &lt; <span class="hljs-number">0</span>) &#123;<br>                start = i<span class="hljs-number">+1</span>;<br>                cursum = <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(sum &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">return</span> start;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="665-éé€’å‡æ•°åˆ—"><a href="#665-éé€’å‡æ•°åˆ—" class="headerlink" title="665. éé€’å‡æ•°åˆ—"></a>665. éé€’å‡æ•°åˆ—</h1><h2 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ nums ï¼Œè¯·ä½ åˆ¤æ–­åœ¨ æœ€å¤š æ”¹å˜ 1 ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ï¼Œè¯¥æ•°ç»„èƒ½å¦å˜æˆä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚æˆ‘ä»¬æ˜¯è¿™æ ·å®šä¹‰ä¸€ä¸ªéé€’å‡æ•°åˆ—çš„ï¼š å¯¹äºæ•°ç»„ä¸­ä»»æ„çš„ i (0 &lt;&#x3D; i &lt;&#x3D; n-2)ï¼Œæ€»æ»¡è¶³ nums[i] &lt;&#x3D; nums[i + 1]ã€‚<br>ç¤ºä¾‹ 1:</p><blockquote><p>è¾“å…¥: nums &#x3D; [4,2,3]<br>è¾“å‡º: true<br>è§£é‡Š: ä½ å¯ä»¥é€šè¿‡æŠŠç¬¬ä¸€ä¸ª 4 å˜æˆ 1 æ¥ä½¿å¾—å®ƒæˆä¸ºä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚<br>ç¤ºä¾‹ 2:<br>è¾“å…¥: nums &#x3D; [4,2,1]<br>è¾“å‡º: false<br>è§£é‡Š: ä½ ä¸èƒ½åœ¨åªæ”¹å˜ä¸€ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹å°†å…¶å˜ä¸ºéé€’å‡æ•°åˆ—ã€‚</p></blockquote><h2 id="æ€è·¯è§£æï¼š-1"><a href="#æ€è·¯è§£æï¼š-1" class="headerlink" title="æ€è·¯è§£æï¼š"></a>æ€è·¯è§£æï¼š</h2><p>å¯»æ‰¾ä¸€ä¸ªä¸‹é™çš„ç›¸é‚»æ•°ç»„ï¼Œnum[i-1]&gt;num[i],ç´¢å¼•ä½ç½®è®°ä½œi-1,iï¼›ç”±äºä¸çŸ¥é“iä¹‹åçš„æ•°ç»„æ˜¯å¤§è¿˜æ˜¯å°ï¼Œå› æ­¤å°½é‡ä¸è°ƒæ•´i<br>a.å°†i-1å˜å°ï¼Œæ»¡è¶³num[i-2]&lt; num[i-1] &lt;&#x3D; num[i]<br>b.å°†iå˜å¤§ï¼Œæ»¡è¶³num[i-2]&lt; num[i-1] &lt;&#x3D; num[i]</p><h2 id="ä»£ç ç¼–å†™ï¼š-1"><a href="#ä»£ç ç¼–å†™ï¼š-1" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">checkPossibility</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i&lt;n;i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(nums[i<span class="hljs-number">-1</span>]&gt;nums[i])<br>            &#123;<br>                <span class="hljs-comment">//1.è°ƒæ•´i-1çš„å€¼ï¼Œå°†å…¶è°ƒæ•´åˆ°å¤§äºi-2å°äºiçš„èŒƒå›´å†…</span><br>                <span class="hljs-keyword">if</span>(i == <span class="hljs-number">1</span> || nums[i]&gt;=nums[i<span class="hljs-number">-2</span>])<br>                &#123;<br>                    nums[i<span class="hljs-number">-1</span>] = nums[i];<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                <span class="hljs-comment">//è°ƒæ•´içš„å€¼ï¼Œå°†å…¶å‘ä¸Šè°ƒæ•´</span><br>                    nums[i] = nums[i<span class="hljs-number">-1</span>];<br>                &#125;<br>                cnt++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> (cnt&lt;=<span class="hljs-number">1</span>);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="221-æœ€å¤§æ­£æ–¹å½¢"><a href="#221-æœ€å¤§æ­£æ–¹å½¢" class="headerlink" title="221.æœ€å¤§æ­£æ–¹å½¢"></a>221.æœ€å¤§æ­£æ–¹å½¢</h1><h2 id="é¢˜ç›®æè¿°ï¼š-2"><a href="#é¢˜ç›®æè¿°ï¼š-2" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>åœ¨ä¸€ä¸ªç”± â€˜0â€™ å’Œ â€˜1â€™ ç»„æˆçš„äºŒç»´çŸ©é˜µå†…ï¼Œæ‰¾åˆ°åªåŒ…å« â€˜1â€™ çš„æœ€å¤§æ­£æ–¹å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚</p><blockquote><p>è¾“å…¥ï¼šmatrix &#x3D; [[â€œ1â€,â€0â€,â€1â€,â€0â€,â€0â€],[â€œ1â€,â€0â€,â€1â€,â€1â€,â€1â€],[â€œ1â€,â€1â€,â€1â€,â€1â€,â€1â€],[â€œ1â€,â€0â€,â€0â€,â€1â€,â€0â€]]<br>è¾“å‡ºï¼š4</p></blockquote><h2 id="æ€è·¯åˆ†æï¼š"><a href="#æ€è·¯åˆ†æï¼š" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹dp[i][j]:ä»¥iï¼Œjä¸ºå³ä¸‹è§’çš„æœ€å¤§æ­£æ–¹å½¢è¾¹é•¿</p><h2 id="ä»£ç ç¼–å†™ï¼š-2"><a href="#ä»£ç ç¼–å†™ï¼š-2" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maximalSquare</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">char</span>&gt;&gt;&amp; matrix)</span> </span>&#123;<br>        <span class="hljs-type">int</span> m = matrix.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> n = matrix[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">dp</span>(m,<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(n,<span class="hljs-number">0</span>));<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i&lt;m;i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j&lt;n;j++)&#123;<br>                <span class="hljs-keyword">if</span>(matrix[i][j] == <span class="hljs-string">&#x27;1&#x27;</span>)&#123;<br>                    <span class="hljs-keyword">if</span>(i == <span class="hljs-number">0</span> || j ==<span class="hljs-number">0</span> )&#123;<br>                        dp[i][j]=<span class="hljs-number">1</span>;<br>                    &#125;<br>                    <span class="hljs-keyword">else</span>&#123;<br>                        dp[i][j] = <span class="hljs-built_in">min</span>(&#123;dp[i<span class="hljs-number">-1</span>][j],dp[i<span class="hljs-number">-1</span>][j<span class="hljs-number">-1</span>],dp[i][j<span class="hljs-number">-1</span>]&#125;)<span class="hljs-number">+1</span>;<br>                    &#125;<br>                    res = <span class="hljs-built_in">max</span>(dp[i][j],res);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res*res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å¤§å‚ç¬”è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025å¹´3æœˆ14æ—¥hot100ç»ƒä¹ </title>
    <link href="/2025/03/14/20250314-hot100/"/>
    <url>/2025/03/14/20250314-hot100/</url>
    
    <content type="html"><![CDATA[<h1 id="4-å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°"><a href="#4-å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°" class="headerlink" title="4.å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°"></a>4.å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°</h1><h2 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º m å’Œ n çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ nums1 å’Œ nums2ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°ã€‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º O(log (m+n)) ã€‚<br>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼šnums1 &#x3D; [1,3], nums2 &#x3D; [2]<br>è¾“å‡ºï¼š2.00000<br>è§£é‡Šï¼šåˆå¹¶æ•°ç»„ &#x3D; [1,2,3] ï¼Œä¸­ä½æ•° 2</p><p>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼šnums1 &#x3D; [1,2], nums2 &#x3D; [3,4]<br>è¾“å‡ºï¼š2.50000<br>è§£é‡Šï¼šåˆå¹¶æ•°ç»„ &#x3D; [1,2,3,4] ï¼Œä¸­ä½æ•° (2 + 3) &#x2F; 2 &#x3D; 2.5</p><h2 id="æ€è·¯åˆ†æï¼š"><a href="#æ€è·¯åˆ†æï¼š" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><h1 id="33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„"><a href="#33-æœç´¢æ—‹è½¬æ’åºæ•°ç»„" class="headerlink" title="33.æœç´¢æ—‹è½¬æ’åºæ•°ç»„"></a>33.æœç´¢æ—‹è½¬æ’åºæ•°ç»„</h1><h2 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>æ•´æ•°æ•°ç»„ nums æŒ‰å‡åºæ’åˆ—ï¼Œæ•°ç»„ä¸­çš„å€¼ äº’ä¸ç›¸åŒ ã€‚<br>åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œnums åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ kï¼ˆ0 &lt;&#x3D; k &lt; nums.lengthï¼‰ä¸Šè¿›è¡Œäº† æ—‹è½¬ï¼Œä½¿æ•°ç»„å˜ä¸º [nums[k], nums[k+1], â€¦, nums[n-1], nums[0], nums[1], â€¦, nums[k-1]]ï¼ˆä¸‹æ ‡ ä» 0 å¼€å§‹ è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ [0,1,2,4,5,6,7] åœ¨ä¸‹æ ‡ 3 å¤„ç»æ—‹è½¬åå¯èƒ½å˜ä¸º [4,5,6,7,0,1,2] ã€‚ç»™ä½  æ—‹è½¬å çš„æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ï¼Œå¦‚æœ nums ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ target ï¼Œåˆ™è¿”å›å®ƒçš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1 ã€‚ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º<code>O(log n)</code>çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚</p><h2 id="æ€è·¯åˆ†æï¼š-1"><a href="#æ€è·¯åˆ†æï¼š-1" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><p>æ€è·¯1ï¼šä¸€ä¸ªo(n)è§£æ³•ï¼š<br>a.æ‰¾åˆ°å•è°ƒä¸‹é™çš„ç´¢å¼•ä½ç½®,è®°ä½œkï¼Œç„¶å[begin,k]å…¨éƒ¨reverse<br>b.å†ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•è¿›è¡ŒæŸ¥æ‰¾<br>æ€è·¯2ï¼šO(log n)è§£æ³•<br>a.ç¡®è®¤æ˜¯å‡åºåŒºé—´è¿˜æ˜¯ä¹±åºåŒºé—´[left,mid],[mid,right]<br>b.æ ¹æ®targetä¸åŒºé—´ç«¯å€¼è¿›è¡Œæ¯”è¾ƒï¼Œåˆ¤æ–­åœ¨å·¦åŠåŒºé—´è¿˜æ˜¯å³è¾¹çš„åŒºé—´ï¼Œè¿›è¡ŒåŒºé—´æ”¶ç¼©<br>c.å¾ªç¯1.2æ­¥</p><h2 id="ä»£ç åˆ†æï¼š"><a href="#ä»£ç åˆ†æï¼š" class="headerlink" title="ä»£ç åˆ†æï¼š"></a>ä»£ç åˆ†æï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">search</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-comment">//ç¡®è®¤æ˜¯å‡åºåŒºé—´è¿˜æ˜¯ä¹±åºåŒºé—´[left,mid][mid,right]</span><br>        <span class="hljs-comment">//æ ¹æ®targetä¸leftè¿›è¡Œæ¯”è¾ƒï¼Œåˆ¤æ–­åœ¨å·¦åŠåŒºé—´è¿˜æ˜¯å³è¾¹çš„åŒºé—´</span><br>        <span class="hljs-comment">//å¾ªç¯1.2æ­¥</span><br>        <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>,right = nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">while</span>(left&lt;=right)<br>        &#123;<br>            <span class="hljs-type">int</span> mid = left + (right-left)/<span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span>(nums[mid] == target)<br>            &#123;<br>                <span class="hljs-keyword">return</span> mid;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(nums[left]&lt;=nums[mid])<br>            &#123;<br>                <span class="hljs-keyword">if</span>(target&gt;=nums[left] &amp;&amp; target&lt;nums[mid])<br>                &#123;<br>                    right = mid<span class="hljs-number">-1</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    left = mid<span class="hljs-number">+1</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-keyword">if</span>(target&gt;nums[mid] &amp;&amp; target&lt;=nums[right])<br>                &#123;<br>                    left = mid<span class="hljs-number">+1</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    right = mid<span class="hljs-number">-1</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="34-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"><a href="#34-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®" class="headerlink" title="34.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"></a>34.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</h1><h2 id="é¢˜ç›®æè¿°ï¼š-2"><a href="#é¢˜ç›®æè¿°ï¼š-2" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ ä¸€ä¸ªæŒ‰ç…§éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ targetï¼Œè¿”å› [-1, -1]ã€‚<br>ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º<code>O(log n)</code>çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚</p><h2 id="æ€è·¯åˆ†æï¼š-2"><a href="#æ€è·¯åˆ†æï¼š-2" class="headerlink" title="æ€è·¯åˆ†æï¼š"></a>æ€è·¯åˆ†æï¼š</h2><p>a.é¦–å…ˆæ‰¾åˆ°æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªç­‰äºtargetçš„ä½ç½®<br>b.å†æ‰¾åˆ°æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå¤§äºtargetçš„ä½ç½®<br>c.è¿›è¡Œè¿”å›å€¼çš„æ£€æŸ¥</p><h2 id="ä»£ç ç¼–å†™ï¼š"><a href="#ä»£ç ç¼–å†™ï¼š" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">searchLeftBoundary</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>, right = nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">while</span> (left &lt;= right) &#123;<br>            <span class="hljs-type">int</span> mid = left + (right - left) / <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span> (nums[mid] &gt;= target) &#123;  <span class="hljs-comment">// æ‰¾å·¦è¾¹ç•Œï¼Œnums[mid] == target ä¹Ÿè¦å¾€å·¦æ‰¾</span><br>                right = mid - <span class="hljs-number">1</span>;<br>                res = mid;  <span class="hljs-comment">// è®°å½•å½“å‰å¯èƒ½çš„å·¦è¾¹ç•Œ</span><br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                left = mid + <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">searchRightBoundary</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>, right = nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">while</span> (left &lt;= right) &#123;<br>            <span class="hljs-type">int</span> mid = left + (right - left) / <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span> (nums[mid] &lt;= target) &#123;  <span class="hljs-comment">// æ‰¾å³è¾¹ç•Œï¼Œnums[mid] == target ä¹Ÿè¦å¾€å³æ‰¾</span><br>                left = mid + <span class="hljs-number">1</span>;<br>                res = mid;  <span class="hljs-comment">// è®°å½•å½“å‰å¯èƒ½çš„å³è¾¹ç•Œ</span><br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                right = mid - <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br><br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">searchRange</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">res</span><span class="hljs-params">(<span class="hljs-number">2</span>, <span class="hljs-number">-1</span>)</span></span>;<br>        <span class="hljs-keyword">if</span> (nums.<span class="hljs-built_in">empty</span>()) <span class="hljs-keyword">return</span> res;  <span class="hljs-comment">// å¤„ç†ç©ºæ•°ç»„æƒ…å†µ</span><br><br>        <span class="hljs-type">int</span> leftRange = <span class="hljs-built_in">searchLeftBoundary</span>(nums, target);<br>        <span class="hljs-type">int</span> rightRange = <span class="hljs-built_in">searchRightBoundary</span>(nums, target);<br><br>        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦çœŸæ­£æ‰¾åˆ°äº† target</span><br>        <span class="hljs-keyword">if</span> (leftRange == <span class="hljs-number">-1</span> || rightRange == <span class="hljs-number">-1</span> || nums[leftRange] != target || nums[rightRange] != target) &#123;<br>            <span class="hljs-keyword">return</span> res;<br>        &#125;<br>        <br>        res[<span class="hljs-number">0</span>] = leftRange;<br>        res[<span class="hljs-number">1</span>] = rightRange;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="240-æœç´¢äºŒç»´çŸ©é˜µ"><a href="#240-æœç´¢äºŒç»´çŸ©é˜µ" class="headerlink" title="240.æœç´¢äºŒç»´çŸ©é˜µ"></a>240.æœç´¢äºŒç»´çŸ©é˜µ</h1><h2 id="é¢˜ç›®æè¿°ï¼š-3"><a href="#é¢˜ç›®æè¿°ï¼š-3" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç¼–å†™ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•æ¥æœç´¢ m x n çŸ©é˜µ matrix ä¸­çš„ä¸€ä¸ªç›®æ ‡å€¼ target ã€‚è¯¥çŸ©é˜µå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>æ¯è¡Œçš„å…ƒç´ ä»å·¦åˆ°å³å‡åºæ’åˆ—ã€‚</li><li>æ¯åˆ—çš„å…ƒç´ ä»ä¸Šåˆ°ä¸‹å‡åºæ’åˆ—ã€‚<br>è¾“å…¥ï¼šmatrix &#x3D; [[1,4,7,11,15],[2,5,8,12,19],[3,6,9,16,22],[10,13,14,17,24],[18,21,23,26,30]], target &#x3D; 5<br>è¾“å‡ºï¼štrue</li></ul><h2 id="è§£é¢˜æ€è·¯ï¼š"><a href="#è§£é¢˜æ€è·¯ï¼š" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>é€‰å–å³ä¸Šè§’ä¸ºæœç´¢åˆå€¼ï¼Œå½“<code>matrix[row][col]&gt;target</code>æ—¶ï¼Œä»£è¡¨colè¦æ”¶ç¼©ä¸€ä¸ªï¼Œå¦‚æœ<code>matrix[row][col]&lt; target</code>,ä»£è¡¨rowè¦å¢åŠ </p><h2 id="ä»£ç ç¼–å†™ï¼š-1"><a href="#ä»£ç ç¼–å†™ï¼š-1" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">searchMatrix</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; matrix, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-type">int</span> rows = matrix.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>;<br>        <span class="hljs-type">int</span> cols = matrix[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>;<br>        <span class="hljs-type">int</span> row = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> col = cols;<br>        <span class="hljs-keyword">if</span>(matrix.<span class="hljs-built_in">empty</span>()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">while</span>(row&lt;=rows &amp;&amp; col&gt;=<span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(matrix[row][col] == target)<br>            &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(matrix[row][col]&gt;target)<br>            &#123;<br>                col--;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                row++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="#3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²" class="headerlink" title="3.æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a>3.æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</h1><h2 id="é¢˜ç›®æè¿°ï¼š-4"><a href="#é¢˜ç›®æè¿°ï¼š-4" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿ å­ä¸² çš„é•¿åº¦ã€‚<br>ç¤ºä¾‹ 1:</p><blockquote><p>è¾“å…¥: s &#x3D; â€œabcabcbbâ€<br>è¾“å‡º: 3<br>è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œabcâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚<br>ç¤ºä¾‹ 2:<br>è¾“å…¥: s &#x3D; â€œbbbbbâ€<br>è¾“å‡º: 1<br>è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œbâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚<br>ç¤ºä¾‹ 3:<br>è¾“å…¥: s &#x3D; â€œpwwkewâ€<br>è¾“å‡º: 3<br>è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œwkeâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚<br>     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œâ€pwkeâ€ æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</p></blockquote><h2 id="è§£é¢˜æ€è·¯ï¼š-1"><a href="#è§£é¢˜æ€è·¯ï¼š-1" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>a.å¦‚æœæ²¡æœ‰é‡å¤å­ä¸²ï¼Œåˆ™å‘å³ç”Ÿé•¿ï¼Œå¦åˆ™æ”¶ç¼©å·¦è¾¹ç•Œ</p><h2 id="ä»£ç ç¼–å†™ï¼š-2"><a href="#ä»£ç ç¼–å†™ï¼š-2" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">lengthOfLongestSubstring</span><span class="hljs-params">(string s)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(s.<span class="hljs-built_in">size</span>()==<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; <br><br>        unordered_map&lt;<span class="hljs-type">char</span>,<span class="hljs-type">int</span>&gt; umap;<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> head = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i&lt;s.<span class="hljs-built_in">size</span>();i++)<br>        &#123;<br>            head = <span class="hljs-built_in">max</span>(head,umap[s[i]]);<br>            umap[s[i]] = i<span class="hljs-number">+1</span>;<br>            res = <span class="hljs-built_in">max</span>(res,i-head<span class="hljs-number">+1</span>);<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode-hot100</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025å¹´3æœˆ13æ—¥hot100ç»ƒä¹ </title>
    <link href="/2025/03/14/20250313-hot100/"/>
    <url>/2025/03/14/20250313-hot100/</url>
    
    <content type="html"><![CDATA[<h1 id="31-ä¸‹ä¸€ä¸ªæ’åˆ—"><a href="#31-ä¸‹ä¸€ä¸ªæ’åˆ—" class="headerlink" title="31. ä¸‹ä¸€ä¸ªæ’åˆ—"></a>31. ä¸‹ä¸€ä¸ªæ’åˆ—</h1><h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>æ•´æ•°æ•°ç»„çš„ä¸€ä¸ª æ’åˆ—  å°±æ˜¯å°†å…¶æ‰€æœ‰æˆå‘˜ä»¥åºåˆ—æˆ–çº¿æ€§é¡ºåºæ’åˆ—ã€‚</p><ul><li>ä¾‹å¦‚ï¼Œarr &#x3D; [1,2,3] ï¼Œä»¥ä¸‹è¿™äº›éƒ½å¯ä»¥è§†ä½œ arr çš„æ’åˆ—ï¼š[1,2,3]ã€[1,3,2]ã€[3,1,2]ã€[2,3,1] ã€‚<br>æ•´æ•°æ•°ç»„çš„ ä¸‹ä¸€ä¸ªæ’åˆ— æ˜¯æŒ‡å…¶æ•´æ•°çš„ä¸‹ä¸€ä¸ªå­—å…¸åºæ›´å¤§çš„æ’åˆ—ã€‚æ›´æ­£å¼åœ°ï¼Œå¦‚æœæ•°ç»„çš„æ‰€æœ‰æ’åˆ—æ ¹æ®å…¶å­—å…¸é¡ºåºä»å°åˆ°å¤§æ’åˆ—åœ¨ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œé‚£ä¹ˆæ•°ç»„çš„ ä¸‹ä¸€ä¸ªæ’åˆ— å°±æ˜¯åœ¨è¿™ä¸ªæœ‰åºå®¹å™¨ä¸­æ’åœ¨å®ƒåé¢çš„é‚£ä¸ªæ’åˆ—ã€‚å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„å¿…é¡»é‡æ’ä¸ºå­—å…¸åºæœ€å°çš„æ’åˆ—ï¼ˆå³ï¼Œå…¶å…ƒç´ æŒ‰å‡åºæ’åˆ—ï¼‰ã€‚</li><li>ä¾‹å¦‚ï¼Œarr &#x3D; [1,2,3] çš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ [1,3,2] ã€‚</li><li>ç±»ä¼¼åœ°ï¼Œarr &#x3D; [2,3,1] çš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ [3,1,2] ã€‚<br>è€Œ arr &#x3D; [3,2,1] çš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ [1,2,3] ï¼Œå› ä¸º [3,2,1] ä¸å­˜åœ¨ä¸€ä¸ªå­—å…¸åºæ›´å¤§çš„æ’åˆ—ã€‚<br>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾å‡º nums çš„ä¸‹ä¸€ä¸ªæ’åˆ—ã€‚</li></ul><p>å¿…é¡»<code>åŸåœ°</code>ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´ã€‚</p><p>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼šnums &#x3D; [1,2,3]<br>è¾“å‡ºï¼š[1,3,2]</p><p>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼šnums &#x3D; [3,2,1]<br>è¾“å‡ºï¼š[1,2,3]</p><p>ç¤ºä¾‹ 3ï¼š<br>è¾“å…¥ï¼šnums &#x3D; [1,1,5]<br>è¾“å‡ºï¼š[1,5,1]</p><h2 id="è§£é¢˜è¦ç‚¹"><a href="#è§£é¢˜è¦ç‚¹" class="headerlink" title="è§£é¢˜è¦ç‚¹"></a>è§£é¢˜è¦ç‚¹</h2><p>a.é¦–å…ˆä»åå¾€å‰éå†ï¼Œæ‰¾åˆ°ä¸€ä¸ªå‡åºçš„é‚»ç‚¹,è®°ä½œk-1,kï¼›<br>b.ç„¶åç»§ç»­ä»åå¾€å‰æ‰¾ï¼Œæ‰¾åˆ°ä¸€ä¸ªæ¯”k-1ç´¢å¼•å¤„å€¼æ¯”k-1å¤„å€¼å°çš„ç‚¹ï¼Œè®°ä½œjï¼›<br>c.ç„¶åå°†[k,end]åŒºé—´å…¨éƒ¨ç¿»è½¬ï¼›</p><h2 id="ä»£ç ç¼–å†™"><a href="#ä»£ç ç¼–å†™" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">nextPermutation</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> k = nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>;<br>        <span class="hljs-type">int</span> o =  k;<br>        <span class="hljs-comment">//æ‰¾åˆ°ç¬¬ä¸€ä¸ªç›¸é‚»æ•°ç»„å‡åºçš„</span><br>        <span class="hljs-keyword">while</span>(k&gt;<span class="hljs-number">0</span> &amp;&amp; nums[k<span class="hljs-number">-1</span>]&gt;=nums[k]) k--;<br>        <span class="hljs-keyword">if</span>(k&lt;=<span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-built_in">reverse</span>(nums.<span class="hljs-built_in">begin</span>(),nums.<span class="hljs-built_in">end</span>());<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-comment">//æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”ä»–å¤§</span><br>            <span class="hljs-keyword">while</span>(nums[k<span class="hljs-number">-1</span>]&gt;=nums[o]) o--;<br>            <span class="hljs-built_in">swap</span>(nums[k<span class="hljs-number">-1</span>],nums[o]);<br>            <span class="hljs-comment">//ç„¶ååç»­å…¨éƒ¨å‡åº</span><br>            <span class="hljs-built_in">reverse</span>(nums.<span class="hljs-built_in">begin</span>()+k,nums.<span class="hljs-built_in">end</span>());<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="48-æ—‹è½¬å›¾åƒ"><a href="#48-æ—‹è½¬å›¾åƒ" class="headerlink" title="48. æ—‹è½¬å›¾åƒ"></a>48. æ—‹è½¬å›¾åƒ</h1><h2 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™å®šä¸€ä¸ª n Ã— n çš„äºŒç»´çŸ©é˜µ<code>matrix</code>è¡¨ç¤ºä¸€ä¸ªå›¾åƒã€‚è¯·ä½ å°†å›¾åƒé¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ã€‚<br>ä½ å¿…é¡»åœ¨<code>åŸåœ°</code>æ—‹è½¬å›¾åƒï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦ç›´æ¥ä¿®æ”¹è¾“å…¥çš„äºŒç»´çŸ©é˜µã€‚è¯·ä¸è¦ä½¿ç”¨å¦ä¸€ä¸ªçŸ©é˜µæ¥æ—‹è½¬å›¾åƒã€‚<br>è¾“å…¥ï¼šmatrix &#x3D; [[1,2,3],[4,5,6],[7,8,9]]<br>è¾“å‡ºï¼š[[7,4,1],[8,5,2],[9,6,3]]</p><h2 id="è§£é¢˜æ€è·¯ï¼š"><a href="#è§£é¢˜æ€è·¯ï¼š" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>å¯¹äºmatrixçŸ©é˜µçš„å››ä¸ªè§’,n*n<br>    (i,j)aâ€”â€”â€”â€”b(j,n-i-1)<br>         |    |<br>         |    |<br>(n-j-1,i)câ€”â€”â€”â€”d(n-i-1,n-j-1)<br>èµ‹å€¼é¡ºåºï¼šcâ€“&gt;a,dâ€“&gt;c,bâ€“&gt;d,aâ€“&gt;b</p><h2 id="ä»£ç ç¼–å†™ï¼š"><a href="#ä»£ç ç¼–å†™ï¼š" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">rotate</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; matrix)</span> </span>&#123;<br>        <span class="hljs-type">int</span> m = matrix.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> n = matrix[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i&lt;m/<span class="hljs-number">2</span>;i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j&lt;(n<span class="hljs-number">+1</span>)/<span class="hljs-number">2</span>;j++)<br>            &#123;<br>                <span class="hljs-type">int</span> val = matrix[i][j];<br>                matrix[i][j] = matrix[n - j <span class="hljs-number">-1</span>][i];<br>                matrix[n - j <span class="hljs-number">-1</span>][i] = matrix[m - i <span class="hljs-number">-1</span>][n - j <span class="hljs-number">-1</span>];<br>                matrix[m - i <span class="hljs-number">-1</span>][n - j <span class="hljs-number">-1</span>] = matrix[j][m - i <span class="hljs-number">-1</span>];<br>                matrix[j][m - i <span class="hljs-number">-1</span>] = val;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="169-å¤šæ•°å…ƒç´ "><a href="#169-å¤šæ•°å…ƒç´ " class="headerlink" title="169. å¤šæ•°å…ƒç´ "></a>169. å¤šæ•°å…ƒç´ </h1><h2 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™å®šä¸€ä¸ªå¤§å°ä¸º n çš„æ•°ç»„ nums ï¼Œè¿”å›å…¶ä¸­çš„å¤šæ•°å…ƒç´ ã€‚å¤šæ•°å…ƒç´ æ˜¯æŒ‡åœ¨æ•°ç»„ä¸­å‡ºç°æ¬¡æ•° å¤§äº âŒŠ n&#x2F;2 âŒ‹ çš„å…ƒç´ ã€‚<br>ä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ </p><h2 id="è§£é¢˜æ€è·¯ï¼š-1"><a href="#è§£é¢˜æ€è·¯ï¼š-1" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>å®šä¹‰ä¸€ä¸ªå“ˆå¸Œæ•°ç»„å’Œè¿”å›å€¼ï¼Œç„¶åå¯¹æ•°ç»„æ·»åŠ è¿›å“ˆå¸Œè¡¨ä¸­ï¼Œæ›´æ–°è¿”å›å€¼ï¼Œå…¶ä¸­å½“é¢‘ç‡å¤§äºn&#x2F;2æ—¶ï¼Œç›´æ¥è¿”å›res</p><h2 id="ä»£ç ç¼–å†™ï¼š-1"><a href="#ä»£ç ç¼–å†™ï¼š-1" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">majorityElement</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> sz = nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> maxFre = INT_MIN;<br>        unordered_map&lt;<span class="hljs-type">int</span>,<span class="hljs-type">int</span>&gt; map;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i&lt;sz;i++)<br>        &#123;<br>            map[nums[i]]++;<br>            <span class="hljs-keyword">if</span>(map[nums[i]]&gt;maxFre)<br>            &#123;<br>                maxFre = <span class="hljs-built_in">max</span>(maxFre,map[nums[i]]);<br>                res = nums[i];<br>                <span class="hljs-keyword">if</span>(maxFre&gt;sz/<span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> res;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="215-æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ "><a href="#215-æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ " class="headerlink" title="215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ "></a>215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ </h1><h2 id="é¢˜ç›®æè¿°ï¼š-2"><a href="#é¢˜ç›®æè¿°ï¼š-2" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™å®šæ•´æ•°æ•°ç»„ nums å’Œæ•´æ•° kï¼Œè¯·è¿”å›æ•°ç»„ä¸­ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ã€‚è¯·æ³¨æ„ï¼Œä½ éœ€è¦æ‰¾çš„æ˜¯æ•°ç»„æ’åºåçš„ç¬¬ k ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ k ä¸ªä¸åŒçš„å…ƒç´ ã€‚<br>ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚</p><h2 id="è§£é¢˜æ€è·¯ï¼š-2"><a href="#è§£é¢˜æ€è·¯ï¼š-2" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>å»ºç«‹ä¸€ä¸ªå¤§å°ä¸ºkçš„å †ï¼Œç„¶åå¯¹å…¶è¿›è¡Œç»´æŠ¤ï¼Œå½“æ•°ç»„æ·»åŠ ç»´æŠ¤å®Œæ¯•ï¼Œå°†å †çš„å †é¡¶å…ƒç´ æ¨å‡º</p><h2 id="ä»£ç ç¼–å†™ï¼š-2"><a href="#ä»£ç ç¼–å†™ï¼š-2" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">findKthLargest</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> k)</span> </span>&#123;<br>       priority_queue&lt;<span class="hljs-type">int</span>,vector&lt;<span class="hljs-type">int</span>&gt;,greater&lt;&gt;&gt; q;<br>       <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; num:nums)<br>       &#123;<br>            <span class="hljs-keyword">if</span>(q.<span class="hljs-built_in">size</span>()&lt;k)<br>            &#123;<br>                q.<span class="hljs-built_in">push</span>(num);<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(q.<span class="hljs-built_in">top</span>()&lt;num)<br>            &#123;<br>                q.<span class="hljs-built_in">pop</span>();<br>                q.<span class="hljs-built_in">push</span>(num);<br>            &#125;<br>       &#125;<br>       <span class="hljs-keyword">return</span> q.<span class="hljs-built_in">top</span>();<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="238-é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯"><a href="#238-é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯" class="headerlink" title="238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯"></a>238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯</h1><h2 id="é¢˜ç›®æè¿°ï¼š-3"><a href="#é¢˜ç›®æè¿°ï¼š-3" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>#ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¿”å› æ•°ç»„ answer ï¼Œå…¶ä¸­ answer[i] ç­‰äº nums ä¸­é™¤ nums[i] ä¹‹å¤–å…¶ä½™å„å…ƒç´ çš„ä¹˜ç§¯ ã€‚é¢˜ç›®æ•°æ® ä¿è¯ æ•°ç»„ numsä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€çš„ä¹˜ç§¯éƒ½åœ¨32 ä½ æ•´æ•°èŒƒå›´å†…ã€‚è¯· ä¸è¦ä½¿ç”¨é™¤æ³•ï¼Œä¸”åœ¨ O(n) æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ­¤é¢˜ã€‚</p><h2 id="è§£é¢˜æ€è·¯ï¼š-3"><a href="#è§£é¢˜æ€è·¯ï¼š-3" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>ä½¿ç”¨åç¼€ä¹˜ç§¯å’Œåç¼€ä¹˜ç§¯è¿›è¡Œç¼–å†™,å…¶å‰ç¼€å’Œåç¼€ä¹˜ç§¯æœ‰å¦‚ä¸‹å…³ç³»ï¼š<br>pre[i]&#x3D;pre[i-1]*num[i-1];<br>suf[i]&#x3D;suf[i-1]*num[i-1];<br>å› æ­¤å¯¹äºæ•°ç»„ä¸­æŸä¸ªå…ƒç´ é™¤è‡ªèº«å¤–çš„ä¹˜ç§¯å¯ç”±ä¸‹å¼è¿›è¡Œè®¡ç®—ï¼š<br>res[i]&#x3D;pre[i]*suf[i];</p><h2 id="ä»£ç ç¼–å†™ï¼š-3"><a href="#ä»£ç ç¼–å†™ï¼š-3" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">productExceptSelf</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">pre</span><span class="hljs-params">(nums.size(),<span class="hljs-number">1</span>)</span></span>;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">suf</span><span class="hljs-params">(nums.size(),<span class="hljs-number">1</span>)</span></span>;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">res</span><span class="hljs-params">(nums.size(),<span class="hljs-number">0</span>)</span></span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i&lt;nums.<span class="hljs-built_in">size</span>();i++)<br>        &#123;<br>            pre[i] = pre[i<span class="hljs-number">-1</span>]*nums[i<span class="hljs-number">-1</span>];<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-2</span>;j&gt;=<span class="hljs-number">0</span>;j--)<br>        &#123;<br>            suf[j] = suf[j<span class="hljs-number">+1</span>]*nums[j<span class="hljs-number">+1</span>];<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>;k&lt;nums.<span class="hljs-built_in">size</span>();k++)<br>        &#123;<br>            res[k] = pre[k]*suf[k];<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="448-æ‰¾åˆ°æ‰€æœ‰æ¶ˆå¤±çš„æ•°å­—"><a href="#448-æ‰¾åˆ°æ‰€æœ‰æ¶ˆå¤±çš„æ•°å­—" class="headerlink" title="448.æ‰¾åˆ°æ‰€æœ‰æ¶ˆå¤±çš„æ•°å­—"></a>448.æ‰¾åˆ°æ‰€æœ‰æ¶ˆå¤±çš„æ•°å­—</h1><h2 id="é¢˜ç›®æè¿°ï¼š-4"><a href="#é¢˜ç›®æè¿°ï¼š-4" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ ä¸€ä¸ªå« n ä¸ªæ•´æ•°çš„æ•°ç»„ nums ï¼Œå…¶ä¸­ nums[i] åœ¨åŒºé—´ [1, n] å†…ã€‚è¯·ä½ æ‰¾å‡ºæ‰€æœ‰åœ¨ [1, n] èŒƒå›´å†…ä½†æ²¡æœ‰å‡ºç°åœ¨ nums ä¸­çš„æ•°å­—ï¼Œå¹¶ä»¥æ•°ç»„çš„å½¢å¼è¿”å›ç»“æœã€‚<br>ç¤ºä¾‹ 1ï¼š<br>è¾“å…¥ï¼šnums &#x3D; [4,3,2,7,8,2,3,1]<br>è¾“å‡ºï¼š[5,6]<br>ç¤ºä¾‹ 2ï¼š<br>è¾“å…¥ï¼šnums &#x3D; [1,1]<br>è¾“å‡ºï¼š[2]</p><h2 id="è§£é¢˜æ€è·¯ï¼š-4"><a href="#è§£é¢˜æ€è·¯ï¼š-4" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>å»ºç«‹ä¸€ä¸ªå¤§å°ä¸ºnçš„å“ˆå¸Œæ•°ç»„ï¼Œç„¶åç»´æŠ¤å“ˆå¸Œæ•°ç»„ï¼›ç»´æŠ¤ç»“æŸåéå†å“ˆå¸Œæ•°ç»„ï¼Œå¯¹äºæœªè¢«æ›´æ–°çš„å€¼ï¼Œå…¶å¯¹åº”çš„ç´¢å¼•æ¨å…¥ç»“æœæ•°ç»„ä¸­ã€‚</p><h2 id="ä»£ç ç¼–å†™ï¼š-4"><a href="#ä»£ç ç¼–å†™ï¼š-4" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">findDisappearedNumbers</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        vector&lt;<span class="hljs-type">int</span>&gt; res;<br>        <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">flag</span><span class="hljs-params">(n<span class="hljs-number">+1</span>,<span class="hljs-number">0</span>)</span></span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; num:nums)<br>        &#123;<br>            flag[num]++;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i&lt;=n;i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(flag[i]==<span class="hljs-number">0</span>) res.<span class="hljs-built_in">push_back</span>(i);<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="338-æ¯”ç‰¹ä½è®¡æ•°"><a href="#338-æ¯”ç‰¹ä½è®¡æ•°" class="headerlink" title="338.æ¯”ç‰¹ä½è®¡æ•°"></a>338.æ¯”ç‰¹ä½è®¡æ•°</h1><h2 id="é¢˜ç›®æè¿°ï¼š-5"><a href="#é¢˜ç›®æè¿°ï¼š-5" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•° n ï¼Œå¯¹äº 0 &lt;&#x3D; i &lt;&#x3D; n ä¸­çš„æ¯ä¸ª i ï¼Œè®¡ç®—å…¶äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ 1 çš„ä¸ªæ•° ï¼Œè¿”å›ä¸€ä¸ªé•¿åº¦ä¸º n + 1 çš„æ•°ç»„ ans ä½œä¸ºç­”æ¡ˆã€‚</p><h2 id="è§£é¢˜æ€è·¯ï¼š-5"><a href="#è§£é¢˜æ€è·¯ï¼š-5" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>ç”±n&amp;(n-1)å¯å¾—åˆ°næœ€å³è¾¹çš„äºŒè¿›åˆ¶1æ¶ˆé™¤ï¼Œç­‰ä»·äºnæ¯”n&amp;(n-1)çš„äºŒè¿›åˆ¶ä½å¤šä¸€ä¸ª1ï¼Œå› æ­¤å¯æ›´æ–°å¦‚ä¸‹çŠ¶æ€æ–¹ç¨‹ï¼š<br>dp[n]&#x3D;dp[n&amp;(n-1)]+1;</p><h2 id="ä»£ç ç¼–å†™ï¼š-5"><a href="#ä»£ç ç¼–å†™ï¼š-5" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">countBits</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">dp</span><span class="hljs-params">(n<span class="hljs-number">+1</span>,<span class="hljs-number">0</span>)</span></span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i&lt;=n;i++)<br>        &#123;<br>            dp[i]=dp[i&amp;(i<span class="hljs-number">-1</span>)]<span class="hljs-number">+1</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> dp;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="136-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—"><a href="#136-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—" class="headerlink" title="136.åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—"></a>136.åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—</h1><h2 id="é¢˜ç›®æè¿°ï¼š-6"><a href="#é¢˜ç›®æè¿°ï¼š-6" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ ä¸€ä¸ª éç©º æ•´æ•°æ•°ç»„ nums ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä¸”è¯¥ç®—æ³•åªä½¿ç”¨å¸¸é‡é¢å¤–ç©ºé—´ã€‚</p><h2 id="è§£é¢˜æ€è·¯ï¼š-6"><a href="#è§£é¢˜æ€è·¯ï¼š-6" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>ç”±å¦‚ä¸‹æ€§è´¨a^a&#x3D;0;a^0&#x3D;aï¼›å¯è§£å‡ºåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼š</p><h2 id="ä»£ç æè¿°ï¼š"><a href="#ä»£ç æè¿°ï¼š" class="headerlink" title="ä»£ç æè¿°ï¼š"></a>ä»£ç æè¿°ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">singleNumber</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> r = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; num:nums)<br>        &#123;<br>            r^=num;<br>        &#125;<br>        <span class="hljs-keyword">return</span> r;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="461-æ±‰æ˜è·ç¦»"><a href="#461-æ±‰æ˜è·ç¦»" class="headerlink" title="461.æ±‰æ˜è·ç¦»"></a>461.æ±‰æ˜è·ç¦»</h1><h2 id="é¢˜ç›®æè¿°ï¼š-7"><a href="#é¢˜ç›®æè¿°ï¼š-7" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„ æ±‰æ˜è·ç¦» æŒ‡çš„æ˜¯è¿™ä¸¤ä¸ªæ•°å­—å¯¹åº”äºŒè¿›åˆ¶ä½ä¸åŒçš„ä½ç½®çš„æ•°ç›®ã€‚ç»™ä½ ä¸¤ä¸ªæ•´æ•° x å’Œ yï¼Œè®¡ç®—å¹¶è¿”å›å®ƒä»¬ä¹‹é—´çš„æ±‰æ˜è·ç¦»</p><h2 id="è§£é¢˜æ€è·¯ï¼š-7"><a href="#è§£é¢˜æ€è·¯ï¼š-7" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h2><p>å¯ç”±c&#x3D;a^bå¾—å‡ºäºŒè¿›åˆ¶ä¸åŒçš„ä½ç½®æ•°ç›®ï¼Œç„¶åç”±c&#x3D;c&amp;(c-1)å¾—å‡ºäºŒè¿›åˆ¶1çš„ä¸ªæ•°ï¼›</p><h2 id="ä»£ç ç¼–å†™ï¼š-6"><a href="#ä»£ç ç¼–å†™ï¼š-6" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">hammingDistance</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>&#123;<br>        <span class="hljs-type">int</span> t = x^y;<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(t)<br>        &#123;<br>            res++;<br>            t = t&amp;(t<span class="hljs-number">-1</span>);<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode-hot100</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025å¹´3æœˆ12æ—¥hot100ç»ƒä¹ </title>
    <link href="/2025/03/13/20250312-hot100/"/>
    <url>/2025/03/13/20250312-hot100/</url>
    
    <content type="html"><![CDATA[<h1 id="445-ä¸¤æ•°ç›¸åŠ -II"><a href="#445-ä¸¤æ•°ç›¸åŠ -II" class="headerlink" title="445. ä¸¤æ•°ç›¸åŠ  II"></a>445. ä¸¤æ•°ç›¸åŠ  II</h1><h2 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ ä¸¤ä¸ª éç©º é“¾è¡¨æ¥ä»£è¡¨ä¸¤ä¸ªéè´Ÿæ•´æ•°ã€‚æ•°å­—æœ€é«˜ä½ä½äºé“¾è¡¨å¼€å§‹ä½ç½®ã€‚å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªå­˜å‚¨ä¸€ä½æ•°å­—ã€‚å°†è¿™ä¸¤æ•°ç›¸åŠ ä¼šè¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨ã€‚ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°å­—éƒ½ä¸ä¼šä»¥é›¶å¼€å¤´ã€‚<br>ç¤ºä¾‹1ï¼š<br>è¾“å…¥ï¼šl1 &#x3D; [7,2,4,3], l2 &#x3D; [5,6,4]<br>è¾“å‡ºï¼š[7,8,0,7]<br>ç¤ºä¾‹2ï¼š<br>è¾“å…¥ï¼šl1 &#x3D; [2,4,3], l2 &#x3D; [5,6,4]<br>è¾“å‡ºï¼š[8,0,7]<br>ç¤ºä¾‹3ï¼š<br>è¾“å…¥ï¼šl1 &#x3D; [0], l2 &#x3D; [0]<br>è¾“å‡ºï¼š[0]</p><h2 id="ä»£ç ç¼–å†™ï¼š"><a href="#ä»£ç ç¼–å†™ï¼š" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ListNode</span><br>&#123;<br>    ListNode* next;<br>    <span class="hljs-type">int</span> val;<br>    <span class="hljs-built_in">ListNode</span>():<span class="hljs-built_in">val</span>(<span class="hljs-number">0</span>),<span class="hljs-built_in">next</span>(<span class="hljs-literal">nullptr</span>)&#123;&#125;<br>    <span class="hljs-built_in">ListNode</span>():<span class="hljs-built_in">val</span>(x),<span class="hljs-built_in">next</span>(<span class="hljs-literal">nullptr</span>)&#123;&#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>&#123;<br><span class="hljs-keyword">public</span>:<br> <span class="hljs-function">ListNode* <span class="hljs-title">reverseList</span><span class="hljs-params">(ListNode* head)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> head;<br>        ListNode* pre = <span class="hljs-literal">nullptr</span>;<br>        ListNode* cur = head;<br>        ListNode* nex = <span class="hljs-literal">nullptr</span>;<br>        <span class="hljs-keyword">while</span>(cur)<br>        &#123;<br>            nex = cur-&gt;next;<br><br>            cur-&gt;next = pre;<br>            pre = cur;<br>            cur = nex;<br>        &#125;<br>        <span class="hljs-keyword">return</span> pre;<br>    &#125;   <br>    <span class="hljs-function">ListNode* <span class="hljs-title">mergeTwoListByCarry</span><span class="hljs-params">(ListNode* a,ListNode* b,<span class="hljs-type">int</span> carry = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(a == <span class="hljs-literal">nullptr</span> &amp;&amp; b == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> carry?<span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(carry):<span class="hljs-literal">nullptr</span>;<br>        <span class="hljs-keyword">if</span>(a-&gt;next) <span class="hljs-built_in">swap</span>(a,b);<br><br>        carry += a-&gt;val + b?b-&gt;val:<span class="hljs-number">0</span>;<br>        a-&gt;val = carry % <span class="hljs-number">10</span>;<br>        a-&gt;next = <span class="hljs-built_in">mergeTwoListByCarry</span>(a-&gt;next,b?b-&gt;next:<span class="hljs-literal">nullptr</span>,carry/<span class="hljs-number">10</span>);<br>        <span class="hljs-keyword">return</span> a;<br>    &#125;<br>    <span class="hljs-function">ListNode* <span class="hljs-title">addTwoNumbers</span><span class="hljs-params">(ListNode* l1, ListNode* l2)</span> </span>&#123;<br>        ListNode* nl1 = <span class="hljs-built_in">reverseList</span>(l1);<br>        ListNode* nl2 = <span class="hljs-built_in">reverseList</span>(l2);<br>        ListNode* res = <span class="hljs-built_in">mergeTwoListByCarry</span>(ListNode* a,ListNode* b,<span class="hljs-type">int</span> carry = <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h1 id="695-å²›å±¿çš„æœ€å¤§é¢ç§¯"><a href="#695-å²›å±¿çš„æœ€å¤§é¢ç§¯" class="headerlink" title="695. å²›å±¿çš„æœ€å¤§é¢ç§¯"></a>695. å²›å±¿çš„æœ€å¤§é¢ç§¯</h1><h2 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º<code>m x n</code>çš„äºŒè¿›åˆ¶çŸ©é˜µ grid ã€‚å²›å±¿ æ˜¯ç”±ä¸€äº›ç›¸é‚»çš„ 1 (ä»£è¡¨åœŸåœ°) æ„æˆçš„ç»„åˆï¼Œè¿™é‡Œçš„<code>ã€Œç›¸é‚»ã€</code>è¦æ±‚ä¸¤ä¸ª 1 å¿…é¡»åœ¨<code>æ°´å¹³æˆ–è€…ç«–ç›´çš„å››ä¸ªæ–¹å‘ä¸Š</code>ç›¸é‚»ã€‚ä½ å¯ä»¥å‡è®¾ grid çš„å››ä¸ªè¾¹ç¼˜éƒ½è¢« 0ï¼ˆä»£è¡¨æ°´ï¼‰åŒ…å›´ç€ã€‚å²›å±¿çš„é¢ç§¯æ˜¯å²›ä¸Šå€¼ä¸º 1 çš„å•å…ƒæ ¼çš„æ•°ç›®ã€‚è®¡ç®—å¹¶è¿”å› grid ä¸­æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚å¦‚æœæ²¡æœ‰å²›å±¿ï¼Œåˆ™è¿”å›é¢ç§¯ä¸º 0 ã€‚<br>ç¤ºä¾‹ä¸€ï¼š<br>è¾“å…¥ï¼šgrid &#x3D; [[0,0,1,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0],[0,1,1,0,1,0,0,0,0,0,0,0,0],[0,1,0,0,1,1,0,0,1,0,1,0,0],[0,1,0,0,1,1,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,1,1,0,0,0,0]]<br>è¾“å‡ºï¼š6<br>è§£é‡Šï¼šç­”æ¡ˆä¸åº”è¯¥æ˜¯ 11 ï¼Œå› ä¸ºå²›å±¿åªèƒ½åŒ…å«æ°´å¹³æˆ–å‚ç›´è¿™å››ä¸ªæ–¹å‘ä¸Šçš„ 1 ã€‚</p><h2 id="ä»£ç ç¼–å†™"><a href="#ä»£ç ç¼–å†™" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// @lc code=start</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; grid,<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y,vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; flag,<span class="hljs-type">int</span>&amp; curArea)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-type">int</span> dir[<span class="hljs-number">4</span>][<span class="hljs-number">2</span>] = &#123;&#123;<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>&#125;,&#123;<span class="hljs-number">0</span>,<span class="hljs-number">1</span>&#125;,&#123;<span class="hljs-number">1</span>,<span class="hljs-number">0</span>&#125;,&#123;<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>&#125;&#125;;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i&lt;<span class="hljs-number">4</span>;i++)<br>        &#123;<br>            <span class="hljs-type">int</span> row = x + dir[i][<span class="hljs-number">0</span>];<br>            <span class="hljs-type">int</span> col = y + dir[i][<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">if</span>(row&gt;=<span class="hljs-number">0</span> &amp;&amp; row&lt;grid.<span class="hljs-built_in">size</span>() &amp;&amp; col&gt;=<span class="hljs-number">0</span> &amp;&amp; col&lt;grid[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>() &amp;&amp; grid[row][col])<br>            &#123;<br>                <span class="hljs-keyword">if</span>(flag[row][col] == <span class="hljs-number">1</span>) <span class="hljs-keyword">continue</span>;<br>                flag[row][col] = <span class="hljs-number">1</span>;<br>                curArea++;<br>                <span class="hljs-built_in">bfs</span>(grid,row,col,flag,curArea);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxAreaOfIsland</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(grid.<span class="hljs-built_in">empty</span>()) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> maxArea = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> m = grid.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> n = grid[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>();<br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">flag</span>(m,<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(n,<span class="hljs-number">0</span>));<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i&lt;m;i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;j&lt;n;j++)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(flag[i][j] == <span class="hljs-number">0</span> &amp;&amp; grid[i][j] == <span class="hljs-number">1</span>)<br>                &#123;<br>                    flag[i][j] = <span class="hljs-number">1</span>;<br>                    <span class="hljs-type">int</span> curArea = <span class="hljs-number">1</span>;<br>                    <span class="hljs-built_in">bfs</span>(grid,i,j,flag,curArea);<br>                    maxArea = <span class="hljs-built_in">max</span>(maxArea,curArea);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> maxArea;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="9-å›æ–‡æ•°"><a href="#9-å›æ–‡æ•°" class="headerlink" title="9. å›æ–‡æ•°"></a>9. å›æ–‡æ•°</h1><h2 id="é¢˜ç›®æè¿°ï¼š-2"><a href="#é¢˜ç›®æè¿°ï¼š-2" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•° x ï¼Œå¦‚æœ x æ˜¯ä¸€ä¸ªå›æ–‡æ•´æ•°ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚å›æ–‡æ•°æ˜¯æŒ‡æ­£åºï¼ˆä»å·¦å‘å³ï¼‰å’Œå€’åºï¼ˆä»å³å‘å·¦ï¼‰è¯»éƒ½æ˜¯ä¸€æ ·çš„æ•´æ•°ã€‚<br>ä¾‹å¦‚ï¼Œ121 æ˜¯å›æ–‡ï¼Œè€Œ 123 ä¸æ˜¯ã€‚</p><h2 id="ä»£ç ç¼–å†™ï¼š-1"><a href="#ä»£ç ç¼–å†™ï¼š-1" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isPalindrome</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>       <span class="hljs-keyword">if</span>(x&lt;<span class="hljs-number">0</span> || (x%<span class="hljs-number">10</span>==<span class="hljs-number">0</span> &amp;&amp; x!=<span class="hljs-number">0</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>       <span class="hljs-type">int</span> reverse = <span class="hljs-number">0</span>;<br>       <span class="hljs-type">int</span> origin = x;<br>       <span class="hljs-keyword">while</span>(x&gt;reverse)<br>       &#123;<br>            <span class="hljs-type">int</span> digit = x%<span class="hljs-number">10</span>;<br>            reverse = reverse*<span class="hljs-number">10</span> + digit;<br>            x/=<span class="hljs-number">10</span>;<br>       &#125;<br>       <span class="hljs-keyword">return</span> x == reverse || x == reverse / <span class="hljs-number">10</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="102-äºŒå‰æ ‘çš„å±‚åºéå†"><a href="#102-äºŒå‰æ ‘çš„å±‚åºéå†" class="headerlink" title="102. äºŒå‰æ ‘çš„å±‚åºéå†"></a>102. äºŒå‰æ ‘çš„å±‚åºéå†</h1><h2 id="é¢˜ç›®æè¿°ï¼š-3"><a href="#é¢˜ç›®æè¿°ï¼š-3" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„ å±‚åºéå† ã€‚ ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚</p><h2 id="ä»£ç ç¼–å†™ï¼š-2"><a href="#ä»£ç ç¼–å†™ï¼š-2" class="headerlink" title="ä»£ç ç¼–å†™ï¼š"></a>ä»£ç ç¼–å†™ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">levelOrder</span>(TreeNode* root) &#123;<br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; res;<br>        <span class="hljs-keyword">if</span>(root==<span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span> res;<br>        queue&lt;TreeNode*&gt; que;<br>        que.<span class="hljs-built_in">push</span>(root);<br>        <span class="hljs-keyword">while</span>(que.<span class="hljs-built_in">size</span>())<br>        &#123;<br>            <span class="hljs-type">int</span> sz = que.<span class="hljs-built_in">size</span>();<br>            vector&lt;<span class="hljs-type">int</span>&gt; array;<br>            <span class="hljs-keyword">while</span>(sz--)<br>            &#123;<br>                TreeNode* cur = que.<span class="hljs-built_in">front</span>();<br>                que.<span class="hljs-built_in">pop</span>();<br>                array.<span class="hljs-built_in">push_back</span>(cur-&gt;val);<br>                <span class="hljs-keyword">if</span>(cur-&gt;left) que.<span class="hljs-built_in">push</span>(cur-&gt;left);<br>                <span class="hljs-keyword">if</span>(cur-&gt;right) que.<span class="hljs-built_in">push</span>(cur-&gt;right);<br>            &#125;<br>            res.<span class="hljs-built_in">push_back</span>(array);<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode-hot100</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025å¹´3æœˆ12æ—¥ç½‘ç»œç¼–ç¨‹å…«è‚¡æ–‡</title>
    <link href="/2025/03/12/interByCpp/"/>
    <url>/2025/03/12/interByCpp/</url>
    
    <content type="html"><![CDATA[<h1 id="01-ä¸ºä»€ä¹ˆä½¿ç”¨epoll"><a href="#01-ä¸ºä»€ä¹ˆä½¿ç”¨epoll" class="headerlink" title="01.ä¸ºä»€ä¹ˆä½¿ç”¨epoll"></a>01.ä¸ºä»€ä¹ˆä½¿ç”¨epoll</h1>]]></content>
    
    
    <categories>
      
      <category>C++å…«è‚¡æ–‡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025å¹´3æœˆ12æ—¥æµ·åº·é¢è¯•</title>
    <link href="/2025/03/12/20250312-1/"/>
    <url>/2025/03/12/20250312-1/</url>
    
    <content type="html"><![CDATA[<h1 id="C-æ¨¡æ¿ï¼ˆTemplatesï¼‰-vs-å¤šæ€ï¼ˆPolymorphismï¼‰"><a href="#C-æ¨¡æ¿ï¼ˆTemplatesï¼‰-vs-å¤šæ€ï¼ˆPolymorphismï¼‰" class="headerlink" title="C++ æ¨¡æ¿ï¼ˆTemplatesï¼‰ vs å¤šæ€ï¼ˆPolymorphismï¼‰"></a>C++ æ¨¡æ¿ï¼ˆTemplatesï¼‰ vs å¤šæ€ï¼ˆPolymorphismï¼‰</h1><h2 id="1-ä»€ä¹ˆæ˜¯-C-æ¨¡æ¿ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯-C-æ¨¡æ¿ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ C++ æ¨¡æ¿ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯ C++ æ¨¡æ¿ï¼Ÿ</h2><p>C++ <strong>æ¨¡æ¿ï¼ˆTemplatesï¼‰</strong> æ˜¯ <strong>ç¼–è¯‘æ—¶æ³›å‹ç¼–ç¨‹ï¼ˆGeneric Programmingï¼‰</strong>ï¼Œå…è®¸ç”Ÿæˆä¸åŒç±»å‹çš„ä»£ç ã€‚</p><h3 id="ç¤ºä¾‹ï¼šå‡½æ•°æ¨¡æ¿"><a href="#ç¤ºä¾‹ï¼šå‡½æ•°æ¨¡æ¿" class="headerlink" title="ç¤ºä¾‹ï¼šå‡½æ•°æ¨¡æ¿"></a><strong>ç¤ºä¾‹ï¼šå‡½æ•°æ¨¡æ¿</strong></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-function">T <span class="hljs-title">add</span><span class="hljs-params">(T a, T b)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    cout &lt;&lt; <span class="hljs-built_in">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>) &lt;&lt; endl;       <span class="hljs-comment">// è°ƒç”¨ int ç‰ˆæœ¬</span><br>    cout &lt;&lt; <span class="hljs-built_in">add</span>(<span class="hljs-number">2.5</span>, <span class="hljs-number">3.5</span>) &lt;&lt; endl;   <span class="hljs-comment">// è°ƒç”¨ double ç‰ˆæœ¬</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ç‰¹ç‚¹</strong></p><ul><li>ç¼–è¯‘æ—¶å±•å¼€ï¼šç¼–è¯‘å™¨ä¸º int å’Œ double ç”Ÿæˆä¸åŒç‰ˆæœ¬çš„ add()ã€‚</li><li>ä¸ä½¿ç”¨ vtableï¼Œæ²¡æœ‰è¿è¡Œæ—¶åŠ¨æ€åˆ†æ´¾ã€‚</li></ul><h1 id="C-std-map-çš„-Key-æ˜¯å¦å¯ä»¥ä½¿ç”¨ç»“æ„ä½“ï¼Ÿ"><a href="#C-std-map-çš„-Key-æ˜¯å¦å¯ä»¥ä½¿ç”¨ç»“æ„ä½“ï¼Ÿ" class="headerlink" title="C++ std::map çš„ Key æ˜¯å¦å¯ä»¥ä½¿ç”¨ç»“æ„ä½“ï¼Ÿ"></a>C++ std::map çš„ Key æ˜¯å¦å¯ä»¥ä½¿ç”¨ç»“æ„ä½“ï¼Ÿ</h1><p>âœ… æ˜¯çš„ï¼Œ<code>std::map </code>çš„ <code>key </code>å¯ä»¥ä½¿ç”¨ç»“æ„ä½“ï¼Œä½†éœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p><ol><li>å¿…é¡»æä¾›<code> &lt;ï¼ˆå°äºå·è¿ç®—ç¬¦ï¼‰</code>æˆ– <code>std::less&lt;T&gt; </code>æ¯”è¾ƒè§„åˆ™ï¼Œå› ä¸º std::map éœ€è¦æ’åº keyã€‚</li><li>ç»“æ„ä½“å¿…é¡»æ˜¯<code>å¯æ‹·è´</code>å’Œ<code>å¯ç§»åŠ¨</code>çš„ï¼ˆé»˜è®¤ std::map éœ€è¦å¤åˆ¶ keyï¼‰ã€‚<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;map&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// ç»“æ„ä½“ä½œä¸º `std::map` çš„ Key</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> &#123;<br>    <span class="hljs-type">int</span> x, y;<br><br>    <span class="hljs-comment">// å¿…é¡»æä¾› `&lt;` è¿ç®—ç¬¦</span><br>    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-type">const</span> Point&amp; other) <span class="hljs-type">const</span> &#123;<br>        <span class="hljs-keyword">if</span> (x != other.x) <span class="hljs-keyword">return</span> x &lt; other.x;<br>        <span class="hljs-keyword">return</span> y &lt; other.y;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    map&lt;Point, string&gt; pointMap;<br><br>    <span class="hljs-comment">// æ’å…¥æ•°æ®</span><br>    pointMap[&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>&#125;] = <span class="hljs-string">&quot;A&quot;</span>;<br>    pointMap[&#123;<span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;] = <span class="hljs-string">&quot;B&quot;</span>;<br>    pointMap[&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>&#125;] = <span class="hljs-string">&quot;C&quot;</span>;<br><br>    <span class="hljs-comment">// éå†è¾“å‡º</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; [key, value] : pointMap) &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Point(&quot;</span> &lt;&lt; key.x &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; key.y &lt;&lt; <span class="hljs-string">&quot;) -&gt; &quot;</span> &lt;&lt; value &lt;&lt; endl;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h1 id="STLçš„å…­å¤§ç»„ä»¶"><a href="#STLçš„å…­å¤§ç»„ä»¶" class="headerlink" title="STLçš„å…­å¤§ç»„ä»¶"></a>STLçš„å…­å¤§ç»„ä»¶</h1><p>C++ STLï¼ˆStandard Template Libraryï¼Œæ ‡å‡†æ¨¡æ¿åº“ï¼‰çš„å…­å¤§ç»„ä»¶ æ˜¯ STL çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š<br>âœ… å®¹å™¨ï¼ˆContainersï¼‰ä½œç”¨ï¼š å­˜å‚¨å’Œç®¡ç†æ•°æ®ï¼Œæ˜¯ STL çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚<br>âœ… ç®—æ³•ï¼ˆAlgorithmsï¼‰ä½œç”¨ï¼š æä¾›æ’åºã€æŸ¥æ‰¾ã€ä¿®æ”¹ã€è®¡ç®—ç­‰å¸¸è§ç®—æ³•ã€‚<br>âœ… è¿­ä»£å™¨ï¼ˆIteratorsï¼‰ä½œç”¨ï¼šåœ¨å®¹å™¨å’Œç®—æ³•ä¹‹é—´æä¾›ç»Ÿä¸€çš„è®¿é—®æ¥å£ï¼Œä½¿ STL ç®—æ³•èƒ½å¤Ÿé€‚ç”¨äºä¸åŒå®¹å™¨ã€‚<br>âœ… ä»¿å‡½æ•°ï¼ˆFunctorsï¼‰ä½œç”¨ï¼š ç±»ä¼¼å‡½æ•°çš„å¯¹è±¡ï¼Œå¯ä»¥åœ¨ std::sort() ç­‰ STL ç®—æ³•ä¸­è‡ªå®šä¹‰æ¯”è¾ƒè§„åˆ™ã€‚<br>âœ… é€‚é…å™¨ï¼ˆAdaptersï¼‰ä½œç”¨ï¼š ä¿®æ”¹ STL ç»„ä»¶çš„è¡Œä¸ºã€‚<br>âœ… åˆ†é…å™¨ï¼ˆAllocatorsï¼‰ä½œç”¨ï¼š è´Ÿè´£ç®¡ç†å†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾ï¼Œé€šå¸¸ä½¿ç”¨é»˜è®¤ allocator<T>ï¼Œä½†å¯ä»¥è‡ªå®šä¹‰ã€‚</T></p>]]></content>
    
    
    <categories>
      
      <category>å¤§å‚é¢ç»</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é«˜æ€§èƒ½è®¡ç®—å²—ä½-cudaåŸºç¡€çŸ¥è¯†</title>
    <link href="/2025/03/11/cuda-basic/"/>
    <url>/2025/03/11/cuda-basic/</url>
    
    <content type="html"><![CDATA[<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><h3 id="CUDAçš„çº¿ç¨‹ç»„ç»‡ç»“æ„"><a href="#CUDAçš„çº¿ç¨‹ç»„ç»‡ç»“æ„" class="headerlink" title="CUDAçš„çº¿ç¨‹ç»„ç»‡ç»“æ„"></a>CUDAçš„çº¿ç¨‹ç»„ç»‡ç»“æ„</h3><p>CUDA çš„çº¿ç¨‹æ‰§è¡Œæ¨¡å‹åŸºäº SIMTï¼ˆSingle Instruction, Multiple Threadï¼‰ ç»“æ„ï¼Œé‡‡ç”¨å±‚çº§åŒ–çš„çº¿ç¨‹ç»„ç»‡æ–¹å¼ï¼Œä¸»è¦åŒ…æ‹¬ Gridï¼ˆç½‘æ ¼ï¼‰ã€Blockï¼ˆçº¿ç¨‹å—ï¼‰ã€Threadï¼ˆçº¿ç¨‹ï¼‰ ä¸‰ä¸ªå±‚çº§ã€‚</p><h4 id="1-çº¿ç¨‹å±‚çº§ç»“æ„"><a href="#1-çº¿ç¨‹å±‚çº§ç»“æ„" class="headerlink" title="1. çº¿ç¨‹å±‚çº§ç»“æ„"></a>1. çº¿ç¨‹å±‚çº§ç»“æ„</h4><p>åœ¨ CUDA ä¸­ï¼Œçº¿ç¨‹çš„ç»„ç»‡ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-attribute">Grid</span>ï¼ˆç½‘æ ¼ï¼‰<br> â”œâ”€â”€ Block(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)  â”œâ”€â”€ Block(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>)  â”œâ”€â”€ Block(<span class="hljs-number">2</span>,<span class="hljs-number">0</span>) ...<br> â”‚     â”œâ”€â”€ <span class="hljs-built_in">Thread</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)  â”œâ”€â”€ <span class="hljs-built_in">Thread</span>(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>)  â”œâ”€â”€ <span class="hljs-built_in">Thread</span>(<span class="hljs-number">2</span>,<span class="hljs-number">0</span>) ...<br> â”‚     â”œâ”€â”€ <span class="hljs-built_in">Thread</span>(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)  â”œâ”€â”€ <span class="hljs-built_in">Thread</span>(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)  â”œâ”€â”€ <span class="hljs-built_in">Thread</span>(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>) ...<br> â”‚     ...<br> â”œâ”€â”€ Block(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)  â”œâ”€â”€ Block(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)  â”œâ”€â”€ Block(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>) ...<br> â”‚     â”œâ”€â”€ <span class="hljs-built_in">Thread</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)  â”œâ”€â”€ <span class="hljs-built_in">Thread</span>(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>)  â”œâ”€â”€ <span class="hljs-built_in">Thread</span>(<span class="hljs-number">2</span>,<span class="hljs-number">0</span>) ...<br> â”‚     â”œâ”€â”€ <span class="hljs-built_in">Thread</span>(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)  â”œâ”€â”€ <span class="hljs-built_in">Thread</span>(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)  â”œâ”€â”€ <span class="hljs-built_in">Thread</span>(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>) ...<br> â”‚     ...<br><br></code></pre></td></tr></table></figure><p>CUDA çº¿ç¨‹å±‚æ¬¡ï¼š</p><p><strong>Gridï¼ˆç½‘æ ¼ï¼‰</strong>ï¼š</p><ul><li>ç”±å¤šä¸ª Blockï¼ˆçº¿ç¨‹å—ï¼‰ ç»„æˆ</li><li>Block æ•°é‡å¯ä»¥æ˜¯ä¸€ç»´ã€äºŒç»´æˆ–ä¸‰ç»´</li></ul><p><strong>Blockï¼ˆçº¿ç¨‹å—ï¼‰</strong>ï¼š</p><ul><li>ç”±å¤šä¸ª Threadï¼ˆçº¿ç¨‹ï¼‰ ç»„æˆ</li><li>æ¯ä¸ª Block å…±äº«ä¸€å—å…±äº«å†…å­˜ï¼ˆShared Memoryï¼‰</li><li>çº¿ç¨‹ä¹‹é—´å¯ä»¥ä½¿ç”¨ __syncthreads() åŒæ­¥</li></ul><p><strong>Threadï¼ˆçº¿ç¨‹ï¼‰</strong>ï¼š</p><ul><li>æ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„ å¯„å­˜å™¨ï¼ˆRegisterï¼‰</li><li>çº¿ç¨‹æ‰§è¡Œç›¸åŒçš„ Kernel ä»£ç ï¼Œä½†æ“ä½œä¸åŒçš„æ•°æ®</li></ul><hr><h4 id="2-CUDA-çº¿ç¨‹ç´¢å¼•"><a href="#2-CUDA-çº¿ç¨‹ç´¢å¼•" class="headerlink" title="2. CUDA çº¿ç¨‹ç´¢å¼•"></a>2. CUDA çº¿ç¨‹ç´¢å¼•</h4><h2 id="CUDA-æä¾›äº†çº¿ç¨‹ç´¢å¼•ï¼ˆThread-Indexingï¼‰-æ¥æ ‡è¯†æ¯ä¸ªçº¿ç¨‹çš„ä½ç½®ã€‚3D-çº¿ç¨‹ç´¢å¼•ï¼š"><a href="#CUDA-æä¾›äº†çº¿ç¨‹ç´¢å¼•ï¼ˆThread-Indexingï¼‰-æ¥æ ‡è¯†æ¯ä¸ªçº¿ç¨‹çš„ä½ç½®ã€‚3D-çº¿ç¨‹ç´¢å¼•ï¼š" class="headerlink" title="CUDA æä¾›äº†çº¿ç¨‹ç´¢å¼•ï¼ˆThread Indexingï¼‰ æ¥æ ‡è¯†æ¯ä¸ªçº¿ç¨‹çš„ä½ç½®ã€‚3D çº¿ç¨‹ç´¢å¼•ï¼š"></a>CUDA æä¾›äº†çº¿ç¨‹ç´¢å¼•ï¼ˆThread Indexingï¼‰ æ¥æ ‡è¯†æ¯ä¸ªçº¿ç¨‹çš„ä½ç½®ã€‚<br>3D çº¿ç¨‹ç´¢å¼•ï¼š<br><figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gml">int <span class="hljs-variable language_">x</span> = threadIdx.<span class="hljs-variable language_">x</span> + blockIdx.<span class="hljs-variable language_">x</span> * blockDim.<span class="hljs-variable language_">x</span>;<br>int <span class="hljs-variable language_">y</span> = threadIdx.<span class="hljs-variable language_">y</span> + blockIdx.<span class="hljs-variable language_">y</span> * blockDim.<span class="hljs-variable language_">y</span>;<br>int z = threadIdx.z + blockIdx.z * blockDim.z;<br></code></pre></td></tr></table></figure></h2><h4 id="3-çº¿ç¨‹å—å’Œçº¿ç¨‹è°ƒåº¦"><a href="#3-çº¿ç¨‹å—å’Œçº¿ç¨‹è°ƒåº¦" class="headerlink" title="3. çº¿ç¨‹å—å’Œçº¿ç¨‹è°ƒåº¦"></a>3. çº¿ç¨‹å—å’Œçº¿ç¨‹è°ƒåº¦</h4><p><strong>SMï¼ˆæµå¼å¤šå¤„ç†å™¨ï¼‰è°ƒåº¦</strong></p><ul><li>ä¸€ä¸ª GPU ç”±å¤šä¸ª SM ç»„æˆ</li><li>æ¯ä¸ª SM å¯åŒæ—¶æ‰§è¡Œå¤šä¸ª Block</li><li>Block å†…çš„çº¿ç¨‹ä»¥ Warpï¼ˆ32 ä¸ªçº¿ç¨‹ï¼‰ä¸ºå•ä½æ‰§è¡Œ</li></ul><hr><h4 id="4-ä¼˜åŒ–ç­–ç•¥"><a href="#4-ä¼˜åŒ–ç­–ç•¥" class="headerlink" title="4. ä¼˜åŒ–ç­–ç•¥"></a>4. ä¼˜åŒ–ç­–ç•¥</h4><ul><li>åˆç†ç»„ç»‡ Grid å’Œ Blockï¼Œä¿è¯æœ€å¤§è®¡ç®—ååé‡</li><li>ä½¿ç”¨ Shared Memoryï¼Œå‡å°‘å…¨å±€å†…å­˜è®¿é—®</li><li>ä¼˜åŒ– Memory Coalescingï¼Œæé«˜å¸¦å®½åˆ©ç”¨ç‡</li><li>é¿å… Warp çº¿ç¨‹åˆ†æ”¯ï¼Œæå‡è®¡ç®—æ•ˆç‡</li></ul><h3 id="CUDAçš„å­˜å‚¨ä½“ç³»ç»“æ„ï¼Œæ¯ä¸€ç§å­˜å‚¨çš„ä¼˜ç¼ºç‚¹ï¼Œè¯¥å¦‚ä½•åˆç†ä½¿ç”¨"><a href="#CUDAçš„å­˜å‚¨ä½“ç³»ç»“æ„ï¼Œæ¯ä¸€ç§å­˜å‚¨çš„ä¼˜ç¼ºç‚¹ï¼Œè¯¥å¦‚ä½•åˆç†ä½¿ç”¨" class="headerlink" title="CUDAçš„å­˜å‚¨ä½“ç³»ç»“æ„ï¼Œæ¯ä¸€ç§å­˜å‚¨çš„ä¼˜ç¼ºç‚¹ï¼Œè¯¥å¦‚ä½•åˆç†ä½¿ç”¨"></a>CUDAçš„å­˜å‚¨ä½“ç³»ç»“æ„ï¼Œæ¯ä¸€ç§å­˜å‚¨çš„ä¼˜ç¼ºç‚¹ï¼Œè¯¥å¦‚ä½•åˆç†ä½¿ç”¨</h3><p>CUDA ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§å­˜å‚¨ç±»å‹ï¼š</p><h3 id="CUDA-streamçš„æ¦‚å¿µï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šä¸ªstreamï¼Ÿ"><a href="#CUDA-streamçš„æ¦‚å¿µï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šä¸ªstreamï¼Ÿ" class="headerlink" title="CUDA streamçš„æ¦‚å¿µï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šä¸ªstreamï¼Ÿ"></a>CUDA streamçš„æ¦‚å¿µï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šä¸ªstreamï¼Ÿ</h3><h4 id="CUDA-Stream-çš„æ¦‚å¿µ"><a href="#CUDA-Stream-çš„æ¦‚å¿µ" class="headerlink" title="CUDA Stream çš„æ¦‚å¿µ"></a>CUDA Stream çš„æ¦‚å¿µ</h4><h4 id="1-ä»€ä¹ˆæ˜¯-CUDA-Streamï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯-CUDA-Streamï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ CUDA Streamï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯ CUDA Streamï¼Ÿ</h4><p>CUDA <strong>Streamï¼ˆæµï¼‰</strong> æ˜¯ <strong>ä¸€ä¸ªæœ‰åºçš„ GPU ä»»åŠ¡æ‰§è¡Œé˜Ÿåˆ—</strong>ï¼Œå…¶ä¸­çš„ä»»åŠ¡æŒ‰é¡ºåºæ‰§è¡Œã€‚å¤šä¸ª Stream ä¹‹é—´å¯ä»¥<strong>å¹¶è¡Œæ‰§è¡Œ</strong>ï¼Œä»è€Œæé«˜ GPU çš„è®¡ç®—æ•ˆç‡ã€‚</p><h4 id="2-CUDA-Stream-çš„å…³é”®ç‰¹ç‚¹"><a href="#2-CUDA-Stream-çš„å…³é”®ç‰¹ç‚¹" class="headerlink" title="2. CUDA Stream çš„å…³é”®ç‰¹ç‚¹"></a>2. CUDA Stream çš„å…³é”®ç‰¹ç‚¹</h4><ul><li><strong>FIFO æ–¹å¼</strong>ï¼šStream å†…çš„ä»»åŠ¡ <strong>æŒ‰é¡ºåºæ‰§è¡Œ</strong></li><li><strong>å¤šä¸ª Stream å¹¶è¡Œ</strong>ï¼šä¸åŒçš„ Stream ä»»åŠ¡å¯ä»¥åŒæ—¶æ‰§è¡Œ</li><li><strong>å¼‚æ­¥æ‰§è¡Œ</strong>ï¼šå…è®¸è®¡ç®—å’Œæ•°æ®ä¼ è¾“å¹¶è¡Œï¼Œæé«˜ GPU åˆ©ç”¨ç‡</li><li><strong>å‡å°‘ CPU-GPU åŒæ­¥å¼€é”€</strong>ï¼šé¿å… <code>cudaDeviceSynchronize()</code> é€ æˆçš„é˜»å¡</li></ul><hr><h4 id="3-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šä¸ª-Streamï¼Ÿ"><a href="#3-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šä¸ª-Streamï¼Ÿ" class="headerlink" title="3. ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šä¸ª Streamï¼Ÿ"></a>3. ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šä¸ª Streamï¼Ÿ</h4><p><strong>é—®é¢˜ï¼šå•ä¸ª Stream è®¡ç®—å’Œæ•°æ®ä¼ è¾“ä¸²è¡Œæ‰§è¡Œ</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">cudaMemcpy</span>(d_data, h_data, size, cudaMemcpyHostToDevice);  <span class="hljs-comment">// æ•°æ®æ‹·è´ï¼ˆåŒæ­¥ï¼‰</span><br>kernel&lt;&lt;&lt;grid, block&gt;&gt;&gt;(d_data);  <span class="hljs-comment">// æ ¸å‡½æ•°è®¡ç®—ï¼ˆéœ€ç­‰å¾…æ•°æ®æ‹·è´å®Œæˆï¼‰</span><br><span class="hljs-built_in">cudaMemcpy</span>(h_data, d_data, size, cudaMemcpyDeviceToHost);  <span class="hljs-comment">// æ•°æ®æ‹·è´ï¼ˆè®¡ç®—å®Œæˆåï¼‰</span><br>cudaStream_t stream1, stream2;<br><span class="hljs-built_in">cudaStreamCreate</span>(&amp;stream1);<br><span class="hljs-built_in">cudaStreamCreate</span>(&amp;stream2);<br><br><span class="hljs-comment">// Stream 1 è¿›è¡Œæ•°æ®æ‹·è´ + è®¡ç®—</span><br><span class="hljs-built_in">cudaMemcpyAsync</span>(d_data1, h_data1, size, cudaMemcpyHostToDevice, stream1);<br>kernel&lt;&lt;&lt;grid, block, <span class="hljs-number">0</span>, stream1&gt;&gt;&gt;(d_data1);<br><span class="hljs-built_in">cudaMemcpyAsync</span>(h_data1, d_data1, size, cudaMemcpyDeviceToHost, stream1);<br><br><span class="hljs-comment">// Stream 2 è¿›è¡Œæ•°æ®æ‹·è´ + è®¡ç®—</span><br><span class="hljs-built_in">cudaMemcpyAsync</span>(d_data2, h_data2, size, cudaMemcpyHostToDevice, stream2);<br>kernel&lt;&lt;&lt;grid, block, <span class="hljs-number">0</span>, stream2&gt;&gt;&gt;(d_data2);<br><span class="hljs-built_in">cudaMemcpyAsync</span>(h_data2, d_data2, size, cudaMemcpyDeviceToHost, stream2);<br><br><span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰ Stream å®Œæˆ</span><br><span class="hljs-built_in">cudaDeviceSynchronize</span>();<br></code></pre></td></tr></table></figure><h4 id="4-CUDA-Stream-å…¸å‹åº”ç”¨åœºæ™¯"><a href="#4-CUDA-Stream-å…¸å‹åº”ç”¨åœºæ™¯" class="headerlink" title="4. CUDA Stream å…¸å‹åº”ç”¨åœºæ™¯"></a>4. CUDA Stream å…¸å‹åº”ç”¨åœºæ™¯</h4><p>âœ… 1. è®¡ç®—ä¸æ•°æ®ä¼ è¾“å¹¶è¡Œ<br>ä½¿ç”¨å¤šä¸ª Stream è®©æ•°æ®ä¼ è¾“å’Œè®¡ç®—åŒæ—¶è¿›è¡Œï¼Œå‡å°‘ç­‰å¾…æ—¶é—´ã€‚</p><p>âœ… 2. å¹¶è¡Œæ‰§è¡Œå¤šä¸ª Kernel<br>é€‚ç”¨äºæ‰¹é‡æ•°æ®å¤„ç†ï¼Œå¦‚æ·±åº¦å­¦ä¹ ã€å›¾åƒå¤„ç†ç­‰ã€‚</p><p>âœ… 3. æé«˜ååé‡<br>é€‚ç”¨äºéœ€è¦è¿ç»­å¤„ç†å¤§é‡æ•°æ®çš„åº”ç”¨ï¼Œå¦‚è§†é¢‘æµå¤„ç†ã€ç‚¹äº‘è®¡ç®—ç­‰ã€‚</p><hr><h3 id="GPUå’ŒCPUåˆ†åˆ«é€‚åˆæ‰§è¡Œå“ªäº›ç¨‹åºï¼Ÿç»“åˆå®ƒä»¬çš„ç¡¬ä»¶æ¶æ„è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆå®ƒä»¬æœ‰å„è‡ªçš„ä¼˜åŠ¿"><a href="#GPUå’ŒCPUåˆ†åˆ«é€‚åˆæ‰§è¡Œå“ªäº›ç¨‹åºï¼Ÿç»“åˆå®ƒä»¬çš„ç¡¬ä»¶æ¶æ„è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆå®ƒä»¬æœ‰å„è‡ªçš„ä¼˜åŠ¿" class="headerlink" title="GPUå’ŒCPUåˆ†åˆ«é€‚åˆæ‰§è¡Œå“ªäº›ç¨‹åºï¼Ÿç»“åˆå®ƒä»¬çš„ç¡¬ä»¶æ¶æ„è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆå®ƒä»¬æœ‰å„è‡ªçš„ä¼˜åŠ¿"></a>GPUå’ŒCPUåˆ†åˆ«é€‚åˆæ‰§è¡Œå“ªäº›ç¨‹åºï¼Ÿç»“åˆå®ƒä»¬çš„ç¡¬ä»¶æ¶æ„è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆå®ƒä»¬æœ‰å„è‡ªçš„ä¼˜åŠ¿</h3><h4 id="GPU-å’Œ-CPU-çš„é€‚ç”¨åœºæ™¯åŠæ¶æ„ä¼˜åŠ¿"><a href="#GPU-å’Œ-CPU-çš„é€‚ç”¨åœºæ™¯åŠæ¶æ„ä¼˜åŠ¿" class="headerlink" title="GPU å’Œ CPU çš„é€‚ç”¨åœºæ™¯åŠæ¶æ„ä¼˜åŠ¿"></a>GPU å’Œ CPU çš„é€‚ç”¨åœºæ™¯åŠæ¶æ„ä¼˜åŠ¿</h4><h4 id="1-GPU-å’Œ-CPU-é€‚åˆæ‰§è¡Œçš„ç¨‹åºç±»å‹"><a href="#1-GPU-å’Œ-CPU-é€‚åˆæ‰§è¡Œçš„ç¨‹åºç±»å‹" class="headerlink" title="1. GPU å’Œ CPU é€‚åˆæ‰§è¡Œçš„ç¨‹åºç±»å‹"></a>1. <strong>GPU å’Œ CPU é€‚åˆæ‰§è¡Œçš„ç¨‹åºç±»å‹</strong></h4><table><thead><tr><th><strong>å¤„ç†å™¨</strong></th><th><strong>é€‚åˆæ‰§è¡Œçš„ä»»åŠ¡</strong></th><th><strong>å…¸å‹åº”ç”¨</strong></th></tr></thead><tbody><tr><td><strong>CPUï¼ˆä¸­å¤®å¤„ç†å™¨ï¼‰</strong></td><td><strong>å¤æ‚é€»è¾‘ã€å¤šä»»åŠ¡å¹¶å‘ã€é¡ºåºè®¡ç®—ã€ä½å»¶è¿Ÿä»»åŠ¡</strong></td><td>æ“ä½œç³»ç»Ÿã€æ•°æ®åº“ã€AI é€»è¾‘å¤„ç†ã€å¤æ‚å†³ç­–ã€Web æœåŠ¡å™¨</td></tr><tr><td><strong>GPUï¼ˆå›¾å½¢å¤„ç†å™¨ï¼‰</strong></td><td><strong>å¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—ã€æ•°æ®å¯†é›†å‹ä»»åŠ¡ã€é«˜ååé‡è®¡ç®—</strong></td><td>æ·±åº¦å­¦ä¹ è®­ç»ƒã€3D æ¸²æŸ“ã€å›¾åƒå¤„ç†ã€ç‰©ç†ä»¿çœŸã€ç§‘å­¦è®¡ç®—</td></tr></tbody></table><hr><h4 id="2-CPU-å’Œ-GPU-çš„ç¡¬ä»¶æ¶æ„å¯¹æ¯”"><a href="#2-CPU-å’Œ-GPU-çš„ç¡¬ä»¶æ¶æ„å¯¹æ¯”" class="headerlink" title="2. CPU å’Œ GPU çš„ç¡¬ä»¶æ¶æ„å¯¹æ¯”"></a>2. <strong>CPU å’Œ GPU çš„ç¡¬ä»¶æ¶æ„å¯¹æ¯”</strong></h4><h4 id="âœ…-1ï¸âƒ£-CPUï¼ˆä¸­å¤®å¤„ç†å™¨ï¼‰çš„æ¶æ„ç‰¹ç‚¹"><a href="#âœ…-1ï¸âƒ£-CPUï¼ˆä¸­å¤®å¤„ç†å™¨ï¼‰çš„æ¶æ„ç‰¹ç‚¹" class="headerlink" title="âœ… 1ï¸âƒ£ CPUï¼ˆä¸­å¤®å¤„ç†å™¨ï¼‰çš„æ¶æ„ç‰¹ç‚¹"></a><strong>âœ… 1ï¸âƒ£ CPUï¼ˆä¸­å¤®å¤„ç†å™¨ï¼‰çš„æ¶æ„ç‰¹ç‚¹</strong></h4><p><strong>CPU çš„æ¶æ„è®¾è®¡ä¸»è¦å›´ç»•â€œä½å»¶è¿Ÿâ€å’Œâ€œå¤æ‚æŒ‡ä»¤å¤„ç†â€</strong>ï¼Œå®ƒçš„æ¶æ„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li><strong>å°‘é‡é«˜æ€§èƒ½æ ¸å¿ƒï¼ˆCoresï¼‰</strong></li><li><strong>é«˜ä¸»é¢‘ï¼ˆGHz çº§åˆ«ï¼‰ï¼Œå•æ ¸æ€§èƒ½å¼º</strong></li><li><strong>å¤æ‚çš„ç¼“å­˜å±‚æ¬¡ï¼ˆL1ã€L2ã€L3ï¼‰</strong>ï¼Œé™ä½è®¿å­˜å»¶è¿Ÿ</li><li><strong>æ”¯æŒåˆ†æ”¯é¢„æµ‹å’Œä¹±åºæ‰§è¡Œ</strong>ï¼Œé€‚åˆå¤æ‚çš„é€»è¾‘æ§åˆ¶</li><li><strong>å¼ºå¤§çš„æŒ‡ä»¤é›†ï¼ˆx86ã€ARMï¼‰</strong>ï¼Œé€‚ç”¨äºå¤šç§ä»»åŠ¡</li></ul><p>ğŸ“Œ <strong>CPU é€‚åˆçš„ä»»åŠ¡</strong></p><ul><li><strong>é¡ºåºè®¡ç®—ä»»åŠ¡</strong>ï¼ˆå¦‚æ‰§è¡Œ if-elseã€é€’å½’ï¼‰</li><li><strong>å¤šä»»åŠ¡å¹¶å‘</strong>ï¼ˆå¦‚è¿è¡Œå¤šä¸ªè¿›ç¨‹ã€æ“ä½œç³»ç»Ÿè°ƒåº¦ï¼‰</li><li><strong>ä½å»¶è¿Ÿè®¡ç®—</strong>ï¼ˆå¦‚æ•°æ®åº“æŸ¥è¯¢ã€HTTP è¯·æ±‚å¤„ç†ï¼‰</li><li><strong>é€»è¾‘æ§åˆ¶å¯†é›†å‹ä»»åŠ¡</strong>ï¼ˆå¦‚æ“ä½œç³»ç»Ÿã€ç¼–è¯‘å™¨ï¼‰</li></ul><p>ğŸ”¹ <strong>ç¤ºä¾‹ï¼šCPU é€‚åˆçš„ä»»åŠ¡</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// é€’å½’è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆCPU æ“…é•¿å¤„ç†ï¼‰</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fibonacci</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br>    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> n;<br>    <span class="hljs-keyword">return</span> fibonacci(n - <span class="hljs-number">1</span>) + fibonacci(n - <span class="hljs-number">2</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="âœ…-2ï¸âƒ£-GPUï¼ˆå›¾å½¢å¤„ç†å™¨ï¼‰çš„æ¶æ„ç‰¹ç‚¹"><a href="#âœ…-2ï¸âƒ£-GPUï¼ˆå›¾å½¢å¤„ç†å™¨ï¼‰çš„æ¶æ„ç‰¹ç‚¹" class="headerlink" title="âœ… 2ï¸âƒ£ GPUï¼ˆå›¾å½¢å¤„ç†å™¨ï¼‰çš„æ¶æ„ç‰¹ç‚¹"></a><strong>âœ… 2ï¸âƒ£ GPUï¼ˆå›¾å½¢å¤„ç†å™¨ï¼‰çš„æ¶æ„ç‰¹ç‚¹</strong></h4><p>GPU çš„æ¶æ„è®¾è®¡ä¸»è¦å›´ç»•â€œé«˜ååé‡â€å’Œâ€œå¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—â€ï¼Œå®ƒçš„æ¶æ„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li>å¤§é‡å¹¶è¡Œè®¡ç®—æ ¸å¿ƒï¼ˆä¸Šåƒä¸ª CUDA æ ¸å¿ƒï¼‰</li><li>è¾ƒä½ä¸»é¢‘ï¼Œä½†æå¼ºçš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›</li><li>SIMTï¼ˆå•æŒ‡ä»¤å¤šçº¿ç¨‹ï¼‰æ¶æ„ï¼Œé€‚åˆå¤§è§„æ¨¡æ•°æ®å¹¶è¡Œ</li><li>é«˜å¸¦å®½æ˜¾å­˜ï¼ˆGDDR6&#x2F;HBMï¼‰é€‚åˆæµå¼æ•°æ®å¤„ç†</li><li>ä¼˜åŒ–çš„çŸ©é˜µè®¡ç®—å•å…ƒï¼ˆTensor Coresï¼‰ï¼Œé€‚åˆæ·±åº¦å­¦ä¹ è®­ç»ƒ<br>ğŸ“Œ GPU é€‚åˆçš„ä»»åŠ¡</li></ul><p>å¹¶è¡Œè®¡ç®—ä»»åŠ¡ï¼ˆå¦‚çŸ©é˜µè¿ç®—ã€ç‚¹äº‘å¤„ç†ï¼‰<br>æ•°æ®å¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚å›¾åƒå¤„ç†ã€ç‰©ç†ä»¿çœŸï¼‰<br>AI å’Œæ·±åº¦å­¦ä¹ ï¼ˆå¦‚ç¥ç»ç½‘ç»œè®­ç»ƒå’Œæ¨ç†ï¼‰<br>é«˜ååé‡è®¡ç®—ï¼ˆå¦‚ 3D æ¸²æŸ“ã€è§†é¢‘ç¼–è§£ç ï¼‰<br>ğŸ”¹ ç¤ºä¾‹ï¼šGPU é€‚åˆçš„ä»»åŠ¡</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// CUDA è®¡ç®—å‘é‡åŠ æ³•ï¼ˆGPU å¹¶è¡Œè®¡ç®—ï¼‰</span><br><span class="hljs-function">__global__ <span class="hljs-type">void</span> <span class="hljs-title">vectorAdd</span><span class="hljs-params">(<span class="hljs-type">float</span> *A, <span class="hljs-type">float</span> *B, <span class="hljs-type">float</span> *C, <span class="hljs-type">int</span> N)</span> </span>&#123;<br>    <span class="hljs-type">int</span> tid = threadIdx.x + blockIdx.x * blockDim.x;<br>    <span class="hljs-keyword">if</span> (tid &lt; N) &#123;<br>        C[tid] = A[tid] + B[tid];<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å¹³æ—¶å¦‚ä½•è¿›è¡Œkernelçš„ä¼˜åŒ–ï¼Œä¼šç”¨åˆ°å“ªäº›å·¥å…·ï¼Ÿ"><a href="#å¹³æ—¶å¦‚ä½•è¿›è¡Œkernelçš„ä¼˜åŒ–ï¼Œä¼šç”¨åˆ°å“ªäº›å·¥å…·ï¼Ÿ" class="headerlink" title="å¹³æ—¶å¦‚ä½•è¿›è¡Œkernelçš„ä¼˜åŒ–ï¼Œä¼šç”¨åˆ°å“ªäº›å·¥å…·ï¼Ÿ"></a>å¹³æ—¶å¦‚ä½•è¿›è¡Œkernelçš„ä¼˜åŒ–ï¼Œä¼šç”¨åˆ°å“ªäº›å·¥å…·ï¼Ÿ</h4><h5 id="CUDA-Kernel-ä¼˜åŒ–æ–¹æ³•ä¸å·¥å…·"><a href="#CUDA-Kernel-ä¼˜åŒ–æ–¹æ³•ä¸å·¥å…·" class="headerlink" title="CUDA Kernel ä¼˜åŒ–æ–¹æ³•ä¸å·¥å…·"></a>CUDA Kernel ä¼˜åŒ–æ–¹æ³•ä¸å·¥å…·</h5><h6 id="1-Kernel-ä¼˜åŒ–çš„ä¸»è¦ç­–ç•¥"><a href="#1-Kernel-ä¼˜åŒ–çš„ä¸»è¦ç­–ç•¥" class="headerlink" title="1. Kernel ä¼˜åŒ–çš„ä¸»è¦ç­–ç•¥"></a>1. Kernel ä¼˜åŒ–çš„ä¸»è¦ç­–ç•¥</h6><p>CUDA Kernel çš„ä¼˜åŒ–å¯ä»¥ä» <strong>è®¡ç®—æ•ˆç‡ã€å†…å­˜è®¿é—®æ•ˆç‡</strong> å’Œ <strong>å¹¶è¡Œåº¦</strong> ä¸‰ä¸ªæ–¹é¢è¿›è¡Œæå‡ã€‚</p><h6 id="1-1-è®¡ç®—æ•ˆç‡ä¼˜åŒ–"><a href="#1-1-è®¡ç®—æ•ˆç‡ä¼˜åŒ–" class="headerlink" title="1.1 è®¡ç®—æ•ˆç‡ä¼˜åŒ–"></a><strong>1.1 è®¡ç®—æ•ˆç‡ä¼˜åŒ–</strong></h6><p>âœ… <strong>å‡å°‘åˆ†æ”¯åˆ†æ­§ï¼ˆBranch Divergenceï¼‰</strong></p><ul><li>é¿å… <code>if-else</code> ç»“æ„å¯¼è‡´çš„ Warp çº¿ç¨‹åˆ†æ­§</li><li>ä¾‹å¦‚ï¼Œå°† <code>if</code> è¯­å¥æ”¹ä¸º<strong>æ©ç æ“ä½œ</strong><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> value = (condition) ? a : b;  <span class="hljs-comment">// é¿å… Warp å†…çº¿ç¨‹æ‰§è¡Œä¸åŒè·¯å¾„</span><br></code></pre></td></tr></table></figure>âœ… æé«˜ Warp åˆ©ç”¨ç‡</li><li>æ¯ä¸ª Warpï¼ˆ32 çº¿ç¨‹ï¼‰åº”å°½å¯èƒ½å…¨éƒ¨æ‰§è¡Œï¼Œé¿å…è®¡ç®—èµ„æºæµªè´¹</li><li>é€‰æ‹©åˆé€‚çš„ Block&#x2F;Thread ç»„ç»‡æ–¹å¼ï¼Œå¡«æ»¡ GPU è®¡ç®—å•å…ƒï¼Œç½‘æ ¼å¤§å°æ˜¯æ•°æ®é›†å¤§å°é™¤ä»¥çº¿ç¨‹å—å¤§å°çš„å•†ã€‚<br>âœ… ä½¿ç”¨å¯„å­˜å™¨ä¼˜åŒ–è®¡ç®—</li><li>å°½é‡å‡å°‘æœ¬åœ°å†…å­˜ï¼ˆLocal Memoryï¼‰ä½¿ç”¨ï¼Œé¿å…å…¨å±€å†…å­˜è®¿é—®</li><li>ä½¿ç”¨ nvcc â€“ptxas-options&#x3D;-v æ£€æŸ¥å¯„å­˜å™¨ä½¿ç”¨æƒ…å†µ<br>1.2 å†…å­˜è®¿é—®ä¼˜åŒ–<br>âœ… ä¼˜åŒ– Memory Coalescingï¼ˆå†…å­˜åˆå¹¶è®¿é—®ï¼‰</li><li>å…¨å±€å†…å­˜è®¿é—®åº”å¯¹é½ï¼Œç¡®ä¿çº¿ç¨‹æŒ‰é¡ºåºè®¿é—®è¿ç»­å†…å­˜<br>âœ… åˆ©ç”¨ Shared Memoryï¼ˆå…±äº«å†…å­˜ï¼‰</li><li>å…±äº«å†…å­˜æ¯”å…¨å±€å†…å­˜å¿« 100 å€ï¼Œé€‚åˆçº¿ç¨‹å—å†…æ•°æ®äº¤æ¢</li><li>éœ€è¦é¿å… Bank Conflictï¼ˆå­˜å‚¨ä½“å†²çªï¼‰ ä½¿ç”¨paddingè¿›è¡Œå¼‚æˆ–æ“ä½œ<br>âœ… ä½¿ç”¨ Texture Memoryï¼ˆçº¹ç†å†…å­˜ï¼‰ä¼˜åŒ–è¯»å–</li><li>é€‚ç”¨äºäºŒç»´æˆ–ä¸‰ç»´æ•°æ®è®¿é—®</li><li>çº¹ç†å†…å­˜æ”¯æŒç¼“å­˜ï¼Œæé«˜è¯»å–é€Ÿåº¦<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/*resDesc å’Œ texDesc ä»£è¡¨ä»€ä¹ˆæ„æ€ï¼Ÿ</span><br><span class="hljs-comment">resDescï¼ˆèµ„æºæè¿°ç¬¦ï¼ŒResource Descriptorï¼‰ï¼š</span><br><span class="hljs-comment">å®šä¹‰ çº¹ç†æ•°æ®çš„æ¥æºï¼ˆå¦‚ CUDA è®¾å¤‡å†…å­˜ï¼‰ã€‚</span><br><span class="hljs-comment">æŒ‡å®šæ•°æ®æ ¼å¼ï¼ˆå¦‚ cudaChannelFormatDescï¼‰ã€‚</span><br><span class="hljs-comment">texDescï¼ˆçº¹ç†æè¿°ç¬¦ï¼ŒTexture Descriptorï¼‰ï¼š</span><br><span class="hljs-comment">å®šä¹‰ çº¹ç†çš„è¡Œä¸ºï¼ˆå¦‚æ’å€¼æ¨¡å¼ã€åœ°å€æ¨¡å¼ï¼‰ã€‚</span><br><span class="hljs-comment">è®¾å®šè®¿é—®æ¨¡å¼ï¼ˆå¦‚ cudaFilterModeLinear æ”¯æŒåŒçº¿æ€§æ’å€¼ï¼‰ã€‚*/</span><br>cudaTextureObject_t texObj;<br>cudaResourceDesc resDesc;<br>cudaTextureDesc texDesc;<br>cudaArray_t d_array;<br><br><span class="hljs-comment">// 1. è®¾ç½®èµ„æºæè¿°ç¬¦</span><br><span class="hljs-built_in">memset</span>(&amp;resDesc, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(resDesc));<br>resDesc.resType = cudaResourceTypeArray;<br>resDesc.res.array.array = d_array;  <span class="hljs-comment">// ç»‘å®š CUDA æ•°ç»„</span><br><br><span class="hljs-comment">// 2. è®¾ç½®çº¹ç†æè¿°ç¬¦</span><br><span class="hljs-built_in">memset</span>(&amp;texDesc, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(texDesc));<br>texDesc.addressMode[<span class="hljs-number">0</span>] = cudaAddressModeWrap;  <span class="hljs-comment">// åœ°å€æ¨¡å¼</span><br>texDesc.addressMode[<span class="hljs-number">1</span>] = cudaAddressModeWrap;<br>texDesc.filterMode = cudaFilterModeLinear;  <span class="hljs-comment">// çº¿æ€§æ’å€¼æ¨¡å¼</span><br>texDesc.readMode = cudaReadModeElementType;  <span class="hljs-comment">// è¯»å–åŸå§‹æ•°æ®</span><br><span class="hljs-comment">// 3. åˆ›å»ºçº¹ç†å¯¹è±¡</span><br><span class="hljs-built_in">cudaCreateTextureObject</span>(&amp;texObj, &amp;resDesc, &amp;texDesc, <span class="hljs-literal">NULL</span>);<br></code></pre></td></tr></table></figure>1.3 æé«˜å¹¶è¡Œåº¦<br>âœ… è°ƒæ•´ Grid å’Œ Block å¤§å°</li><li>é€‰æ‹©åˆé€‚çš„ Block ç»´åº¦ï¼Œæé«˜ SM åˆ©ç”¨ç‡<br>ä¾‹å¦‚ï¼Œ2D ä»»åŠ¡å¯ä½¿ç”¨ dim3 gridDim, blockDim<br>âœ… ä¼˜åŒ– Kernel è®¡ç®—è´Ÿè½½</li><li>é¿å…è¿‡å¤šçš„ Kernel å¯åŠ¨å¼€é”€</li><li>å°½é‡åœ¨ Kernel å†…éƒ¨æ‰§è¡Œæ›´å¤šè®¡ç®—ï¼Œå‡å°‘ CPU-GPU äº¤äº’<br><a href="https://blog.csdn.net/LostUnravel/article/details/135721041">https://blog.csdn.net/LostUnravel/article/details/135721041</a><br>âœ… å¯¹äºblock_size<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss">æœ€å¥½æ˜¯ä¸å°äº SM ä¸Šæœ€å¤§åŒæ—¶æ‰§è¡Œçš„çº¿ç¨‹æ•°(Maximum number of resident threads per SM)å’Œæœ€å¤§åŒæ—¶æ‰§è¡Œçš„çº¿ç¨‹å—æ•°(Maximum number of resident blocks per SM)çš„æ¯”å€¼.<br>å› ä¸ºè¦å°½å¯èƒ½è®© GPU å æœ‰ç‡(Occupancy, SM ä¸Šå¹¶å‘æ‰§è¡Œçš„çº¿ç¨‹æ•°å’Œ SM ä¸Šæœ€å¤§æ”¯æŒçš„çº¿ç¨‹æ•°çš„æ¯”å€¼)è¾¾åˆ° <span class="hljs-number">100%</span><br>!<span class="hljs-selector-attr">[alt text]</span>(image.png)<br></code></pre></td></tr></table></figure><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">å¯„å­˜å™¨ã€å…±äº«å†…å­˜ç­‰èµ„æºå¯¹åº”åˆ°æ¯ä¸ªçº¿ç¨‹ä¸èƒ½è¶…è¿‡ä¸Šé™(æ¯ä¸ª <span class="hljs-built_in">block</span> çš„ <span class="hljs-number">32</span> ä½å¯„å­˜å™¨æ•°é‡, æ¯ä¸ª <span class="hljs-built_in">block</span> çš„å…±äº«å†…å­˜å¤§å°ä¸Šé™). è¿™é‡ŒæŒ‡æ˜ä¸º<span class="hljs-string">&quot;å¯¹åº”åˆ°æ¯ä¸ªçº¿ç¨‹&quot;</span>, å³æ¯ä¸ªçº¿ç¨‹æ‰€ä½¿ç”¨çš„å¯„å­˜å™¨æ•°ã€å…±äº«å†…å­˜åº”å°äºä¸Šé™/ block_size.<br></code></pre></td></tr></table></figure>âœ… å¯¹äºgrid_sizeï¼ˆæ€»çš„çº¿ç¨‹æ•°é‡ï¼‰</li><li>å…¶åº” SM æ•°é‡ * æ¯ä¸ª SM æœ€å¤§ block æ•°ä¸ª block<figure class="highlight stan"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stan">å› ä¸ºæ¯ä¸ª <span class="hljs-built_in">block</span> çš„è®¡ç®—é‡ç›¸ç­‰ï¼Œæ‰€ä»¥æ‰€æœ‰ SM åº”å‡ ä¹åŒæ—¶å®Œæˆè¿™äº› <span class="hljs-built_in">block</span> çš„è®¡ç®—ï¼Œç„¶åå¤„ç†ä¸‹ä¸€æ‰¹ï¼Œè¿™å…¶ä¸­çš„æ¯ä¸€æ‰¹è¢«ç§°ä¹‹ä¸ºä¸€ä¸ª waveã€‚æƒ³è±¡å¦‚æœ grid_size æ°å¥½æ¯”ä¸€ä¸ª wave å¤šå‡ºä¸€ä¸ª <span class="hljs-built_in">block</span>ï¼Œå› ä¸º stream ä¸Šçš„ä¸‹ä¸ª kernel è¦ç­‰è¿™ä¸ª kernel å®Œå…¨æ‰§è¡Œå®Œæˆåæ‰èƒ½å¼€å§‹æ‰§è¡Œï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ª wave å®Œæˆåï¼ŒGPU ä¸Šå°†åªæœ‰ä¸€ä¸ª <span class="hljs-built_in">block</span> åœ¨æ‰§è¡Œï¼ŒGPU çš„å®é™…åˆ©ç”¨ç‡ä¼šå¾ˆä½ï¼Œè¿™ç§æƒ…å†µè¢«ç§°ä¹‹ä¸º <span class="hljs-built_in">tail</span> effectï¼Œæˆ‘ä»¬åº”å°½é‡é¿å…è¿™ç§æƒ…å†µã€‚å°† grid_size è®¾ç½®ä¸ºç²¾ç¡®çš„ä¸€ä¸ª wave å¯èƒ½ä¹Ÿæ— æ³•é¿å… <span class="hljs-built_in">tail</span> effectï¼Œå› ä¸º GPU å¯èƒ½ä¸æ˜¯è¢«å½“å‰ stream ç‹¬å çš„ï¼Œå¸¸è§çš„å¦‚ NCCL æ‰§è¡Œæ—¶ä¼šå ç”¨ä¸€äº› SMã€‚<br></code></pre></td></tr></table></figure></li></ul><hr><h3 id="cudaçŸ©é˜µä¹˜æ³•"><a href="#cudaçŸ©é˜µä¹˜æ³•" class="headerlink" title="cudaçŸ©é˜µä¹˜æ³•"></a>cudaçŸ©é˜µä¹˜æ³•</h3><h4 id="1-åŸå§‹ç‰ˆæœ¬"><a href="#1-åŸå§‹ç‰ˆæœ¬" class="headerlink" title="1.åŸå§‹ç‰ˆæœ¬"></a>1.åŸå§‹ç‰ˆæœ¬</h4><ul><li>ç›´æ¥ä½¿ç”¨å…¨å±€å†…å­˜è¿›è¡ŒçŸ©é˜µä¹˜æ³•çš„è¿ç®—<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cuda_runtime.h&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> BLOCK_SIZE 16  <span class="hljs-comment">// çº¿ç¨‹å—å¤§å°ï¼Œæ§åˆ¶å¹¶è¡Œåº¦</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// **CUDA æ ¸å‡½æ•°**ï¼šæ‰§è¡ŒçŸ©é˜µä¹˜æ³• C = A * B</span><br><span class="hljs-function">__global__ <span class="hljs-type">void</span> <span class="hljs-title">matrixMulKernel</span><span class="hljs-params">(<span class="hljs-type">float</span> *A, <span class="hljs-type">float</span> *B, <span class="hljs-type">float</span> *C, <span class="hljs-type">int</span> N)</span> </span>&#123;<br>    <span class="hljs-comment">// è®¡ç®—å½“å‰çº¿ç¨‹åœ¨ç½‘æ ¼ä¸­çš„å…¨å±€ç´¢å¼•</span><br>    <span class="hljs-type">int</span> row = blockIdx.y * blockDim.y + threadIdx.y;<br>    <span class="hljs-type">int</span> col = blockIdx.x * blockDim.x + threadIdx.x;<br><br>    <span class="hljs-type">float</span> sum = <span class="hljs-number">0.0f</span>;<br>    <br>    <span class="hljs-comment">// **ç¡®ä¿çº¿ç¨‹ç´¢å¼•åœ¨çŸ©é˜µèŒƒå›´å†…**</span><br>    <span class="hljs-keyword">if</span> (row &lt; N &amp;&amp; col &lt; N) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; N; ++k) &#123;<br>            sum += A[row * N + k] * B[k * N + col];<br>        &#125;<br>        C[row * N + col] = sum;  <span class="hljs-comment">// èµ‹å€¼åˆ°ç»“æœçŸ©é˜µ</span><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// **ä¸»æœºç«¯ä»£ç **ï¼ˆCPU ç«¯ï¼‰</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">matrixMultiplication</span><span class="hljs-params">(<span class="hljs-type">float</span> *h_A, <span class="hljs-type">float</span> *h_B, <span class="hljs-type">float</span> *h_C, <span class="hljs-type">int</span> N)</span> </span>&#123;<br>    <span class="hljs-type">int</span> size = N * N * <span class="hljs-built_in">sizeof</span>(<span class="hljs-type">float</span>);<br>    <span class="hljs-type">float</span> *d_A, *d_B, *d_C;<br><br>    <span class="hljs-comment">// **åˆ†é… GPU å†…å­˜**</span><br>    <span class="hljs-built_in">cudaMalloc</span>((<span class="hljs-type">void</span> **)&amp;d_A, size);<br>    <span class="hljs-built_in">cudaMalloc</span>((<span class="hljs-type">void</span> **)&amp;d_B, size);<br>    <span class="hljs-built_in">cudaMalloc</span>((<span class="hljs-type">void</span> **)&amp;d_C, size);<br><br>    <span class="hljs-comment">// **å¤åˆ¶æ•°æ®åˆ° GPU**</span><br>    <span class="hljs-built_in">cudaMemcpy</span>(d_A, h_A, size, cudaMemcpyHostToDevice);<br>    <span class="hljs-built_in">cudaMemcpy</span>(d_B, h_B, size, cudaMemcpyHostToDevice);<br><br>    <span class="hljs-comment">// **è®¾ç½® CUDA çº¿ç¨‹å—å’Œç½‘æ ¼**</span><br>    <span class="hljs-function">dim3 <span class="hljs-title">threadsPerBlock</span><span class="hljs-params">(BLOCK_SIZE, BLOCK_SIZE)</span></span>;<br>    <span class="hljs-function">dim3 <span class="hljs-title">blocksPerGrid</span><span class="hljs-params">((N + BLOCK_SIZE - <span class="hljs-number">1</span>) / BLOCK_SIZE, (N + BLOCK_SIZE - <span class="hljs-number">1</span>) / BLOCK_SIZE)</span></span>;<br><br>    <span class="hljs-comment">// **è°ƒç”¨ CUDA æ ¸å‡½æ•°**</span><br>    matrixMulKernel&lt;&lt;&lt;blocksPerGrid, threadsPerBlock&gt;&gt;&gt;(d_A, d_B, d_C, N);<br>    <span class="hljs-built_in">cudaDeviceSynchronize</span>();  <span class="hljs-comment">// **ç¡®ä¿è®¡ç®—å®Œæˆ**</span><br><br>    <span class="hljs-comment">// **å°†ç»“æœå¤åˆ¶å›ä¸»æœº**</span><br>    <span class="hljs-built_in">cudaMemcpy</span>(h_C, d_C, size, cudaMemcpyDeviceToHost);<br><br>    <span class="hljs-comment">// **é‡Šæ”¾ GPU å†…å­˜**</span><br>    <span class="hljs-built_in">cudaFree</span>(d_A);<br>    <span class="hljs-built_in">cudaFree</span>(d_B);<br>    <span class="hljs-built_in">cudaFree</span>(d_C);<br>&#125;<br><br><span class="hljs-comment">// **æ‰“å°çŸ©é˜µ**</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printMatrix</span><span class="hljs-params">(<span class="hljs-type">float</span> *matrix, <span class="hljs-type">int</span> N)</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; N; ++i) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; N; ++j) &#123;<br>            cout &lt;&lt; matrix[i * N + j] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        &#125;<br>        cout &lt;&lt; endl;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// **ä¸»å‡½æ•°**</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> N = <span class="hljs-number">4</span>;  <span class="hljs-comment">// çŸ©é˜µå¤§å°</span><br>    <span class="hljs-type">int</span> size = N * N * <span class="hljs-built_in">sizeof</span>(<span class="hljs-type">float</span>);<br><br>    <span class="hljs-comment">// **åˆ†é…ä¸»æœºç«¯çŸ©é˜µ**</span><br>    <span class="hljs-type">float</span> *h_A = <span class="hljs-keyword">new</span> <span class="hljs-type">float</span>[N * N];<br>    <span class="hljs-type">float</span> *h_B = <span class="hljs-keyword">new</span> <span class="hljs-type">float</span>[N * N];<br>    <span class="hljs-type">float</span> *h_C = <span class="hljs-keyword">new</span> <span class="hljs-type">float</span>[N * N];<br><br>    <span class="hljs-comment">// **åˆå§‹åŒ–çŸ©é˜µ**</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; N * N; i++) &#123;<br>        h_A[i] = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">float</span>&gt;(<span class="hljs-built_in">rand</span>() % <span class="hljs-number">10</span>);<br>        h_B[i] = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">float</span>&gt;(<span class="hljs-built_in">rand</span>() % <span class="hljs-number">10</span>);<br>    &#125;<br><br>    cout &lt;&lt; <span class="hljs-string">&quot;Matrix A:&quot;</span> &lt;&lt; endl;<br>    <span class="hljs-built_in">printMatrix</span>(h_A, N);<br>    cout &lt;&lt; <span class="hljs-string">&quot;Matrix B:&quot;</span> &lt;&lt; endl;<br>    <span class="hljs-built_in">printMatrix</span>(h_B, N);<br><br>    <span class="hljs-comment">// **æ‰§è¡Œ CUDA çŸ©é˜µä¹˜æ³•**</span><br>    <span class="hljs-built_in">matrixMultiplication</span>(h_A, h_B, h_C, N);<br><br>    cout &lt;&lt; <span class="hljs-string">&quot;Result Matrix C = A * B:&quot;</span> &lt;&lt; endl;<br>    <span class="hljs-built_in">printMatrix</span>(h_C, N);<br><br>    <span class="hljs-comment">// **é‡Šæ”¾ä¸»æœºå†…å­˜**</span><br>    <span class="hljs-keyword">delete</span>[] h_A;<br>    <span class="hljs-keyword">delete</span>[] h_B;<br>    <span class="hljs-keyword">delete</span>[] h_C;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="2-å¢åŠ å…±äº«å†…å­˜"><a href="#2-å¢åŠ å…±äº«å†…å­˜" class="headerlink" title="2.å¢åŠ å…±äº«å†…å­˜"></a>2.å¢åŠ å…±äº«å†…å­˜</h4><ul><li>é‡‡ç”¨å…±äº«å†…å­˜è¿›è¡ŒçŸ©é˜µä¹˜æ³•çš„è¿ç®—<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// **å…±äº«å†…å­˜çš„ CUDA æ ¸å‡½æ•°**</span><br><span class="hljs-function">__global__ <span class="hljs-type">void</span> <span class="hljs-title">matrixMulShared</span><span class="hljs-params">(<span class="hljs-type">float</span> *A, <span class="hljs-type">float</span> *B, <span class="hljs-type">float</span> *C, <span class="hljs-type">int</span> N)</span> </span>&#123;<br>    <span class="hljs-comment">// **å…±äº«å†…å­˜**</span><br>    __shared__ <span class="hljs-type">float</span> Asub[BLOCK_SIZE][BLOCK_SIZE];<br>    __shared__ <span class="hljs-type">float</span> Bsub[BLOCK_SIZE][BLOCK_SIZE];<br><br>    <span class="hljs-comment">// è®¡ç®—å½“å‰çº¿ç¨‹çš„å…¨å±€ç´¢å¼•</span><br>    <span class="hljs-type">int</span> row = blockIdx.y * BLOCK_SIZE + threadIdx.y;<br>    <span class="hljs-type">int</span> col = blockIdx.x * BLOCK_SIZE + threadIdx.x;<br><br>    <span class="hljs-type">float</span> sum = <span class="hljs-number">0.0f</span>;<br><br>    <span class="hljs-comment">// **ä»¥ BLOCK_SIZE ä¸ºå•ä½ï¼Œéå† A å’Œ B çš„å­çŸ©é˜µ**</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; (N + BLOCK_SIZE - <span class="hljs-number">1</span>) / BLOCK_SIZE; ++i) &#123;<br>        <span class="hljs-comment">// **åŠ è½½ A å’Œ B çš„å­å—åˆ°å…±äº«å†…å­˜**</span><br>        <span class="hljs-keyword">if</span> (row &lt; N &amp;&amp; (i * BLOCK_SIZE + threadIdx.x) &lt; N)<br>            Asub[threadIdx.y][threadIdx.x] = A[row * N + i * BLOCK_SIZE + threadIdx.x];<br>        <span class="hljs-keyword">else</span><br>            Asub[threadIdx.y][threadIdx.x] = <span class="hljs-number">0.0f</span>;<br><br>        <span class="hljs-keyword">if</span> (col &lt; N &amp;&amp; (i * BLOCK_SIZE + threadIdx.y) &lt; N)<br>            Bsub[threadIdx.y][threadIdx.x] = B[(i * BLOCK_SIZE + threadIdx.y) * N + col];<br>        <span class="hljs-keyword">else</span><br>            Bsub[threadIdx.y][threadIdx.x] = <span class="hljs-number">0.0f</span>;<br><br>        __syncthreads();  <span class="hljs-comment">// **åŒæ­¥çº¿ç¨‹ï¼Œç¡®ä¿æ‰€æœ‰çº¿ç¨‹éƒ½åŠ è½½å®Œæˆ**</span><br><br>        <span class="hljs-comment">// **è®¡ç®—å½“å‰ C[row, col]**</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; BLOCK_SIZE; ++k)<br>            sum += Asub[threadIdx.y][k] * Bsub[k][threadIdx.x];<br><br>        __syncthreads();  <span class="hljs-comment">// **ç¡®ä¿è®¡ç®—å®Œæˆåå†åŠ è½½æ–°çš„æ•°æ®**</span><br>    &#125;<br><br>    <span class="hljs-comment">// **å­˜å‚¨è®¡ç®—ç»“æœ**</span><br>    <span class="hljs-keyword">if</span> (row &lt; N &amp;&amp; col &lt; N)<br>        C[row * N + col] = sum;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="3-å¢åŠ å…±äº«å†…å­˜"><a href="#3-å¢åŠ å…±äº«å†…å­˜" class="headerlink" title="3.å¢åŠ å…±äº«å†…å­˜"></a>3.å¢åŠ å…±äº«å†…å­˜</h4><p>å…±äº«å†…å­˜ reduce-sum åŸºç¡€ç‰ˆæœ¬<br>æœªä¼˜åŒ–çš„ Kernel</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">__global__ <span class="hljs-type">void</span> <span class="hljs-title">reduceSumNaive</span><span class="hljs-params">(<span class="hljs-type">float</span> *d_in, <span class="hljs-type">float</span> *d_out, <span class="hljs-type">int</span> n)</span> </span>&#123;<br>    __shared__ <span class="hljs-type">float</span> sharedMem[<span class="hljs-number">1024</span>];  <span class="hljs-comment">// å…±äº«å†…å­˜</span><br>    <span class="hljs-type">int</span> tid = threadIdx.x;<br>    <span class="hljs-type">int</span> idx = blockIdx.x * blockDim.x + threadIdx.x;<br><br>    <span class="hljs-comment">// **åŠ è½½æ•°æ®åˆ°å…±äº«å†…å­˜**</span><br>    <span class="hljs-keyword">if</span> (idx &lt; n)<br>        sharedMem[tid] = d_in[idx];<br>    <span class="hljs-keyword">else</span><br>        sharedMem[tid] = <span class="hljs-number">0.0f</span>;  <span class="hljs-comment">// å¤„ç†è¶Šç•Œæƒ…å†µ</span><br><br>    __syncthreads();  <span class="hljs-comment">// ç¡®ä¿æ‰€æœ‰çº¿ç¨‹éƒ½åŠ è½½å®Œæˆ</span><br><br>    <span class="hljs-comment">// **å½’çº¦æ±‚å’Œï¼ˆæ ‡å‡† Reductionï¼‰**</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> s = blockDim.x / <span class="hljs-number">2</span>; s &gt; <span class="hljs-number">0</span>; s &gt;&gt;= <span class="hljs-number">1</span>) &#123;  <span class="hljs-comment">// s ä¾æ¬¡å‡å°‘ä¸º 512, 256, 128, ...</span><br>        <span class="hljs-keyword">if</span> (tid &lt; s) &#123;<br>            sharedMem[tid] += sharedMem[tid + s];  <span class="hljs-comment">// çº¿ç¨‹å¯¹æ•°æ®ç´¯åŠ </span><br>        &#125;<br>        __syncthreads();  <span class="hljs-comment">// ç¡®ä¿æ‰€æœ‰çº¿ç¨‹å®Œæˆ</span><br>    &#125;<br><br>    <span class="hljs-comment">// **å°†ç»“æœå­˜å›å…¨å±€å†…å­˜**</span><br>    <span class="hljs-keyword">if</span> (tid == <span class="hljs-number">0</span>) <br>        d_out[blockIdx.x] = sharedMem[<span class="hljs-number">0</span>];<br>&#125;<br></code></pre></td></tr></table></figure><p>è§£å†³ Bank Conflictï¼šäº¤é”™å­˜å‚¨ï¼ˆStrided Accessï¼‰</p><ul><li>è°ƒæ•´è®¿é—®æ¨¡å¼ï¼Œè®©ä¸åŒçº¿ç¨‹è®¿é—®ä¸åŒçš„ Bankï¼Œé¿å… Bank Conflictã€‚</li><li>ä½¿ç”¨å¯¹æ•°å½’çº¦ï¼ˆOptimized Reductionï¼‰ï¼Œå‡å°‘çº¿ç¨‹åŒæ­¥æ¬¡æ•°ã€‚<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">__global__ <span class="hljs-type">void</span> <span class="hljs-title">reduceSumOptimized</span><span class="hljs-params">(<span class="hljs-type">float</span> *d_in, <span class="hljs-type">float</span> *d_out, <span class="hljs-type">int</span> n)</span> </span>&#123;<br>    __shared__ <span class="hljs-type">float</span> sharedMem[<span class="hljs-number">1024</span>];<br><br>    <span class="hljs-type">int</span> tid = threadIdx.x;<br>    <span class="hljs-type">int</span> idx = blockIdx.x * blockDim.x + threadIdx.x;<br><br>    <span class="hljs-comment">// **äº¤é”™å­˜å‚¨ï¼Œå‡å°‘ Bank Conflict**</span><br>    <span class="hljs-keyword">if</span> (idx &lt; n)<br>        sharedMem[tid] = d_in[idx];<br>    <span class="hljs-keyword">else</span><br>        sharedMem[tid] = <span class="hljs-number">0.0f</span>;  <span class="hljs-comment">// å¤„ç†è¶Šç•Œæƒ…å†µ</span><br><br>    __syncthreads();<br><br>    <span class="hljs-comment">// **ä¼˜åŒ–çš„ Reduction**</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> s = blockDim.x / <span class="hljs-number">2</span>; s &gt; <span class="hljs-number">0</span>; s &gt;&gt;= <span class="hljs-number">1</span>) &#123;<br>        <span class="hljs-keyword">if</span> (tid &lt; s) &#123;<br>            sharedMem[tid] += sharedMem[tid + s];<br>        &#125;<br>        __syncthreads();<br>    &#125;<br><br>    <span class="hljs-comment">// **å­˜å›å…¨å±€å†…å­˜**</span><br>    <span class="hljs-keyword">if</span> (tid == <span class="hljs-number">0</span>)<br>        d_out[blockIdx.x] = sharedMem[<span class="hljs-number">0</span>];<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="è§£å†³bankå†²çªçš„å¸¸è§æ–¹æ³•"><a href="#è§£å†³bankå†²çªçš„å¸¸è§æ–¹æ³•" class="headerlink" title="è§£å†³bankå†²çªçš„å¸¸è§æ–¹æ³•"></a>è§£å†³bankå†²çªçš„å¸¸è§æ–¹æ³•</h4><ul><li>Swizzle ä¸­é‡‡ç”¨å°†ç´¢å¼•ä¸è¡Œè¿›è¡Œå¼‚æˆ–ä»è€Œæ¶ˆé™¤äº†å­˜å‚¨ä½“å†²çªå¹¶å¯¹é½äº†åœ°å€ <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">half* <span class="hljs-title">row_swizzled_layout</span><span class="hljs-params">(half* data, <span class="hljs-type">int</span> r, <span class="hljs-type">int</span> c)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">auto</span> address = (<span class="hljs-type">uint64_t</span>)&amp;data[r * columns + c];    <br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">reinterpret_cast</span>&lt;half *&gt;(address ^ (r &lt;&lt; <span class="hljs-number">2</span>));<br>&#125;<br></code></pre></td></tr></table></figure></li><li>paddingæ˜¯Bank Conflictçš„å¸¸è§è§£å†³æ–¹æ¡ˆçš„ä¸€ç§ç”¨ä¸€ä¸ªå­˜å‚¨ä½“â€œå¡«å……â€æ¯ä¸€è¡Œï¼Œä»è€Œå¼•å…¥åç§»é‡ä»¥å°†åˆ—çš„è¿ç»­å…ƒç´ ç§»åŠ¨åˆ°ä¸åŒçš„å­˜å‚¨ä½“ä¸­ã€‚è¿™æ¶ˆé™¤äº†å­˜å‚¨ä½“å†²çªï¼Œä½†ä¼šäº§ç”Ÿæœªå¯¹é½çš„åœ°å€ï¼Œä»è€Œå¹²æ‰°éœ€è¦å¯¹é½åœ°å€çš„å¿«é€ŸæŒ‡ä»¤ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>cudaå…«è‚¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é«˜æ€§èƒ½è®¡ç®—å²—ä½-cudaçŸ©é˜µè½¬ç½®</title>
    <link href="/2025/03/10/20250310/"/>
    <url>/2025/03/10/20250310/</url>
    
    <content type="html"><![CDATA[<h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸€ä¸ªçŸ©é˜µ <code>src</code>ï¼Œè¾“å‡ºå…¶è½¬ç½®åçš„çŸ©é˜µ <code>out</code>ã€‚<br><strong>ç¤ºä¾‹</strong>:<br>è¾“å…¥ï¼š</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span> <span class="hljs-number">6</span><br><span class="hljs-symbol">7 </span><span class="hljs-number">8</span> <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">4</span> <span class="hljs-number">7</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">5</span> <span class="hljs-number">8</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">6</span> <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><hr><h3 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>åœ¨çŸ©é˜µè½¬ç½®ä¸­ï¼ŒåŸçŸ©é˜µä¸­ä½äºç¬¬ <code>i</code> è¡Œç¬¬ <code>j</code> åˆ—çš„å…ƒç´ ï¼Œå¯¹åº”åˆ°è½¬ç½®åçš„çŸ©é˜µä¸­å°±æ˜¯ç¬¬ <code>j</code> è¡Œç¬¬ <code>i</code> åˆ—çš„ä½ç½®ã€‚å› æ­¤ï¼Œé€šè¿‡ç®€å•åœ°å°†ç´¢å¼•å¯¹è°ƒå³å¯å®ŒæˆçŸ©é˜µè½¬ç½®ã€‚</p><p>CUDA çš„å®ç°åˆ™éœ€è¦å°†æ¯ä¸ªçº¿ç¨‹æ˜ å°„åˆ°çŸ©é˜µä¸­çš„ä¸€ä¸ªå…ƒç´ ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>æ¯ä¸ªçº¿ç¨‹è·å–è‡ªèº«çš„å…¨å±€ç´¢å¼•ã€‚</li><li>æ£€æŸ¥ç´¢å¼•æ˜¯å¦è¶Šç•Œï¼ˆç¡®ä¿çº¿ç¨‹å¯¹åº”çš„ç´¢å¼•åœ¨çŸ©é˜µèŒƒå›´å†…ï¼‰ã€‚</li><li>æ ¹æ®ç´¢å¼•è®¡ç®—å‡ºåŸçŸ©é˜µå…ƒç´ çš„ä½ç½®ï¼Œå°†å…¶å†™å…¥åˆ°è½¬ç½®çŸ©é˜µçš„æ­£ç¡®ä½ç½®ã€‚</li></ol><hr><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><p>ä»¥ä¸‹ä»£ç æ¼”ç¤ºäº†ä¸€ä¸ªç®€å•çš„ CUDA å®ç°ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ CUDA æ ¸å‡½æ•°å°†çŸ©é˜µè½¬ç½®ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;cuda_runtime.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;device_launch_parameters.h&gt;</span></span><br><br><span class="hljs-comment">// CUDA æ ¸å‡½æ•°ï¼šå®ç°çŸ©é˜µè½¬ç½®</span><br><span class="hljs-function">__global__ <span class="hljs-type">void</span> <span class="hljs-title">transposeKernel</span><span class="hljs-params">(<span class="hljs-type">int</span> *src, <span class="hljs-type">int</span>* out, <span class="hljs-type">int</span> width, <span class="hljs-type">int</span> height)</span> </span>&#123;<br>    <span class="hljs-type">int</span> tid_x = blockIdx.x * blockDim.x + threadIdx.x;<br>    <span class="hljs-type">int</span> tid_y = blockIdx.y * blockDim.y + threadIdx.y;<br>    <span class="hljs-keyword">if</span> (tid_x &lt; width &amp;&amp; tid_y &lt; height) &#123;<br>        <span class="hljs-type">int</span> input = tid_y * width + tid_x;<br>        <span class="hljs-type">int</span> output = tid_x * height + tid_y;<br>        out[output] = src[input];<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> width = <span class="hljs-number">1024</span>;<br>    <span class="hljs-type">int</span> height = <span class="hljs-number">1024</span>;<br>    <span class="hljs-type">int</span> size = width * height * <span class="hljs-built_in">sizeof</span>(<span class="hljs-type">int</span>);<br><br>    <span class="hljs-comment">// åˆ†é…ä¸»æœºå†…å­˜</span><br>    <span class="hljs-type">int</span> *src = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[width * height];<br>    <span class="hljs-type">int</span> *out = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[width * height];<br><br>    <span class="hljs-comment">// åˆ†é…è®¾å¤‡å†…å­˜</span><br>    <span class="hljs-type">int</span> *d_src, *d_out;<br>    <span class="hljs-built_in">cudaMalloc</span>((<span class="hljs-type">void</span>**)&amp;d_src, size);<br>    <span class="hljs-built_in">cudaMalloc</span>((<span class="hljs-type">void</span>**)&amp;d_out, size);<br><br>    <span class="hljs-comment">// åˆå§‹åŒ–è¾“å…¥çŸ©é˜µ</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; width * height; i++) &#123;<br>        src[i] = i;<br>    &#125;<br><br>    <span class="hljs-comment">// å°†æ•°æ®ä»ä¸»æœºæ‹·è´åˆ°è®¾å¤‡</span><br>    <span class="hljs-built_in">cudaMemcpy</span>(d_src, src, size, cudaMemcpyHostToDevice);<br><br>    <span class="hljs-comment">// é…ç½®çº¿ç¨‹å—å’Œçº¿ç¨‹ç½‘æ ¼</span><br>    <span class="hljs-function">dim3 <span class="hljs-title">block</span><span class="hljs-params">(<span class="hljs-number">32</span>, <span class="hljs-number">32</span>)</span></span>;<br>    <span class="hljs-function">dim3 <span class="hljs-title">grid</span><span class="hljs-params">((width + block.x - <span class="hljs-number">1</span>) / block.x, (height + block.y - <span class="hljs-number">1</span>) / block.y)</span></span>;<br><br>    <span class="hljs-comment">// å¯åŠ¨CUDAæ ¸å‡½æ•°</span><br>    transposeKernel&lt;&lt;&lt;grid, block&gt;&gt;&gt;(d_src, d_out, width, height);<br><br>    <span class="hljs-comment">// å°†ç»“æœä»è®¾å¤‡æ‹·è´å›ä¸»æœº</span><br>    <span class="hljs-built_in">cudaMemcpy</span>(out, d_out, size, cudaMemcpyDeviceToHost);<br><br>    <span class="hljs-comment">// æ‰“å°éƒ¨åˆ†ç»“æœè¿›è¡ŒéªŒè¯</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>        std::cout &lt;&lt; out[i] &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-comment">// é‡Šæ”¾å†…å­˜</span><br>    <span class="hljs-keyword">delete</span>[] src;<br>    <span class="hljs-keyword">delete</span>[] out;<br>    <span class="hljs-built_in">cudaFree</span>(d_src);<br>    <span class="hljs-built_in">cudaFree</span>(d_out);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>é¢è¯•æ‰‹æ’•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2025å¹´3æœˆ9æ—¥é‡‘å±±ä¸Šæœºç¬”è¯•é¢˜ç›®</title>
    <link href="/2025/03/09/20250309%E9%87%91%E5%B1%B1%E7%AC%94%E8%AF%95/"/>
    <url>/2025/03/09/20250309%E9%87%91%E5%B1%B1%E7%AC%94%E8%AF%95/</url>
    
    <content type="html"><![CDATA[<h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸€ä¸ªåŒ…å«å­—æ¯å’Œæ•°å­—çš„å­—ç¬¦ä¸² <code>str</code>ï¼Œéœ€è¦è¾“å‡ºå…¶ä¸­æœ€é•¿çš„è¿ç»­æ•°å­—å­ä¸²ã€‚<br><strong>è¾“å…¥æè¿°</strong>: ä¸€ä¸ªç”±å­—æ¯å’Œæ•°å­—ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œé•¿åº¦ä¸è¶…è¿‡255ï¼›å­—ç¬¦ä¸²ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªæ•°å­—å­—ç¬¦ï¼Œå¹¶ä¸”åªæœ‰ä¸€ä¸ªæœ€é•¿çš„æ•°å­—å­ä¸²ã€‚<br><strong>è¾“å‡ºæè¿°</strong>: æœ€é•¿çš„æ•°å­—å­ä¸²ã€‚<br><strong>ç¤ºä¾‹</strong>:<br>è¾“å…¥ï¼šabcd12345ed125ss123058789<br>è¾“å‡ºï¼š123058789</p><hr><h3 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><ol><li>åˆ©ç”¨ <code>isdigit()</code> å‡½æ•°åˆ¤æ–­å­—ç¬¦æ˜¯å¦ä¸ºæ•°å­—ã€‚  </li><li>ä½¿ç”¨æ»‘åŠ¨çª—å£æŠ€å·§ï¼Œè®°å½•æ•°å­—å­ä¸²çš„èµ·å§‹ä½ç½®åŠå…¶é•¿åº¦ã€‚  </li><li>åœ¨éå†ç»“æŸåï¼Œæ¯”è¾ƒå½“å‰è®°å½•çš„æ•°å­—å­ä¸²é•¿åº¦å’Œä¹‹å‰çš„æœ€é•¿é•¿åº¦ï¼Œæ›´æ–°æœ€é•¿çš„å­ä¸²ã€‚</li></ol><hr><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><p>ä»¥ä¸‹æ˜¯ C++ çš„å®ç°ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// è·å–æœ€é•¿æ•°å­—å­ä¸²</span><br><span class="hljs-function">string <span class="hljs-title">getMaxNumberToArray</span><span class="hljs-params">(<span class="hljs-type">const</span> string&amp; src)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n = src.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-type">int</span> maxLength = <span class="hljs-number">0</span>;       <span class="hljs-comment">// æœ€é•¿æ•°å­—å­ä¸²çš„é•¿åº¦</span><br>    <span class="hljs-type">int</span> currentLength = <span class="hljs-number">0</span>;   <span class="hljs-comment">// å½“å‰æ•°å­—å­ä¸²çš„é•¿åº¦</span><br>    <span class="hljs-type">int</span> start = <span class="hljs-number">0</span>;           <span class="hljs-comment">// å½“å‰æ•°å­—å­ä¸²çš„èµ·å§‹ä½ç½®</span><br>    <span class="hljs-type">int</span> maxStart = <span class="hljs-number">0</span>;        <span class="hljs-comment">// æœ€é•¿æ•°å­—å­ä¸²çš„èµ·å§‹ä½ç½®</span><br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-type">char</span> c = src[i];<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isdigit</span>(c))<br>        &#123;<br>            <span class="hljs-keyword">if</span> (currentLength == <span class="hljs-number">0</span>)<br>            &#123;<br>                start = i;<br>            &#125;<br>            currentLength++;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">if</span> (currentLength &gt; maxLength)<br>            &#123;<br>                maxLength = currentLength;<br>                maxStart = start;<br>            &#125;<br>            currentLength = <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// æœ€åå†æ£€æŸ¥ä¸€æ¬¡å½“å‰æ•°å­—å­ä¸²æ˜¯å¦æ˜¯æœ€é•¿</span><br>    <span class="hljs-keyword">if</span> (currentLength &gt; maxLength)<br>    &#123;<br>        maxLength = currentLength;<br>        maxStart = start;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> src.<span class="hljs-built_in">substr</span>(maxStart, maxLength);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    std::string line;<br>    <span class="hljs-built_in">getline</span>(cin,line);<br>    cout &lt;&lt; <span class="hljs-built_in">getMaxNumberToArray</span>(line) &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å¤§å‚ç¬”è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç®—æ³•æ¨¡æ¿</title>
    <link href="/2025/03/08/My-First-Note/"/>
    <url>/2025/03/08/My-First-Note/</url>
    
    <content type="html"><![CDATA[<h2 id="ç®—æ³•æ¨¡æ¿"><a href="#ç®—æ³•æ¨¡æ¿" class="headerlink" title="ç®—æ³•æ¨¡æ¿"></a>ç®—æ³•æ¨¡æ¿</h2><h3 id="äºŒåˆ†æŸ¥æ‰¾æ³•"><a href="#äºŒåˆ†æŸ¥æ‰¾æ³•" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾æ³•"></a>äºŒåˆ†æŸ¥æ‰¾æ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">searchInsert</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> right = n; <span class="hljs-comment">// æˆ‘ä»¬å®šä¹‰targetåœ¨å·¦é—­å³å¼€çš„åŒºé—´é‡Œï¼Œ[left, right)  </span><br>        <span class="hljs-keyword">while</span> (left &lt; right) &#123; <span class="hljs-comment">// å› ä¸ºleft == rightçš„æ—¶å€™ï¼Œåœ¨[left, right)æ˜¯æ— æ•ˆçš„ç©ºé—´</span><br>            <span class="hljs-type">int</span> middle = left + ((right - left) &gt;&gt; <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">if</span> (nums[middle] &gt; target) &#123;<br>                right = middle; <span class="hljs-comment">// target åœ¨å·¦åŒºé—´ï¼Œå› ä¸ºæ˜¯å·¦é—­å³å¼€çš„åŒºé—´ï¼Œnums[middle]ä¸€å®šä¸æ˜¯æˆ‘ä»¬çš„ç›®æ ‡å€¼ï¼Œæ‰€ä»¥right = middleï¼Œåœ¨[left, middle)ä¸­ç»§ç»­å¯»æ‰¾ç›®æ ‡å€¼</span><br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[middle] &lt; target) &#123;<br>                left = middle + <span class="hljs-number">1</span>; <span class="hljs-comment">// target åœ¨å³åŒºé—´ï¼Œåœ¨ [middle+1, right)ä¸­</span><br>            &#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// nums[middle] == target</span><br>                <span class="hljs-keyword">return</span> middle; <span class="hljs-comment">// æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼çš„æƒ…å†µï¼Œç›´æ¥è¿”å›ä¸‹æ ‡</span><br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> right;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h3 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">kmp</span><span class="hljs-params">(<span class="hljs-type">int</span>* next, <span class="hljs-type">const</span> string&amp; s)</span></span>&#123;<br>    next[<span class="hljs-number">0</span>] = <span class="hljs-number">-1</span>;<br>    <span class="hljs-type">int</span> j = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; s.<span class="hljs-built_in">size</span>(); i++)&#123;<br>        <span class="hljs-keyword">while</span> (j &gt;= <span class="hljs-number">0</span> &amp;&amp; s[i] != s[j + <span class="hljs-number">1</span>]) &#123;<br>            j = next[j];<br>        &#125;<br>        <span class="hljs-keyword">if</span> (s[i] == s[j + <span class="hljs-number">1</span>]) &#123;<br>            j++;<br>        &#125;<br>        next[i] = j;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h3><p>äºŒå‰æ ‘çš„å®šä¹‰ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">TreeNode</span> &#123;<br>    <span class="hljs-type">int</span> val;<br>    TreeNode *left;<br>    TreeNode *right;<br>    <span class="hljs-built_in">TreeNode</span>(<span class="hljs-type">int</span> x) : <span class="hljs-built_in">val</span>(x), <span class="hljs-built_in">left</span>(<span class="hljs-literal">NULL</span>), <span class="hljs-built_in">right</span>(<span class="hljs-literal">NULL</span>) &#123;&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="æ·±åº¦ä¼˜å…ˆéå†ï¼ˆé€’å½’ï¼‰"><a href="#æ·±åº¦ä¼˜å…ˆéå†ï¼ˆé€’å½’ï¼‰" class="headerlink" title="æ·±åº¦ä¼˜å…ˆéå†ï¼ˆé€’å½’ï¼‰"></a>æ·±åº¦ä¼˜å…ˆéå†ï¼ˆé€’å½’ï¼‰</h4><p>å‰åºéå†ï¼ˆä¸­å·¦å³ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">traversal</span><span class="hljs-params">(TreeNode* cur, vector&lt;<span class="hljs-type">int</span>&gt;&amp; vec)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (cur == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span>;<br>    vec.<span class="hljs-built_in">push_back</span>(cur-&gt;val);    <span class="hljs-comment">// ä¸­ ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¤„ç†èŠ‚ç‚¹é€»è¾‘çš„åœ°æ–¹</span><br>    <span class="hljs-built_in">traversal</span>(cur-&gt;left, vec);  <span class="hljs-comment">// å·¦</span><br>    <span class="hljs-built_in">traversal</span>(cur-&gt;right, vec); <span class="hljs-comment">// å³</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸­åºéå†ï¼ˆå·¦ä¸­å³ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">traversal</span><span class="hljs-params">(TreeNode* cur, vector&lt;<span class="hljs-type">int</span>&gt;&amp; vec)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (cur == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-built_in">traversal</span>(cur-&gt;left, vec);  <span class="hljs-comment">// å·¦</span><br>    vec.<span class="hljs-built_in">push_back</span>(cur-&gt;val);    <span class="hljs-comment">// ä¸­ ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¤„ç†èŠ‚ç‚¹é€»è¾‘çš„åœ°æ–¹</span><br>    <span class="hljs-built_in">traversal</span>(cur-&gt;right, vec); <span class="hljs-comment">// å³</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ååºéå†ï¼ˆå·¦å³ä¸­ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">traversal</span><span class="hljs-params">(TreeNode* cur, vector&lt;<span class="hljs-type">int</span>&gt;&amp; vec)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (cur == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-built_in">traversal</span>(cur-&gt;left, vec);  <span class="hljs-comment">// å·¦</span><br>    <span class="hljs-built_in">traversal</span>(cur-&gt;right, vec); <span class="hljs-comment">// å³</span><br>    vec.<span class="hljs-built_in">push_back</span>(cur-&gt;val);    <span class="hljs-comment">// ä¸­ ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¤„ç†èŠ‚ç‚¹é€»è¾‘çš„åœ°æ–¹</span><br>&#125;<br></code></pre></td></tr></table></figure><h4 id="æ·±åº¦ä¼˜å…ˆéå†ï¼ˆè¿­ä»£æ³•ï¼‰"><a href="#æ·±åº¦ä¼˜å…ˆéå†ï¼ˆè¿­ä»£æ³•ï¼‰" class="headerlink" title="æ·±åº¦ä¼˜å…ˆéå†ï¼ˆè¿­ä»£æ³•ï¼‰"></a>æ·±åº¦ä¼˜å…ˆéå†ï¼ˆè¿­ä»£æ³•ï¼‰</h4><p>ç›¸å…³é¢˜è§£ï¼š<a href="https://github.com/youngyangyang04/leetcode/blob/master/problems/0094.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86.md">0094.äºŒå‰æ ‘çš„ä¸­åºéå†</a></p><p>å‰åºéå†ï¼ˆä¸­å·¦å³ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">preorderTraversal</span><span class="hljs-params">(TreeNode* root)</span> </span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; result;<br>    stack&lt;TreeNode*&gt; st;<br>    <span class="hljs-keyword">if</span> (root != <span class="hljs-literal">NULL</span>) st.<span class="hljs-built_in">push</span>(root);<br>    <span class="hljs-keyword">while</span> (!st.<span class="hljs-built_in">empty</span>()) &#123;<br>        TreeNode* node = st.<span class="hljs-built_in">top</span>();<br>        <span class="hljs-keyword">if</span> (node != <span class="hljs-literal">NULL</span>) &#123;<br>            st.<span class="hljs-built_in">pop</span>();<br>            <span class="hljs-keyword">if</span> (node-&gt;right) st.<span class="hljs-built_in">push</span>(node-&gt;right);  <span class="hljs-comment">// å³</span><br>            <span class="hljs-keyword">if</span> (node-&gt;left) st.<span class="hljs-built_in">push</span>(node-&gt;left);    <span class="hljs-comment">// å·¦</span><br>            st.<span class="hljs-built_in">push</span>(node);                          <span class="hljs-comment">// ä¸­</span><br>            st.<span class="hljs-built_in">push</span>(<span class="hljs-literal">NULL</span>);                          <br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            st.<span class="hljs-built_in">pop</span>();<br>            node = st.<span class="hljs-built_in">top</span>();<br>            st.<span class="hljs-built_in">pop</span>();<br>            result.<span class="hljs-built_in">push_back</span>(node-&gt;val);            <span class="hljs-comment">// èŠ‚ç‚¹å¤„ç†é€»è¾‘</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>ä¸­åºéå†ï¼ˆå·¦ä¸­å³ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">inorderTraversal</span><span class="hljs-params">(TreeNode* root)</span> </span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; result; <span class="hljs-comment">// å­˜æ”¾ä¸­åºéå†çš„å…ƒç´ </span><br>    stack&lt;TreeNode*&gt; st;<br>    <span class="hljs-keyword">if</span> (root != <span class="hljs-literal">NULL</span>) st.<span class="hljs-built_in">push</span>(root);<br>    <span class="hljs-keyword">while</span> (!st.<span class="hljs-built_in">empty</span>()) &#123;<br>        TreeNode* node = st.<span class="hljs-built_in">top</span>();<br>        <span class="hljs-keyword">if</span> (node != <span class="hljs-literal">NULL</span>) &#123;<br>            st.<span class="hljs-built_in">pop</span>(); <br>            <span class="hljs-keyword">if</span> (node-&gt;right) st.<span class="hljs-built_in">push</span>(node-&gt;right);  <span class="hljs-comment">// å³</span><br>            st.<span class="hljs-built_in">push</span>(node);                          <span class="hljs-comment">// ä¸­</span><br>            st.<span class="hljs-built_in">push</span>(<span class="hljs-literal">NULL</span>); <br>            <span class="hljs-keyword">if</span> (node-&gt;left) st.<span class="hljs-built_in">push</span>(node-&gt;left);    <span class="hljs-comment">// å·¦</span><br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            st.<span class="hljs-built_in">pop</span>(); <br>            node = st.<span class="hljs-built_in">top</span>(); <br>            st.<span class="hljs-built_in">pop</span>();<br>            result.<span class="hljs-built_in">push_back</span>(node-&gt;val);            <span class="hljs-comment">// èŠ‚ç‚¹å¤„ç†é€»è¾‘</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure><p>ååºéå†ï¼ˆå·¦å³ä¸­ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">postorderTraversal</span><span class="hljs-params">(TreeNode* root)</span> </span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; result;<br>    stack&lt;TreeNode*&gt; st;<br>    <span class="hljs-keyword">if</span> (root != <span class="hljs-literal">NULL</span>) st.<span class="hljs-built_in">push</span>(root);<br>    <span class="hljs-keyword">while</span> (!st.<span class="hljs-built_in">empty</span>()) &#123;<br>        TreeNode* node = st.<span class="hljs-built_in">top</span>();<br>        <span class="hljs-keyword">if</span> (node != <span class="hljs-literal">NULL</span>) &#123;<br>            st.<span class="hljs-built_in">pop</span>();<br>            st.<span class="hljs-built_in">push</span>(node);                          <span class="hljs-comment">// ä¸­</span><br>            st.<span class="hljs-built_in">push</span>(<span class="hljs-literal">NULL</span>);<br>            <span class="hljs-keyword">if</span> (node-&gt;right) st.<span class="hljs-built_in">push</span>(node-&gt;right);  <span class="hljs-comment">// å³</span><br>            <span class="hljs-keyword">if</span> (node-&gt;left) st.<span class="hljs-built_in">push</span>(node-&gt;left);    <span class="hljs-comment">// å·¦</span><br><br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            st.<span class="hljs-built_in">pop</span>();<br>            node = st.<span class="hljs-built_in">top</span>();<br>            st.<span class="hljs-built_in">pop</span>();<br>            result.<span class="hljs-built_in">push_back</span>(node-&gt;val);            <span class="hljs-comment">// èŠ‚ç‚¹å¤„ç†é€»è¾‘</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å¹¿åº¦ä¼˜å…ˆéå†ï¼ˆé˜Ÿåˆ—ï¼‰"><a href="#å¹¿åº¦ä¼˜å…ˆéå†ï¼ˆé˜Ÿåˆ—ï¼‰" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆéå†ï¼ˆé˜Ÿåˆ—ï¼‰"></a>å¹¿åº¦ä¼˜å…ˆéå†ï¼ˆé˜Ÿåˆ—ï¼‰</h4><p>ç›¸å…³é¢˜è§£ï¼š<a href="https://programmercarl.com/0102.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.html">0102.äºŒå‰æ ‘çš„å±‚åºéå†</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs CPP">vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">levelOrder</span>(TreeNode* root) &#123;<br>    queue&lt;TreeNode*&gt; que;<br>    <span class="hljs-keyword">if</span> (root != <span class="hljs-literal">NULL</span>) que.<span class="hljs-built_in">push</span>(root);<br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; result;<br>    <span class="hljs-keyword">while</span> (!que.<span class="hljs-built_in">empty</span>()) &#123;<br>        <span class="hljs-type">int</span> size = que.<span class="hljs-built_in">size</span>();<br>        vector&lt;<span class="hljs-type">int</span>&gt; vec;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<span class="hljs-comment">// è¿™é‡Œä¸€å®šè¦ä½¿ç”¨å›ºå®šå¤§å°sizeï¼Œä¸è¦ä½¿ç”¨que.size()</span><br>            TreeNode* node = que.<span class="hljs-built_in">front</span>();<br>            que.<span class="hljs-built_in">pop</span>();<br>            vec.<span class="hljs-built_in">push_back</span>(node-&gt;val);   <span class="hljs-comment">// èŠ‚ç‚¹å¤„ç†çš„é€»è¾‘</span><br>            <span class="hljs-keyword">if</span> (node-&gt;left) que.<span class="hljs-built_in">push</span>(node-&gt;left);<br>            <span class="hljs-keyword">if</span> (node-&gt;right) que.<span class="hljs-built_in">push</span>(node-&gt;right);<br>        &#125;<br>        result.<span class="hljs-built_in">push_back</span>(vec);<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>å¯ä»¥ç›´æ¥è§£å†³å¦‚ä¸‹é¢˜ç›®ï¼š</p><ul><li><p><a href="https://programmercarl.com/0102.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.html">0102.äºŒå‰æ ‘çš„å±‚åºéå†</a></p></li><li><p><a href="https://github.com/youngyangyang04/leetcode/blob/master/problems/0199.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%8F%B3%E8%A7%86%E5%9B%BE.md">0199.äºŒå‰æ ‘çš„å³è§†å›¾</a></p></li><li><p><a href="https://github.com/youngyangyang04/leetcode/blob/master/problems/0637.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%B9%B3%E5%9D%87%E5%80%BC.md">0637.äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼</a> </p></li><li><p><a href="https://programmercarl.com/0104.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E5%A4%A7%E6%B7%B1%E5%BA%A6.html">0104.äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ ï¼ˆè¿­ä»£æ³•ï¼‰</a></p></li><li><p><a href="https://programmercarl.com/0111.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E5%B0%8F%E6%B7%B1%E5%BA%A6.html">0111.äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ï¼ˆè¿­ä»£æ³•ï¼‰</a></p></li><li><p><a href="https://programmercarl.com/0222.%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E8%8A%82%E7%82%B9%E4%B8%AA%E6%95%B0.html">0222.å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼ˆè¿­ä»£æ³•ï¼‰</a></p></li></ul><h4 id="äºŒå‰æ ‘æ·±åº¦"><a href="#äºŒå‰æ ‘æ·±åº¦" class="headerlink" title="äºŒå‰æ ‘æ·±åº¦"></a>äºŒå‰æ ‘æ·±åº¦</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getDepth</span><span class="hljs-params">(TreeNode* node)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + <span class="hljs-built_in">max</span>(<span class="hljs-built_in">getDepth</span>(node-&gt;left), <span class="hljs-built_in">getDepth</span>(node-&gt;right));<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="äºŒå‰æ ‘èŠ‚ç‚¹æ•°é‡"><a href="#äºŒå‰æ ‘èŠ‚ç‚¹æ•°é‡" class="headerlink" title="äºŒå‰æ ‘èŠ‚ç‚¹æ•°é‡"></a>äºŒå‰æ ‘èŠ‚ç‚¹æ•°é‡</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">countNodes</span><span class="hljs-params">(TreeNode* root)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + <span class="hljs-built_in">countNodes</span>(root-&gt;left) + <span class="hljs-built_in">countNodes</span>(root-&gt;right);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å›æº¯ç®—æ³•"><a href="#å›æº¯ç®—æ³•" class="headerlink" title="å›æº¯ç®—æ³•"></a>å›æº¯ç®—æ³•</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">backtracking</span><span class="hljs-params">(å‚æ•°)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (ç»ˆæ­¢æ¡ä»¶) &#123;<br>        å­˜æ”¾ç»“æœ;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (é€‰æ‹©ï¼šæœ¬å±‚é›†åˆä¸­å…ƒç´ ï¼ˆæ ‘ä¸­èŠ‚ç‚¹å­©å­çš„æ•°é‡å°±æ˜¯é›†åˆçš„å¤§å°ï¼‰) &#123;<br>        å¤„ç†èŠ‚ç‚¹;<br>        <span class="hljs-built_in">backtracking</span>(è·¯å¾„ï¼Œé€‰æ‹©åˆ—è¡¨); <span class="hljs-comment">// é€’å½’</span><br>        å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-type">int</span> n = <span class="hljs-number">1005</span>; <span class="hljs-comment">// æ ¹æ®é¢˜æ„è€Œå®š </span><br><span class="hljs-type">int</span> father[<span class="hljs-number">1005</span>];<br><br><span class="hljs-comment">// å¹¶æŸ¥é›†åˆå§‹åŒ–</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>        father[i] = i;<br>    &#125;<br>&#125;<br><span class="hljs-comment">// å¹¶æŸ¥é›†é‡Œå¯»æ ¹çš„è¿‡ç¨‹</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">int</span> u)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> u == father[u] ? u : father[u] = <span class="hljs-built_in">find</span>(father[u]);<br>&#125;<br><span class="hljs-comment">// å°†v-&gt;u è¿™æ¡è¾¹åŠ å…¥å¹¶æŸ¥é›†</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">join</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> v)</span> </span>&#123;<br>    u = <span class="hljs-built_in">find</span>(u);<br>    v = <span class="hljs-built_in">find</span>(v);<br>    <span class="hljs-keyword">if</span> (u == v) <span class="hljs-keyword">return</span> ;<br>    father[v] = u;<br>&#125;<br><span class="hljs-comment">// åˆ¤æ–­ u å’Œ væ˜¯å¦æ‰¾åˆ°åŒä¸€ä¸ªæ ¹</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">same</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> v)</span> </span>&#123;<br>    u = <span class="hljs-built_in">find</span>(u);<br>    v = <span class="hljs-built_in">find</span>(v);<br>    <span class="hljs-keyword">return</span> u == v;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å¤§å‚ç¬”è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>note</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
